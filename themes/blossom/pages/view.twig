{% extends "layouts/default.twig" %}

{% block content %}
{% if not post.prev.no_results %}
<div role="navigation" class="prev traversal">
<a href="{{ post.prev.url() }}">{{ "Next post" | translate }}</a>
</div>
{% endif %}
{% include "feathers/" ~ post.feather ~ ".twig" %}
{% if not post.next.no_results %}
<div role="navigation" class="next traversal">
<a href="{{ post.next.url() }}">{{ "Previous post" | translate }}</a>
</div>
{% endif %}
{% if module_enabled("comments") and (post.comment_count > 0 or post.commentable) %}
<article role="complementary" class="commentary">
<ol id="comments" class="comments paginated" data-post="{{ post.id }}" data-timestamp="{{ post.latest_comment }}">
{% set comments = paginate(post.comments, site.comments_per_page, "comments") %}
{% for comment in comments.paginated %}
{% include "content/comment.twig" %}
{% endfor %}
<li id="comment_shim"></li>{# Needed for AJAX commenting. #}
{% if post.commentable %}
<li class="comment_form">
{% include "forms/comment/new.twig" %}
</li>
{% endif %}
</ol>
</article>
<div class="comments_pagination traversal">
{{ comments.next_link( ("Newer comments" | translate), null, null, "comments") }}
{{ comments.prev_link( ("Older comments" | translate), null, null, "comments") }}
</div>
{% endif %}
{% endblock %}
