(()=>{var __webpack_modules__={74:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>SystemExternal});var _variables_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(714),_lib_external_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(268);const windowSupported=!("undefined"==typeof window),documentSupported=windowSupported&&!(void 0===window.document),webworker=!("undefined"==typeof DedicatedWorkerGlobalScope),nodeRequire=()=>{try{return eval("require")}catch(e){return e=>null}},SystemExternal={extRequire:e=>"undefined"!=typeof process&&"undefined"!=typeof require?nodeRequire()(e):null,windowSupported,documentSupported,webworker,xmldom:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Gb,document:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Al,fs:documentSupported||webworker?null:nodeRequire()("fs"),url:_variables_js__WEBPACK_IMPORTED_MODULE_0__.u.url,jsonPath:function(){if(documentSupported||webworker)return _variables_js__WEBPACK_IMPORTED_MODULE_0__.u.url;if(process.env.SRE_JSON_PATH||global.SRE_JSON_PATH)return process.env.SRE_JSON_PATH||global.SRE_JSON_PATH;try{return nodeRequire().resolve("speech-rule-engine").replace(/sre\.js$/,"")+"mathmaps"}catch(e){}try{return nodeRequire().resolve(".").replace(/sre\.js$/,"")+"mathmaps"}catch(e){}return"undefined"!=typeof __dirname?__dirname+(__dirname.match(/lib?$/)?"/mathmaps":"/lib/mathmaps"):process.cwd()+"/lib/mathmaps"}(),xpath:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Oe}},159:(e,t,n)=>{"use strict";var r=n(870).freeze;t.XML_ENTITIES=r({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=r({Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\u{1d504}",afr:"\u{1d51e}",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",AMP:"&",amp:"&",And:"\u2a53",and:"\u2227",andand:"\u2a55",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1d538}",aopf:"\u{1d552}",ap:"\u2248",apacir:"\u2a6f",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\u{1d49c}",ascr:"\u{1d4b6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\u{1d505}",bfr:"\u{1d51f}",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\u{1d539}",bopf:"\u{1d553}",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250c",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252c",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxUL:"\u255d",boxUl:"\u255c",boxuL:"\u255b",boxul:"\u2518",boxUR:"\u255a",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256c",boxVh:"\u256b",boxvH:"\u256a",boxvh:"\u253c",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255f",boxvR:"\u255e",boxvr:"\u251c",bprime:"\u2035",Breve:"\u02d8",breve:"\u02d8",brvbar:"\xa6",Bscr:"\u212c",bscr:"\u{1d4b7}",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsol:"\\",bsolb:"\u29c5",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22d2",cap:"\u2229",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",CenterDot:"\xb7",centerdot:"\xb7",Cfr:"\u212d",cfr:"\u{1d520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",cir:"\u25cb",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",Conint:"\u222f",conint:"\u222e",ContourIntegral:"\u222e",Copf:"\u2102",copf:"\u{1d554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xa9",copy:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",Cross:"\u2a2f",cross:"\u2717",Cscr:"\u{1d49e}",cscr:"\u{1d4b8}",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",Cup:"\u22d3",cup:"\u222a",cupbrcap:"\u2a48",CupCap:"\u224d",cupcap:"\u2a46",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21a1",dArr:"\u21d3",darr:"\u2193",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21ca",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\u{1d507}",dfr:"\u{1d521}",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",Diamond:"\u22c4",diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\u{1d53b}",dopf:"\u{1d555}",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21d3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVector:"\u21bd",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295f",DownRightVector:"\u21c1",DownRightVectorBar:"\u2957",DownTee:"\u22a4",DownTeeArrow:"\u21a7",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\u{1d49f}",dscr:"\u{1d4b9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",ecir:"\u2256",Ecirc:"\xca",ecirc:"\xea",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1d508}",efr:"\u{1d522}",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1d53c}",eopf:"\u{1d556}",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212f",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\u{1d509}",ffr:"\u{1d523}",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\u{1d53d}",fopf:"\u{1d557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1d4bb}",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",ges:"\u2a7e",gescc:"\u2aa9",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\u{1d50a}",gfr:"\u{1d524}",Gg:"\u22d9",gg:"\u226b",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2aa5",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gnE:"\u2269",gne:"\u2a88",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\u{1d53e}",gopf:"\u{1d558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\u{1d4a2}",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",Gt:"\u226b",GT:">",gt:">",gtcc:"\u2aa7",gtcir:"\u2a7a",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",hArr:"\u21d4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",Hfr:"\u210c",hfr:"\u{1d525}",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",Hopf:"\u210d",hopf:"\u{1d559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210b",hscr:"\u{1d4bd}",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",Ifr:"\u2111",ifr:"\u{1d526}",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",in:"\u2208",incare:"\u2105",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",Int:"\u222c",int:"\u222b",intcal:"\u22ba",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\u{1d540}",iopf:"\u{1d55a}",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",Iscr:"\u2110",iscr:"\u{1d4be}",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1d50d}",jfr:"\u{1d527}",jmath:"\u0237",Jopf:"\u{1d541}",jopf:"\u{1d55b}",Jscr:"\u{1d4a5}",jscr:"\u{1d4bf}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\u{1d50e}",kfr:"\u{1d528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\u{1d542}",kopf:"\u{1d55c}",Kscr:"\u{1d4a6}",kscr:"\u{1d4c0}",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",Lang:"\u27ea",lang:"\u27e8",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",Larr:"\u219e",lArr:"\u21d0",larr:"\u2190",larrb:"\u21e4",larrbfs:"\u291f",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",lat:"\u2aab",lAtail:"\u291b",latail:"\u2919",late:"\u2aad",lates:"\u2aad\ufe00",lBarr:"\u290e",lbarr:"\u290c",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27e8",LeftArrow:"\u2190",Leftarrow:"\u21d0",leftarrow:"\u2190",LeftArrowBar:"\u21e4",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21c3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrow:"\u2194",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTee:"\u22a3",LeftTeeArrow:"\u21a4",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangle:"\u22b2",LeftTriangleBar:"\u29cf",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21bf",LeftUpVectorBar:"\u2958",LeftVector:"\u21bc",LeftVectorBar:"\u2952",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",les:"\u2a7d",lescc:"\u2aa8",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\u{1d50f}",lfr:"\u{1d529}",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22d8",ll:"\u226a",llarr:"\u21c7",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoust:"\u23b0",lmoustache:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lnE:"\u2268",lne:"\u2a87",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftarrow:"\u27f5",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longleftrightarrow:"\u27f7",longmapsto:"\u27fc",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",longrightarrow:"\u27f6",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\u{1d543}",lopf:"\u{1d55d}",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1d4c1}",Lsh:"\u21b0",lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226a",LT:"<",lt:"<",ltcc:"\u2aa6",ltcir:"\u2a79",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\u{1d510}",mfr:"\u{1d52a}",mho:"\u2127",micro:"\xb5",mid:"\u2223",midast:"*",midcir:"\u2af0",middot:"\xb7",minus:"\u2212",minusb:"\u229f",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\u{1d544}",mopf:"\u{1d55e}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1d4c2}",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266e",natural:"\u266e",naturals:"\u2115",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21d7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1d511}",nfr:"\u{1d52b}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nhArr:"\u21ce",nharr:"\u21ae",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlArr:"\u21cd",nlarr:"\u219a",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21cd",nleftarrow:"\u219a",nLeftrightarrow:"\u21ce",nleftrightarrow:"\u21ae",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",Nopf:"\u2115",nopf:"\u{1d55f}",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangle:"\u22ea",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangle:"\u22eb",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",npre:"\u2aaf\u0338",nprec:"\u2280",npreceq:"\u2aaf\u0338",nrArr:"\u21cf",nrarr:"\u219b",nrarrc:"\u2933\u0338",nrarrw:"\u219d\u0338",nRightarrow:"\u21cf",nrightarrow:"\u219b",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\u{1d4a9}",nscr:"\u{1d4c3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nVDash:"\u22af",nVdash:"\u22ae",nvDash:"\u22ad",nvdash:"\u22ac",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwArr:"\u21d6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",ocir:"\u229a",Ocirc:"\xd4",ocirc:"\xf4",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\u{1d512}",ofr:"\u{1d52c}",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\u{1d546}",oopf:"\u{1d560}",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",Or:"\u2a54",or:"\u2228",orarr:"\u21bb",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\u{1d4aa}",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",Otimes:"\u2a37",otimes:"\u2297",otimesas:"\u2a36",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",par:"\u2225",para:"\xb6",parallel:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\u{1d513}",pfr:"\u{1d52d}",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plus:"+",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",Popf:"\u2119",popf:"\u{1d561}",pound:"\xa3",Pr:"\u2abb",pr:"\u227a",prap:"\u2ab7",prcue:"\u227c",prE:"\u2ab3",pre:"\u2aaf",prec:"\u227a",precapprox:"\u2ab7",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",precsim:"\u227e",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportion:"\u2237",Proportional:"\u221d",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\u{1d4ab}",pscr:"\u{1d4c5}",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\u{1d514}",qfr:"\u{1d52e}",qint:"\u2a0c",Qopf:"\u211a",qopf:"\u{1d562}",qprime:"\u2057",Qscr:"\u{1d4ac}",qscr:"\u{1d4c6}",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",QUOT:'"',quot:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",Rang:"\u27eb",rang:"\u27e9",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",Rarr:"\u21a0",rArr:"\u21d2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",rAtail:"\u291c",ratail:"\u291a",ratio:"\u2236",rationals:"\u211a",RBarr:"\u2910",rBarr:"\u290f",rbarr:"\u290d",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",Re:"\u211c",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",rect:"\u25ad",REG:"\xae",reg:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",Rfr:"\u211c",rfr:"\u{1d52f}",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrow:"\u2192",Rightarrow:"\u21d2",rightarrow:"\u2192",RightArrowBar:"\u21e5",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVector:"\u21c2",RightDownVectorBar:"\u2955",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTee:"\u22a2",RightTeeArrow:"\u21a6",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangle:"\u22b3",RightTriangleBar:"\u29d0",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVector:"\u21be",RightUpVectorBar:"\u2954",RightVector:"\u21c0",RightVectorBar:"\u2953",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoust:"\u23b1",rmoustache:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",Ropf:"\u211d",ropf:"\u{1d563}",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",Rscr:"\u211b",rscr:"\u{1d4c7}",Rsh:"\u21b1",rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",Sc:"\u2abc",sc:"\u227b",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227d",scE:"\u2ab4",sce:"\u2ab0",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdot:"\u22c5",sdotb:"\u22a1",sdote:"\u2a66",searhk:"\u2925",seArr:"\u21d8",searr:"\u2198",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1d516}",sfr:"\u{1d530}",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",sol:"/",solb:"\u29c4",solbar:"\u233f",Sopf:"\u{1d54a}",sopf:"\u{1d564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25a1",Square:"\u25a1",square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squf:"\u25aa",srarr:"\u2192",Sscr:"\u{1d4ae}",sscr:"\u{1d4c8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",Sub:"\u22d0",sub:"\u2282",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",Subset:"\u22d0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succ:"\u227b",succapprox:"\u2ab8",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",Sum:"\u2211",sum:"\u2211",sung:"\u266a",Sup:"\u22d1",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",Supset:"\u22d1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swArr:"\u21d9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\u{1d517}",tfr:"\u{1d531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",Tilde:"\u223c",tilde:"\u02dc",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xd7",timesb:"\u22a0",timesbar:"\u2a31",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",top:"\u22a4",topbot:"\u2336",topcir:"\u2af1",Topf:"\u{1d54b}",topf:"\u{1d565}",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\u{1d4af}",tscr:"\u{1d4c9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",Uarr:"\u219f",uArr:"\u21d1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\u{1d518}",ufr:"\u{1d532}",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1d54c}",uopf:"\u{1d566}",UpArrow:"\u2191",Uparrow:"\u21d1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21c5",UpDownArrow:"\u2195",Updownarrow:"\u21d5",updownarrow:"\u2195",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03d2",upsi:"\u03c5",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTee:"\u22a5",UpTeeArrow:"\u21a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\u{1d4b0}",uscr:"\u{1d4ca}",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",vArr:"\u21d5",varr:"\u2195",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",Vbar:"\u2aeb",vBar:"\u2ae8",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22ab",Vdash:"\u22a9",vDash:"\u22a8",vdash:"\u22a2",Vdashl:"\u2ae6",Vee:"\u22c1",vee:"\u2228",veebar:"\u22bb",veeeq:"\u225a",vellip:"\u22ee",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\u{1d519}",vfr:"\u{1d533}",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\u{1d54d}",vopf:"\u{1d567}",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\u{1d4b1}",vscr:"\u{1d4cb}",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",Wedge:"\u22c0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1d51a}",wfr:"\u{1d534}",Wopf:"\u{1d54e}",wopf:"\u{1d568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1d4b2}",wscr:"\u{1d4cc}",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\u{1d51b}",xfr:"\u{1d535}",xhArr:"\u27fa",xharr:"\u27f7",Xi:"\u039e",xi:"\u03be",xlArr:"\u27f8",xlarr:"\u27f5",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\u{1d54f}",xopf:"\u{1d569}",xoplus:"\u2a01",xotime:"\u2a02",xrArr:"\u27f9",xrarr:"\u27f6",Xscr:"\u{1d4b3}",xscr:"\u{1d4cd}",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\u{1d51c}",yfr:"\u{1d536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1d550}",yopf:"\u{1d56a}",Yscr:"\u{1d4b4}",yscr:"\u{1d4ce}",YUcy:"\u042e",yucy:"\u044e",Yuml:"\u0178",yuml:"\xff",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",Zfr:"\u2128",zfr:"\u{1d537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",Zopf:"\u2124",zopf:"\u{1d56b}",Zscr:"\u{1d4b5}",zscr:"\u{1d4cf}",zwj:"\u200d",zwnj:"\u200c"}),t.entityMap=t.HTML_ENTITIES},268:(e,t,n)=>{"use strict";var r,o;n.d(t,{Al:()=>c,Gb:()=>a,Oe:()=>h});var i=n(546),s=n(999);const a=r||(r=n.t(i,2)),c=(new a.DOMImplementation).createDocument("",""),l=(null===(o||(o=n.t(s,2)))||void 0===(o||(o=n.t(s,2)))?void 0:s.install)||window.wgxpath.install,u=function(){const e={document:{},XPathResult:{}};return l(e),e.document.XPathResult=e.XPathResult,e.document}(),h={currentDocument:c,evaluate:u.evaluate,result:u.XPathResult,createNSResolver:u.createNSResolver}},546:(e,t,n)=>{"use strict";var r=n(870);t.assign=r.assign,t.hasDefaultHTMLNamespace=r.hasDefaultHTMLNamespace,t.isHTMLMimeType=r.isHTMLMimeType,t.isValidMimeType=r.isValidMimeType,t.MIME_TYPE=r.MIME_TYPE,t.NAMESPACE=r.NAMESPACE;var o=n(767);t.DOMException=o.DOMException,t.DOMExceptionName=o.DOMExceptionName,t.ExceptionCode=o.ExceptionCode,t.ParseError=o.ParseError;var i=n(786);t.Attr=i.Attr,t.CDATASection=i.CDATASection,t.CharacterData=i.CharacterData,t.Comment=i.Comment,t.Document=i.Document,t.DocumentFragment=i.DocumentFragment,t.DocumentType=i.DocumentType,t.DOMImplementation=i.DOMImplementation,t.Element=i.Element,t.Entity=i.Entity,t.EntityReference=i.EntityReference,t.LiveNodeList=i.LiveNodeList,t.NamedNodeMap=i.NamedNodeMap,t.Node=i.Node,t.NodeList=i.NodeList,t.Notation=i.Notation,t.ProcessingInstruction=i.ProcessingInstruction,t.Text=i.Text,t.XMLSerializer=i.XMLSerializer;var s=n(576);t.DOMParser=s.DOMParser,t.normalizeLineEndings=s.normalizeLineEndings,t.onErrorStopParsing=s.onErrorStopParsing,t.onWarningStopParsing=s.onWarningStopParsing},576:(e,t,n)=>{"use strict";var r=n(870),o=n(786),i=n(767),s=n(159),a=n(802),c=o.DOMImplementation,l=r.hasDefaultHTMLNamespace,u=r.isHTMLMimeType,h=r.isValidMimeType,d=r.MIME_TYPE,f=r.NAMESPACE,p=i.ParseError,E=a.XMLReader;function m(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028\u2029]/g,"\n")}function N(e){if(void 0===(e=e||{}).locator&&(e.locator=!0),this.assign=e.assign||r.assign,this.domHandler=e.domHandler||g,this.onError=e.onError||e.errorHandler,e.errorHandler&&"function"!=typeof e.errorHandler)throw new TypeError("errorHandler object is no longer supported, switch to onError!");e.errorHandler&&e.errorHandler("warning","The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=e.normalizeLineEndings||m,this.locator=!!e.locator,this.xmlns=this.assign(Object.create(null),e.xmlns)}function g(e){var t=e||{};this.mimeType=t.mimeType||d.XML_APPLICATION,this.defaultNamespace=t.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=t.onError}function T(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function I(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function b(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}N.prototype.parseFromString=function(e,t){if(!h(t))throw new TypeError('DOMParser.parseFromString: the provided mimeType "'+t+'" is not valid.');var n=this.assign(Object.create(null),this.xmlns),o=s.XML_ENTITIES,i=n[""]||null;l(t)?(o=s.HTML_ENTITIES,i=f.HTML):t===d.XML_SVG_IMAGE&&(i=f.SVG),n[""]=i,n.xml=n.xml||f.XML;var a=new this.domHandler({mimeType:t,defaultNamespace:i,onError:this.onError}),c=this.locator?{}:void 0;this.locator&&a.setDocumentLocator(c);var u=new E;return u.errorHandler=a,u.domBuilder=a,!r.isHTMLMimeType(t)&&"string"!=typeof e&&u.errorHandler.fatalError("source is not a string"),u.parse(this.normalizeLineEndings(String(e)),n,o),a.doc.documentElement||u.errorHandler.fatalError("missing root element"),a.doc},g.prototype={startDocument:function(){var e=new c;this.doc=u(this.mimeType)?e.createHTMLDocument(!1):e.createDocument(this.defaultNamespace,"")},startElement:function(e,t,n,r){var o=this.doc,i=o.createElementNS(e,n||t),s=r.length;b(this,i),this.currentElement=i,this.locator&&T(this.locator,i);for(var a=0;a<s;a++){e=r.getURI(a);var c=r.getValue(a),l=(n=r.getQName(a),o.createAttributeNS(e,n));this.locator&&T(r.getLocator(a),l),l.value=l.nodeValue=c,i.setAttributeNode(l)}},endElement:function(e,t,n){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&T(this.locator,n),b(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=I.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&T(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){e&&(e.lineNumber=0),this.locator=e},comment:function(e,t,n){e=I.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&T(this.locator,r),b(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n,r){var o=this.doc.implementation;if(o&&o.createDocumentType){var i=o.createDocumentType(e,t,n,r);this.locator&&T(this.locator,i),b(this,i),this.doc.doctype=i}},reportError:function(e,t){if("function"==typeof this.onError)try{this.onError(e,t,this)}catch(n){throw new p("Reporting "+e+' "'+t+'" caused '+n,this.locator)}else console.error("[xmldom "+e+"]\t"+t,function(e){if(e)return"\n@#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}(this.locator))},warning:function(e){this.reportError("warning",e)},error:function(e){this.reportError("error",e)},fatalError:function(e){throw this.reportError("fatalError",e),new p(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){g.prototype[e]=function(){return null}})),t.__DOMHandler=g,t.DOMParser=N,t.normalizeLineEndings=m,t.onErrorStopParsing=function(e){if("error"===e)throw"onErrorStopParsing"},t.onWarningStopParsing=function(){throw"onWarningStopParsing"}},714:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});class r{static ensureLocale(e,t){return r.LOCALES.get(e)?e:(console.error(`Locale ${e} does not exist! Using ${r.LOCALES.get(t)} instead.`),t)}}r.VERSION="5.0.0-beta.1",r.LOCALES=new Map([["af","Africaans"],["ca","Catalan"],["da","Danish"],["de","German"],["en","English"],["es","Spanish"],["euro","Euro"],["fr","French"],["hi","Hindi"],["it","Italian"],["ko","Korean"],["nb","Bokm\xe5l"],["nn","Nynorsk"],["sv","Swedish"],["nemeth","Nemeth"]]),r.mathjaxVersion="4.0.0",r.url="https://cdn.jsdelivr.net/npm/speech-rule-engine@"+r.VERSION+"/lib/mathmaps"},731:(e,t)=>{"use strict";function n(e){try{"function"!=typeof e&&(e=RegExp);var t=new e("\u{1d306}","u").exec("\u{1d306}");return!!t&&2===t[0].length}catch(e){}return!1}var r=n();function o(e){if("["!==e.source[0])throw new Error(e+" can not be used with chars");return e.source.slice(1,e.source.lastIndexOf("]"))}function i(e,t){if("["!==e.source[0])throw new Error("/"+e.source+"/ can not be used with chars_without");if(!t||"string"!=typeof t)throw new Error(JSON.stringify(t)+" is not a valid search");if(-1===e.source.indexOf(t))throw new Error('"'+t+'" is not is /'+e.source+"/");if("-"===t&&1!==e.source.indexOf(t))throw new Error('"'+t+'" is not at the first postion of /'+e.source+"/");return new RegExp(e.source.replace(t,""),r?"u":"")}function s(e){var t=this;return new RegExp(Array.prototype.slice.call(arguments).map((function(e){var n="string"==typeof e;if(n&&void 0===t&&"|"===e)throw new Error("use regg instead of reg to wrap expressions with `|`!");return n?e:e.source})).join(""),r?"mu":"m")}function a(e){if(0===arguments.length)throw new Error("no parameters provided");return s.apply(a,["(?:"].concat(Array.prototype.slice.call(arguments),[")"]))}var c=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/;r&&(c=s("[",o(c),"\\u{10000}-\\u{10FFFF}","]"));var l=/[\x20\x09\x0D\x0A]/,u=o(l),h=s(l,"+"),d=s(l,"*"),f=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;r&&(f=s("[",o(f),"\\u{10000}-\\u{10FFFF}","]"));var p=s("[",o(f),o(/[-.0-9\xB7]/),o(/[\u0300-\u036F\u203F-\u2040]/),"]"),E=s(f,p,"*"),m=s(p,"+"),N=s("&",E,";"),g=a(/&#[0-9]+;|&#x[0-9a-fA-F]+;/),T=a(N,"|",g),I=s("%",E,";"),b=a(s('"',a(/[^%&"]/,"|",I,"|",T),"*",'"'),"|",s("'",a(/[^%&']/,"|",I,"|",T),"*","'")),A=a('"',a(/[^<&"]/,"|",T),"*",'"',"|","'",a(/[^<&']/,"|",T),"*","'"),O=s(i(f,":"),i(p,":"),"*"),y=s(O,a(":",O),"?"),R=s("^",y,"$"),L=s("(",y,")"),C=a(/"[^"]*"|'[^']*'/),_=s(/^<\?/,"(",E,")",a(h,"(",c,"*?)"),"?",/\?>/),S=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,D=a('"',S,'*"',"|","'",i(S,"'"),"*'"),M="\x3c!--",v=s(M,a(i(c,"-"),"|",s("-",i(c,"-"))),"*","--\x3e"),w="#PCDATA",P=a(s(/\(/,d,w,a(d,/\|/,d,y),"*",d,/\)\*/),"|",s(/\(/,d,w,d,/\)/)),x=a("EMPTY","|","ANY","|",P,"|",s(/\([^>]+\)/,/[?*+]?/)),U=s("<!ELEMENT",h,a(y,"|",I),h,a(x,"|",I),d,">"),F=s("NOTATION",h,/\(/,d,E,a(d,/\|/,d,E),"*",d,/\)/),k=s(/\(/,d,m,a(d,/\|/,d,m),"*",d,/\)/),B=a(F,"|",k),q=a(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,"|",B),H=a(/#REQUIRED|#IMPLIED/,"|",a(a("#FIXED",h),"?",A)),G=s("<!ATTLIST",h,E,a(h,E,h,q,h,H),"*",d,">"),V="about:legacy-compat",Y=a('"'+V+'"',"|","'"+V+"'"),X="SYSTEM",j="PUBLIC",W=a(a(X,h,C),"|",a(j,h,D,h,C)),K=s("^",a(a(X,h,"(?<SystemLiteralOnly>",C,")"),"|",a(j,h,"(?<PubidLiteral>",D,")",h,"(?<SystemLiteral>",C,")"))),z=a(h,"NDATA",h,E),Q="<!ENTITY",$=s(Q,h,E,h,a(b,"|",a(W,z,"?")),d,">"),J=a(b,"|",W),Z=a($,"|",s(Q,h,"%",h,E,h,J,d,">")),ee=s(j,h,D),te=s("<!NOTATION",h,E,h,a(W,"|",ee),d,">"),ne=s(d,"=",d),re=/1[.]\d+/,oe=s(h,"version",ne,a("'",re,"'","|",'"',re,'"')),ie=/[A-Za-z][-A-Za-z0-9._]*/,se=s(/^<\?xml/,oe,a(h,"encoding",ne,a('"',ie,'"',"|","'",ie,"'")),"?",a(h,"standalone",ne,a("'",a("yes","|","no"),"'","|",'"',a("yes","|","no"),'"')),"?",d,/\?>/),ae=s(c,"*?",/\]\]>/),ce=s(/<!\[CDATA\[/,ae);t.chars=o,t.chars_without=i,t.detectUnicodeSupport=n,t.reg=s,t.regg=a,t.ABOUT_LEGACY_COMPAT=V,t.ABOUT_LEGACY_COMPAT_SystemLiteral=Y,t.AttlistDecl=G,t.CDATA_START="<![CDATA[",t.CDATA_END="]]>",t.CDSect=ce,t.Char=c,t.Comment=v,t.COMMENT_START=M,t.COMMENT_END="--\x3e",t.DOCTYPE_DECL_START="<!DOCTYPE",t.elementdecl=U,t.EntityDecl=Z,t.EntityValue=b,t.ExternalID=W,t.ExternalID_match=K,t.Name=E,t.NotationDecl=te,t.Reference=T,t.PEReference=I,t.PI=_,t.PUBLIC=j,t.PubidLiteral=D,t.QName=y,t.QName_exact=R,t.QName_group=L,t.S=h,t.SChar_s=u,t.S_OPT=d,t.SYSTEM=X,t.SystemLiteral=C,t.UNICODE_REPLACEMENT_CHARACTER="\ufffd",t.UNICODE_SUPPORT=r,t.XMLDecl=se},767:(e,t,n)=>{"use strict";function r(e,t){e.prototype=Object.create(Error.prototype,{constructor:{value:e},name:{value:e.name,enumerable:!0,writable:t}})}var o=n(870).freeze({Error:"Error",IndexSizeError:"IndexSizeError",DomstringSizeError:"DomstringSizeError",HierarchyRequestError:"HierarchyRequestError",WrongDocumentError:"WrongDocumentError",InvalidCharacterError:"InvalidCharacterError",NoDataAllowedError:"NoDataAllowedError",NoModificationAllowedError:"NoModificationAllowedError",NotFoundError:"NotFoundError",NotSupportedError:"NotSupportedError",InUseAttributeError:"InUseAttributeError",InvalidStateError:"InvalidStateError",SyntaxError:"SyntaxError",InvalidModificationError:"InvalidModificationError",NamespaceError:"NamespaceError",InvalidAccessError:"InvalidAccessError",ValidationError:"ValidationError",TypeMismatchError:"TypeMismatchError",SecurityError:"SecurityError",NetworkError:"NetworkError",AbortError:"AbortError",URLMismatchError:"URLMismatchError",QuotaExceededError:"QuotaExceededError",TimeoutError:"TimeoutError",InvalidNodeTypeError:"InvalidNodeTypeError",DataCloneError:"DataCloneError",EncodingError:"EncodingError",NotReadableError:"NotReadableError",UnknownError:"UnknownError",ConstraintError:"ConstraintError",DataError:"DataError",TransactionInactiveError:"TransactionInactiveError",ReadOnlyError:"ReadOnlyError",VersionError:"VersionError",OperationError:"OperationError",NotAllowedError:"NotAllowedError",OptOutError:"OptOutError"}),i=Object.keys(o);function s(e){return"number"==typeof e&&e>=1&&e<=25}function a(e,t){var n;s(e)?(this.name=i[e],this.message=t||""):(this.message=e,this.name="string"==typeof(n=t)&&n.substring(n.length-o.Error.length)===o.Error?t:o.Error),Error.captureStackTrace&&Error.captureStackTrace(this,a)}r(a,!0),Object.defineProperties(a.prototype,{code:{enumerable:!0,get:function(){var e=i.indexOf(this.name);return s(e)?e:0}}});for(var c={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},l=Object.entries(c),u=0;u<l.length;u++){a[l[u][0]]=l[u][1]}function h(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,h)}r(h),t.DOMException=a,t.DOMExceptionName=o,t.ExceptionCode=c,t.ParseError=h},786:(e,t,n)=>{"use strict";var r=n(870),o=r.find,i=r.hasDefaultHTMLNamespace,s=r.hasOwn,a=r.isHTMLMimeType,c=r.isHTMLRawTextElement,l=r.isHTMLVoidElement,u=r.MIME_TYPE,h=r.NAMESPACE,d=Symbol(),f=n(767),p=f.DOMException,E=f.DOMExceptionName,m=n(731);function N(e){if(e!==d)throw new TypeError("Illegal constructor")}function g(e){return""!==e}function T(e,t){return s(e,t)||(e[t]=!0),e}function I(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(g):[]}(e);return Object.keys(t.reduce(T,{}))}function b(e){if(!m.QName_exact.test(e))throw new p(p.INVALID_CHARACTER_ERR,'invalid character in qualified name "'+e+'"')}function A(e,t){b(t),e=e||null;var n=null,o=t;if(t.indexOf(":")>=0){var i=t.split(":");n=i[0],o=i[1]}if(null!==n&&null===e)throw new p(p.NAMESPACE_ERR,"prefix is non-null and namespace is null");if("xml"===n&&e!==r.NAMESPACE.XML)throw new p(p.NAMESPACE_ERR,'prefix is "xml" and namespace is not the XML namespace');if(("xmlns"===n||"xmlns"===t)&&e!==r.NAMESPACE.XMLNS)throw new p(p.NAMESPACE_ERR,'either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace');if(e===r.NAMESPACE.XMLNS&&"xmlns"!==n&&"xmlns"!==t)throw new p(p.NAMESPACE_ERR,'namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"');return[e,n,o]}function O(e,t){for(var n in e)s(e,n)&&(t[n]=e[n])}function y(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}r.prototype=t.prototype,O(n,r=new r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var R={},L=R.ELEMENT_NODE=1,C=R.ATTRIBUTE_NODE=2,_=R.TEXT_NODE=3,S=R.CDATA_SECTION_NODE=4,D=R.ENTITY_REFERENCE_NODE=5,M=R.ENTITY_NODE=6,v=R.PROCESSING_INSTRUCTION_NODE=7,w=R.COMMENT_NODE=8,P=R.DOCUMENT_NODE=9,x=R.DOCUMENT_TYPE_NODE=10,U=R.DOCUMENT_FRAGMENT_NODE=11,F=R.NOTATION_NODE=12,k=r.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32});function B(e,t){if(t.length<e.length)return B(t,e);var n=null;for(var r in e){if(e[r]!==t[r])return n;n=e[r]}return n}function q(e){return e.guid||(e.guid=Math.random()),e.guid}function H(){}function G(e,t){this._node=e,this._refresh=t,V(this)}function V(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(De(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var r=n.length;r in e;r++)s(e,r)&&delete e[r];O(n,e),e._inc=t}}function Y(){}function X(e,t){for(var n=0;n<e.length;){if(e[n]===t)return n;n++}}function j(e,t,n,r){if(r?t[X(t,r)]=n:(t[t.length]=n,t.length++),e){n.ownerElement=e;var o=e.ownerDocument;o&&(r&&Z(o,e,r),function(e,t,n){e&&e._inc++;var r=n.namespaceURI;r===h.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(o,e,n))}}function W(e,t,n){var r=X(t,n);if(r>=0){for(var o=t.length-1;r<=o;)t[r]=t[++r];if(t.length=o,e){var i=e.ownerDocument;i&&Z(i,e,n),n.ownerElement=null}}}function K(){}function z(e){N(e)}function Q(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function $(e,t){if(t(e))return!0;if(e=e.firstChild)do{if($(e,t))return!0}while(e=e.nextSibling)}function J(e,t){N(e);var n=t||{};this.ownerDocument=this,this.contentType=n.contentType||u.XML_APPLICATION,this.type=a(this.contentType)?"html":"xml"}function Z(e,t,n,r){e&&e._inc++,n.namespaceURI===h.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function ee(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n&&!n.nextSibling)r[r.length++]=n;else{for(var o=t.firstChild,i=0;o;)r[i++]=o,o=o.nextSibling;r.length=i,delete r[r.length]}}}function te(e,t){if(e!==t.parentNode)throw new p(p.NOT_FOUND_ERR,"child's parent is not parent");var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,ee(e.ownerDocument,e),t.parentNode=null,t.previousSibling=null,t.nextSibling=null,t}function ne(e){return e&&e.nodeType===z.DOCUMENT_TYPE_NODE}function re(e){return e&&e.nodeType===z.ELEMENT_NODE}function oe(e){return e&&e.nodeType===z.TEXT_NODE}function ie(e,t){var n=e.childNodes||[];if(o(n,re)||ne(t))return!1;var r=o(n,ne);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function se(e,t){var n=e.childNodes||[];if(o(n,(function(e){return re(e)&&e!==t})))return!1;var r=o(n,ne);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function ae(e,t,n){if(!function(e){return e&&(e.nodeType===z.DOCUMENT_NODE||e.nodeType===z.DOCUMENT_FRAGMENT_NODE||e.nodeType===z.ELEMENT_NODE)}(e))throw new p(p.HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new p(p.NOT_FOUND_ERR,"child not in parent");if(!function(e){return e&&(e.nodeType===z.CDATA_SECTION_NODE||e.nodeType===z.COMMENT_NODE||e.nodeType===z.DOCUMENT_FRAGMENT_NODE||e.nodeType===z.DOCUMENT_TYPE_NODE||e.nodeType===z.ELEMENT_NODE||e.nodeType===z.PROCESSING_INSTRUCTION_NODE||e.nodeType===z.TEXT_NODE)}(t)||ne(t)&&e.nodeType!==z.DOCUMENT_NODE)throw new p(p.HIERARCHY_REQUEST_ERR,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function ce(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===z.DOCUMENT_FRAGMENT_NODE){var s=i.filter(re);if(s.length>1||o(i,oe))throw new p(p.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(1===s.length&&!ie(e,n))throw new p(p.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(re(t)&&!ie(e,n))throw new p(p.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(ne(t)){if(o(r,ne))throw new p(p.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var a=o(r,re);if(n&&r.indexOf(a)<r.indexOf(n))throw new p(p.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!n&&a)throw new p(p.HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function le(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===z.DOCUMENT_FRAGMENT_NODE){var s=i.filter(re);if(s.length>1||o(i,oe))throw new p(p.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(1===s.length&&!se(e,n))throw new p(p.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(re(t)&&!se(e,n))throw new p(p.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(ne(t)){function c(e){return ne(e)&&e!==n}if(o(r,c))throw new p(p.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var a=o(r,re);if(n&&r.indexOf(a)<r.indexOf(n))throw new p(p.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function ue(e,t,n,r){ae(e,t,n),e.nodeType===z.DOCUMENT_NODE&&(r||ce)(e,t,n);var o=t.parentNode;if(o&&o.removeChild(t),t.nodeType===U){var i=t.firstChild;if(null==i)return t;var s=t.lastChild}else i=s=t;var a=n?n.previousSibling:e.lastChild;i.previousSibling=a,s.nextSibling=n,a?a.nextSibling=i:e.firstChild=i,null==n?e.lastChild=s:n.previousSibling=s;do{i.parentNode=e}while(i!==s&&(i=i.nextSibling));return ee(e.ownerDocument||e,e,t),t.nodeType==U&&(t.firstChild=t.lastChild=null),t}function he(e){N(e),this._nsMap=Object.create(null)}function de(e){N(e),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}function fe(e){N(e)}function pe(e){N(e)}function Ee(e){N(e)}function me(e){N(e)}function Ne(e){N(e)}function ge(e){N(e)}function Te(e){N(e)}function Ie(e){N(e)}function be(e){N(e)}function Ae(e){N(e)}function Oe(){}function ye(e){var t=[],n=this.nodeType===P&&this.documentElement||this,r=n.prefix,o=n.namespaceURI;if(o&&null==r&&null==(r=n.lookupPrefix(o)))var i=[{namespace:o,prefix:null}];return Ce(this,t,e,i),t.join("")}function Re(e,t,n){var r=e.prefix||"",o=e.namespaceURI;if(!o)return!1;if("xml"===r&&o===h.XML||o===h.XMLNS)return!1;for(var i=n.length;i--;){var s=n[i];if(s.prefix===r)return s.namespace!==o}return!0}function Le(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,Q),'"')}function Ce(e,t,n,r){r||(r=[]);var o="html"===(e.nodeType===P?e:e.ownerDocument).type;if(n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case L:var i=e.attributes,s=i.length,a=e.firstChild,u=e.tagName,d=u;if(!o&&!e.prefix&&e.namespaceURI){for(var f,p=0;p<i.length;p++)if("xmlns"===i.item(p).name){f=i.item(p).value;break}if(!f)for(var E=r.length-1;E>=0;E--){if(""===(N=r[E]).prefix&&N.namespace===e.namespaceURI){f=N.namespace;break}}if(f!==e.namespaceURI)for(E=r.length-1;E>=0;E--){var N;if((N=r[E]).namespace===e.namespaceURI){N.prefix&&(d=N.prefix+":"+u);break}}}t.push("<",d);for(var g=0;g<s;g++){"xmlns"==(T=i.item(g)).prefix?r.push({prefix:T.localName,namespace:T.value}):"xmlns"==T.nodeName&&r.push({prefix:"",namespace:T.value})}for(g=0;g<s;g++){var T,I,b;if(Re(T=i.item(g),0,r))Le(t,(I=T.prefix||"")?"xmlns:"+I:"xmlns",b=T.namespaceURI),r.push({prefix:I,namespace:b});Ce(T,t,n,r)}if(u===d&&Re(e,0,r))Le(t,(I=e.prefix||"")?"xmlns:"+I:"xmlns",b=e.namespaceURI),r.push({prefix:I,namespace:b});var A=!a;if(A&&(o||e.namespaceURI===h.HTML)&&(A=l(u)),A)t.push("/>");else{if(t.push(">"),o&&c(u))for(;a;)a.data?t.push(a.data):Ce(a,t,n,r.slice()),a=a.nextSibling;else for(;a;)Ce(a,t,n,r.slice()),a=a.nextSibling;t.push("</",d,">")}return;case P:case U:for(a=e.firstChild;a;)Ce(a,t,n,r.slice()),a=a.nextSibling;return;case C:return Le(t,e.name,e.value);case _:return t.push(e.data.replace(/[<&>]/g,Q));case S:return t.push(m.CDATA_START,e.data,m.CDATA_END);case w:return t.push(m.COMMENT_START,e.data,m.COMMENT_END);case x:var O=e.publicId,y=e.systemId;return t.push(m.DOCTYPE_DECL_START," ",e.name),O?(t.push(" ",m.PUBLIC," ",O),y&&"."!==y&&t.push(" ",y)):y&&"."!==y&&t.push(" ",m.SYSTEM," ",y),e.internalSubset&&t.push(" [",e.internalSubset,"]"),void t.push(">");case v:return t.push("<?",e.target," ",e.data,"?>");case D:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function _e(e,t,n){var r;switch(t.nodeType){case L:(r=t.cloneNode(!1)).ownerDocument=e;case U:break;case C:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var o=t.firstChild;o;)r.appendChild(_e(e,o,n)),o=o.nextSibling;return r}function Se(e,t,n){var r=new t.constructor(d);for(var o in t)if(s(t,o)){var i=t[o];"object"!=typeof i&&i!=r[o]&&(r[o]=i)}switch(t.childNodes&&(r.childNodes=new H),r.ownerDocument=e,r.nodeType){case L:var a=t.attributes,c=r.attributes=new Y,l=a.length;c._ownerElement=r;for(var u=0;u<l;u++)r.setAttributeNode(Se(e,a.item(u),!0));break;case C:n=!0}if(n)for(var h=t.firstChild;h;)r.appendChild(Se(e,h,n)),h=h.nextSibling;return r}function De(e,t,n){e[t]=n}H.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e){for(var t=[],n=0;n<this.length;n++)Ce(this[n],t,e);return t.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},H.prototype[Symbol.iterator]=function(){var e=this,t=0;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},G.prototype.item=function(e){return V(this),this[e]||null},y(G,H),Y.prototype={length:0,item:H.prototype.item,getNamedItem:function(e){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase());for(var t=0;t<this.length;){var n=this[t];if(n.nodeName===e)return n;t++}return null},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!==this._ownerElement)throw new p(p.INUSE_ATTRIBUTE_ERR);var n=this.getNamedItemNS(e.namespaceURI,e.localName);return n===e?e:(j(this._ownerElement,this,e,n),n)},setNamedItemNS:function(e){return this.setNamedItem(e)},removeNamedItem:function(e){var t=this.getNamedItem(e);if(!t)throw new p(p.NOT_FOUND_ERR,e);return W(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);if(!n)throw new p(p.NOT_FOUND_ERR,e?e+" : "+t:t);return W(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){e||(e=null);for(var n=0;n<this.length;){var r=this[n];if(r.localName===t&&r.namespaceURI===e)return r;n++}return null}},Y.prototype[Symbol.iterator]=function(){var e=this,t=0;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},K.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=u.XML_APPLICATION;e===h.HTML?r=u.XML_XHTML_APPLICATION:e===h.SVG&&(r=u.XML_SVG_IMAGE);var o=new J(d,{contentType:r});if(o.implementation=this,o.childNodes=new H,o.doctype=n||null,n&&o.appendChild(n),t){var i=o.createElementNS(e,t);o.appendChild(i)}return o},createDocumentType:function(e,t,n,r){b(e);var o=new Ne(d);return o.name=e,o.nodeName=e,o.publicId=t||"",o.systemId=n||"",o.internalSubset=r||"",o.childNodes=new H,o},createHTMLDocument:function(e){var t=new J(d,{contentType:u.HTML});if(t.implementation=this,t.childNodes=new H,!1!==e){t.doctype=this.createDocumentType("html"),t.doctype.ownerDocument=t,t.appendChild(t.doctype);var n=t.createElement("html");t.appendChild(n);var r=t.createElement("head");if(n.appendChild(r),"string"==typeof e){var o=t.createElement("title");o.appendChild(t.createTextNode(e)),r.appendChild(o)}n.appendChild(t.createElement("body"))}return t}},z.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:"about:blank",get isConnected(){var e=this.getRootNode();return e&&e.nodeType===e.DOCUMENT_NODE},contains:function(e){if(!e)return!1;var t=e;do{if(this===t)return!0;t=e.parentNode}while(t);return!1},getRootNode:function(e){var t=this;do{if(!t.parentNode)return t;t=t.parentNode}while(t)},isEqualNode:function(e){if(!e)return!1;if(this.nodeType!==e.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==e.name)return!1;if(this.publicId!==e.publicId)return!1;if(this.systemId!==e.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==e.namespaceURI)return!1;if(this.prefix!==e.prefix)return!1;if(this.localName!==e.localName)return!1;if(this.attributes.length!==e.attributes.length)return!1;for(var t=0;t<this.attributes.length;t++){var n=this.attributes.item(t);if(!n.isEqualNode(e.getAttributeNodeNS(n.namespaceURI,n.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==e.namespaceURI)return!1;if(this.localName!==e.localName)return!1;if(this.value!==e.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==e.target||this.data!==e.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==e.data)return!1}if(this.childNodes.length!==e.childNodes.length)return!1;for(t=0;t<this.childNodes.length;t++)if(!this.childNodes[t].isEqualNode(e.childNodes[t]))return!1;return!0},isSameNode:function(e){return this===e},insertBefore:function(e,t){return ue(this,e,t)},replaceChild:function(e,t){ue(this,e,t,le),t&&this.removeChild(t)},removeChild:function(e){return te(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return Se(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==_&&e.nodeType==_?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(s(n,r)&&n[r]===e)return r;t=t.nodeType==C?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&s(n,e))return n[e];t=t.nodeType==C?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)},compareDocumentPosition:function(e){if(this===e)return 0;var t=e,n=this,r=null,o=null;if(t instanceof de&&(t=(r=t).ownerElement),n instanceof de&&(n=(o=n).ownerElement,r&&t&&n===t))for(var i,s=0;i=n.attributes[s];s++){if(i===r)return k.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+k.DOCUMENT_POSITION_PRECEDING;if(i===o)return k.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+k.DOCUMENT_POSITION_FOLLOWING}if(!t||!n||n.ownerDocument!==t.ownerDocument)return k.DOCUMENT_POSITION_DISCONNECTED+k.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(q(n.ownerDocument)>q(t.ownerDocument)?k.DOCUMENT_POSITION_FOLLOWING:k.DOCUMENT_POSITION_PRECEDING);if(o&&t===n)return k.DOCUMENT_POSITION_CONTAINS+k.DOCUMENT_POSITION_PRECEDING;if(r&&t===n)return k.DOCUMENT_POSITION_CONTAINED_BY+k.DOCUMENT_POSITION_FOLLOWING;for(var a=[],c=t.parentNode;c;){if(!o&&c===n)return k.DOCUMENT_POSITION_CONTAINED_BY+k.DOCUMENT_POSITION_FOLLOWING;a.push(c),c=c.parentNode}a.reverse();for(var l=[],u=n.parentNode;u;){if(!r&&u===t)return k.DOCUMENT_POSITION_CONTAINS+k.DOCUMENT_POSITION_PRECEDING;l.push(u),u=u.parentNode}l.reverse();var h=B(a,l);for(var d in h.childNodes){var f=h.childNodes[d];if(f===n)return k.DOCUMENT_POSITION_FOLLOWING;if(f===t)return k.DOCUMENT_POSITION_PRECEDING;if(l.indexOf(f)>=0)return k.DOCUMENT_POSITION_FOLLOWING;if(a.indexOf(f)>=0)return k.DOCUMENT_POSITION_PRECEDING}return 0}},O(R,z),O(R,z.prototype),O(k,z),O(k,z.prototype),J.prototype={implementation:null,nodeName:"#document",nodeType:P,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType===U){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return ue(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===L&&(this.documentElement=e),e},removeChild:function(e){var t=te(this,e);return t===this.documentElement&&(this.documentElement=null),t},replaceChild:function(e,t){ue(this,e,t,le),e.ownerDocument=this,t&&this.removeChild(t),re(e)&&(this.documentElement=e)},importNode:function(e,t){return _e(this,e,t)},getElementById:function(e){var t=null;return $(this.documentElement,(function(n){if(n.nodeType==L&&n.getAttribute("id")==e)return t=n,!0})),t},createElement:function(e){var t=new he(d);return t.ownerDocument=this,"html"===this.type&&(e=e.toLowerCase()),i(this.contentType)&&(t.namespaceURI=h.HTML),t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new H,(t.attributes=new Y)._ownerElement=t,t},createDocumentFragment:function(){var e=new be(d);return e.ownerDocument=this,e.childNodes=new H,e},createTextNode:function(e){var t=new pe(d);return t.ownerDocument=this,t.childNodes=new H,t.appendData(e),t},createComment:function(e){var t=new Ee(d);return t.ownerDocument=this,t.childNodes=new H,t.appendData(e),t},createCDATASection:function(e){var t=new me(d);return t.ownerDocument=this,t.childNodes=new H,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Ae(d);return n.ownerDocument=this,n.childNodes=new H,n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){if(!m.QName_exact.test(e))throw new p(p.INVALID_CHARACTER_ERR,'invalid character in name "'+e+'"');return"html"===this.type&&(e=e.toLowerCase()),this._createAttribute(e)},_createAttribute:function(e){var t=new de(d);return t.ownerDocument=this,t.childNodes=new H,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){if(!m.Name.test(e))throw new p(p.INVALID_CHARACTER_ERR,'not a valid xml name "'+e+'"');if("html"===this.type)throw new p("document is an html document",E.NotSupportedError);var t=new Ie(d);return t.ownerDocument=this,t.childNodes=new H,t.nodeName=e,t},createElementNS:function(e,t){var n=A(e,t),r=new he(d),o=r.attributes=new Y;return r.childNodes=new H,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=n[0],r.prefix=n[1],r.localName=n[2],o._ownerElement=r,r},createAttributeNS:function(e,t){var n=A(e,t),r=new de(d);return r.ownerDocument=this,r.childNodes=new H,r.nodeName=t,r.name=t,r.specified=!0,r.namespaceURI=n[0],r.prefix=n[1],r.localName=n[2],r}},y(J,z),he.prototype={nodeType:L,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+":"+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return"html"===this.ownerDocument.type&&this.namespaceURI===h.HTML},hasAttributes:function(){return!(!this.attributes||!this.attributes.length)},hasAttribute:function(e){return!!this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t?t.value:null},getAttributeNode:function(e){return this._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase()),this.attributes.getNamedItem(e)},setAttribute:function(e,t){this._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase());var n=this.getAttributeNode(e);n?n.value=n.nodeValue=""+t:((n=this.ownerDocument._createAttribute(e)).value=n.nodeValue=""+t,this.setAttributeNode(n))},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n?n.value:null},setAttributeNS:function(e,t,n){var r=A(e,t)[2],o=this.getAttributeNodeNS(e,r);o?o.value=o.nodeValue=""+n:((o=this.ownerDocument.createAttributeNS(e,t)).value=o.nodeValue=""+n,this.setAttributeNode(o))},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByClassName:function(e){var t=I(e);return new G(this,(function(n){var r=[];return t.length>0&&$(n,(function(o){if(o!==n&&o.nodeType===L){var i=o.getAttribute("class");if(i){var s=e===i;if(!s){var a=I(i);s=t.every((c=a,function(e){return c&&-1!==c.indexOf(e)}))}s&&r.push(o)}}var c})),r}))},getElementsByTagName:function(e){var t="html"===(this.nodeType===P?this:this.ownerDocument).type,n=e.toLowerCase();return new G(this,(function(r){var o=[];return $(r,(function(i){i!==r&&i.nodeType===L&&(("*"===e||i.getQualifiedName()===(t&&i.namespaceURI===h.HTML?n:e))&&o.push(i))})),o}))},getElementsByTagNameNS:function(e,t){return new G(this,(function(n){var r=[];return $(n,(function(o){o===n||o.nodeType!==L||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||r.push(o)})),r}))}},J.prototype.getElementsByClassName=he.prototype.getElementsByClassName,J.prototype.getElementsByTagName=he.prototype.getElementsByTagName,J.prototype.getElementsByTagNameNS=he.prototype.getElementsByTagNameNS,y(he,z),de.prototype.nodeType=C,y(de,z),fe.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},y(fe,z),pe.prototype={nodeName:"#text",nodeType:_,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},y(pe,fe),Ee.prototype={nodeName:"#comment",nodeType:w},y(Ee,fe),me.prototype={nodeName:"#cdata-section",nodeType:S},y(me,pe),Ne.prototype.nodeType=x,y(Ne,z),ge.prototype.nodeType=F,y(ge,z),Te.prototype.nodeType=M,y(Te,z),Ie.prototype.nodeType=D,y(Ie,z),be.prototype.nodeName="#document-fragment",be.prototype.nodeType=U,y(be,z),Ae.prototype.nodeType=v,y(Ae,fe),Oe.prototype.serializeToString=function(e,t){return ye.call(e,t)},z.prototype.toString=ye;try{if(Object.defineProperty){function Me(e){switch(e.nodeType){case L:case U:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(Me(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(G.prototype,"length",{get:function(){return V(this),this.$$length}}),Object.defineProperty(z.prototype,"textContent",{get:function(){return Me(this)},set:function(e){switch(this.nodeType){case L:case U:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),De=function(e,t,n){e["$$"+t]=n}}}catch(ve){}t._updateLiveList=V,t.Attr=de,t.CDATASection=me,t.CharacterData=fe,t.Comment=Ee,t.Document=J,t.DocumentFragment=be,t.DocumentType=Ne,t.DOMImplementation=K,t.Element=he,t.Entity=Te,t.EntityReference=Ie,t.LiveNodeList=G,t.NamedNodeMap=Y,t.Node=z,t.NodeList=H,t.Notation=ge,t.Text=pe,t.ProcessingInstruction=Ae,t.XMLSerializer=Oe},802:(e,t,n)=>{"use strict";var r=n(870),o=n(731),i=n(767),s=r.isHTMLEscapableRawTextElement,a=r.isHTMLMimeType,c=r.isHTMLRawTextElement,l=r.hasOwn,u=r.NAMESPACE,h=i.ParseError,d=i.DOMException;function f(){}f.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),T(t,t=Object.create(null)),function(e,t,n,i,s){var c=a(i.mimeType);e.indexOf(o.UNICODE_REPLACEMENT_CHARACTER)>=0&&s.warning("Unicode replacement character detected, source encoding issues?");function u(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function f(e){var t=";"===e[e.length-1]?e:e+";";if(!c&&t!==e)return s.error("EntityRef: expecting ;"),e;var r=o.Reference.exec(t);if(!r||r[0].length!==t.length)return s.error("entity not matching Reference production: "+e),e;var i=t.slice(1,-1);return l(n,i)?n[i]:"#"===i.charAt(0)?u(parseInt(i.substring(1).replace("x","0x"))):(s.error("entity not found:"+e),e)}function T(t){if(t>D){var n=e.substring(D,t).replace(p,f);L&&C(D),i.characters(n,0,t-D),D=t}}var I=0,y=0,R=/\r\n?|\n|$/g,L=i.locator;function C(t,n){for(;t>=y&&(n=R.exec(e));)I=y,y=n.index+n[0].length,L.lineNumber++;L.columnNumber=t-I+1}var _=[{currentNSMap:t}],S=[],D=0;for(;;){try{var M=e.indexOf("<",D);if(M<0){if(!c&&S.length>0)return s.fatalError("unclosed xml tag(s): "+S.join(", "));if(!e.substring(D).match(/^\s*$/)){var v=i.doc,w=v.createTextNode(e.substring(D));if(v.documentElement)return s.error("Extra content at the end of the document");v.appendChild(w),i.currentElement=w}return}if(M>D){var P=e.substring(D,M);c||0!==S.length||(P=P.replace(new RegExp(o.S_OPT.source,"g"),""))&&s.error("Unexpected content outside root element: '"+P+"'"),T(M)}switch(e.charAt(M+1)){case"/":var x=e.indexOf(">",M+2),U=e.substring(M+2,x>0?x:void 0);if(!U)return s.fatalError("end tag name missing");var F=x>0&&o.reg("^",o.QName_group,o.S_OPT,"$").exec(U);if(!F)return s.fatalError('end tag name contains invalid characters: "'+U+'"');if(!i.currentElement&&!i.doc.documentElement)return;var k=S[S.length-1]||i.currentElement.tagName||i.doc.documentElement.tagName||"";if(k!==F[1]){var B=F[1].toLowerCase();if(!c||k.toLowerCase()!==B)return s.fatalError('Opening and ending tag mismatch: "'+k+'" != "'+U+'"')}var q=_.pop();S.pop();var H=q.localNSMap;if(i.endElement(q.uri,q.localName,k),H)for(var G in H)l(H,G)&&i.endPrefixMapping(G);x++;break;case"?":L&&C(M),x=A(e,M,i,s);break;case"!":L&&C(M),x=b(e,M,i,s,c);break;default:L&&C(M);var V=new O,Y=_[_.length-1].currentNSMap,X=(x=m(e,M,V,Y,f,s,c),V.length);if(V.closed||(c&&r.isHTMLVoidElement(V.tagName)?V.closed=!0:S.push(V.tagName)),L&&X){for(var j=E(L,{}),W=0;W<X;W++){var K=V[W];C(K.offset),K.locator=E(L,{})}i.locator=j,N(V,i,Y)&&_.push(V),i.locator=L}else N(V,i,Y)&&_.push(V);c&&!V.closed?x=g(e,x,V.tagName,f,i):x++}}catch(e){if(e instanceof h)throw e;if(e instanceof d)throw new h(e.name+": "+e.message,i.locator,e);s.error("element parse error: "+e),x=-1}x>D?D=x:T(Math.max(M,D)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}};var p=/&#?\w+;?/g;function E(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function m(e,t,n,r,o,i,s){function a(e,t,r){return l(n.attributeNames,e)?i.fatalError("Attribute "+e+" redefined"):!s&&t.indexOf("<")>=0?i.fatalError("Unescaped '<' not allowed in attributes values"):void n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(p,o),r)}for(var c,u=++t,h=0;;){var d=e.charAt(u);switch(d){case"=":if(1===h)c=e.slice(t,u),h=3;else{if(2!==h)throw new Error("attribute equal must after attrName");h=3}break;case"'":case'"':if(3===h||1===h){if(1===h&&(i.warning('attribute value must after "="'),c=e.slice(t,u)),t=u+1,!((u=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");a(c,f=e.slice(t,u),t-1),h=5}else{if(4!=h)throw new Error('attribute value must after "="');a(c,f=e.slice(t,u),t),i.warning('attribute "'+c+'" missed start quot('+d+")!!"),t=u+1,h=5}break;case"/":switch(h){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:h=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),0==h&&n.setTagName(e.slice(t,u)),u;case">":switch(h){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:break;case 4:case 1:"/"===(f=e.slice(t,u)).slice(-1)&&(n.closed=!0,f=f.slice(0,-1));case 2:2===h&&(f=c),4==h?(i.warning('attribute "'+f+'" missed quot(")!'),a(c,f,t)):(s||i.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),a(f,f,t));break;case 3:if(!s)return i.fatalError("AttValue: ' or \" expected")}return u;case"\x80":d=" ";default:if(d<=" ")switch(h){case 0:n.setTagName(e.slice(t,u)),h=6;break;case 1:c=e.slice(t,u),h=2;break;case 4:var f=e.slice(t,u);i.warning('attribute "'+f+'" missed quot(")!!'),a(c,f,t);case 5:h=6}else switch(h){case 2:s||i.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),a(c,c,t),t=u,h=1;break;case 5:i.warning('attribute space is required"'+c+'"!!');case 6:h=1,t=u;break;case 3:h=4,t=u;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function N(e,t,n){for(var r=e.tagName,o=null,i=e.length;i--;){var s=e[i],a=s.qName,c=s.value;if((p=a.indexOf(":"))>0)var h=s.prefix=a.slice(0,p),d=a.slice(p+1),f="xmlns"===h&&d;else d=a,h=null,f="xmlns"===a&&"";s.localName=d,!1!==f&&(null==o&&(o=Object.create(null),T(n,n=Object.create(null))),n[f]=o[f]=c,s.uri=u.XMLNS,t.startPrefixMapping(f,c))}for(i=e.length;i--;)(s=e[i]).prefix&&("xml"===s.prefix&&(s.uri=u.XML),"xmlns"!==s.prefix&&(s.uri=n[s.prefix]));var p;(p=r.indexOf(":"))>0?(h=e.prefix=r.slice(0,p),d=e.localName=r.slice(p+1)):(h=null,d=e.localName=r);var E=e.uri=n[h||""];if(t.startElement(E,d,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(E,d,r),o)for(h in o)l(o,h)&&t.endPrefixMapping(h)}function g(e,t,n,r,o){var i=s(n);if(i||c(n)){var a=e.indexOf("</"+n+">",t),l=e.substring(t+1,a);return i&&(l=l.replace(p,r)),o.characters(l,0,l.length),a}return t+1}function T(e,t){for(var n in e)l(e,n)&&(t[n]=e[n])}function I(e,t){var n=t;function r(t){return t=t||0,e.charAt(n+t)}function i(e){n+=e=e||1}function s(){return e.substring(n)}return{char:r,getIndex:function(){return n},getMatch:function(e){var t=o.reg("^",e).exec(s());return t?(i(t[0].length),t[0]):null},getSource:function(){return e},skip:i,skipBlanks:function(){for(var t=0;n<e.length;){var o=r();if(" "!==o&&"\n"!==o&&"\t"!==o&&"\r"!==o)return t;t++,i()}return-1},substringFromIndex:s,substringStartsWith:function(t){return e.substring(n,n+t.length)===t},substringStartsWithCaseInsensitive:function(t){return e.substring(n,n+t.length).toUpperCase()===t.toUpperCase()}}}function b(e,t,n,r,i){var s=I(e,t);switch(i?s.char(2).toUpperCase():s.char(2)){case"-":var a=s.getMatch(o.Comment);return a?(n.comment(a,o.COMMENT_START.length,a.length-o.COMMENT_START.length-o.COMMENT_END.length),s.getIndex()):r.fatalError("comment is not well-formed at position "+s.getIndex());case"[":var c=s.getMatch(o.CDSect);return c?i||n.currentElement?(n.startCDATA(),n.characters(c,o.CDATA_START.length,c.length-o.CDATA_START.length-o.CDATA_END.length),n.endCDATA(),s.getIndex()):r.fatalError("CDATA outside of element"):r.fatalError("Invalid CDATA starting at position "+t);case"D":if(n.doc&&n.doc.documentElement)return r.fatalError("Doctype not allowed inside or after documentElement at position "+s.getIndex());if(i?!s.substringStartsWithCaseInsensitive(o.DOCTYPE_DECL_START):!s.substringStartsWith(o.DOCTYPE_DECL_START))return r.fatalError("Expected "+o.DOCTYPE_DECL_START+" at position "+s.getIndex());if(s.skip(o.DOCTYPE_DECL_START.length),s.skipBlanks()<1)return r.fatalError("Expected whitespace after "+o.DOCTYPE_DECL_START+" at position "+s.getIndex());var l={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(l.name=s.getMatch(o.Name),!l.name)return r.fatalError("doctype name missing or contains unexpected characters at position "+s.getIndex());if(i&&"html"!==l.name.toLowerCase()&&r.warning("Unexpected DOCTYPE in HTML document at position "+s.getIndex()),s.skipBlanks(),s.substringStartsWith(o.PUBLIC)||s.substringStartsWith(o.SYSTEM)){var u=o.ExternalID_match.exec(s.substringFromIndex());if(!u)return r.fatalError("doctype external id is not well-formed at position "+s.getIndex());void 0!==u.groups.SystemLiteralOnly?l.systemId=u.groups.SystemLiteralOnly:(l.systemId=u.groups.SystemLiteral,l.publicId=u.groups.PubidLiteral),s.skip(u[0].length)}else if(i&&s.substringStartsWithCaseInsensitive(o.SYSTEM)){if(s.skip(o.SYSTEM.length),s.skipBlanks()<1)return r.fatalError("Expected whitespace after "+o.SYSTEM+" at position "+s.getIndex());if(l.systemId=s.getMatch(o.ABOUT_LEGACY_COMPAT_SystemLiteral),!l.systemId)return r.fatalError("Expected "+o.ABOUT_LEGACY_COMPAT+" in single or double quotes after "+o.SYSTEM+" at position "+s.getIndex())}return i&&l.systemId&&!o.ABOUT_LEGACY_COMPAT_SystemLiteral.test(l.systemId)&&r.warning("Unexpected doctype.systemId in HTML document at position "+s.getIndex()),i||(s.skipBlanks(),l.internalSubset=function(e,t){function n(e,t){var n=o.PI.exec(e.substringFromIndex());return n?"xml"===n[1].toLowerCase()?t.fatalError("xml declaration is only allowed at the start of the document, but found at position "+e.getIndex()):(e.skip(n[0].length),n[0]):t.fatalError("processing instruction is not well-formed at position "+e.getIndex())}var r=e.getSource();if("["===e.char()){e.skip(1);for(var i=e.getIndex();e.getIndex()<r.length;){if(e.skipBlanks(),"]"===e.char()){var s=r.substring(i,e.getIndex());return e.skip(1),s}var a=null;if("<"===e.char()&&"!"===e.char(1))switch(e.char(2)){case"E":"L"===e.char(3)?a=e.getMatch(o.elementdecl):"N"===e.char(3)&&(a=e.getMatch(o.EntityDecl));break;case"A":a=e.getMatch(o.AttlistDecl);break;case"N":a=e.getMatch(o.NotationDecl);break;case"-":a=e.getMatch(o.Comment)}else if("<"===e.char()&&"?"===e.char(1))a=n(e,t);else{if("%"!==e.char())return t.fatalError("Error detected in Markup declaration");a=e.getMatch(o.PEReference)}if(!a)return t.fatalError("Error in internal subset at position "+e.getIndex())}return t.fatalError("doctype internal subset is not well-formed, missing ]")}}(s,r)),s.skipBlanks(),">"!==s.char()?r.fatalError("doctype not terminated with > at position "+s.getIndex()):(s.skip(1),n.startDTD(l.name,l.publicId,l.systemId,l.internalSubset),n.endDTD(),s.getIndex());default:return r.fatalError('Not well-formed XML starting with "<!" at position '+t)}}function A(e,t,n,r){var i=e.substring(t).match(o.PI);if(!i)return r.fatalError("Invalid processing instruction starting at position "+t);if("xml"===i[1].toLowerCase()){if(t>0)return r.fatalError("processing instruction at position "+t+" is an xml declaration which is only at the start of the document");if(!o.XMLDecl.test(e.substring(t)))return r.fatalError("xml declaration is not well-formed")}return n.processingInstruction(i[1],i[2]),t+i[0].length}function O(){this.attributeNames=Object.create(null)}O.prototype={setTagName:function(e){if(!o.QName_exact.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!o.QName_exact.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=f,t.parseUtils=I,t.parseDoctypeCommentOrCData=b},870:(e,t)=>{"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.getOwnPropertyDescriptors&&(e=t.create(null,t.getOwnPropertyDescriptors(e))),t&&"function"==typeof t.freeze?t.freeze(e):e}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var o=n({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0});var i=n({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});var s=n({script:!1,style:!1,textarea:!0,title:!0});function a(e){return e===c.HTML}var c=n({HTML:"text/html",XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),l=Object.keys(c).map((function(e){return c[e]}));var u=n({HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)r(t,n)&&(e[n]=t[n]);return e},t.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var o=0;o<e.length;o++)if(r(e,o)){var i=e[o];if(t.call(void 0,i,o,e))return i}},t.freeze=n,t.HTML_BOOLEAN_ATTRIBUTES=o,t.HTML_RAW_TEXT_ELEMENTS=s,t.HTML_VOID_ELEMENTS=i,t.hasDefaultHTMLNamespace=function(e){return a(e)||e===c.XML_XHTML_APPLICATION},t.hasOwn=r,t.isHTMLBooleanAttribute=function(e){return r(o,e.toLowerCase())},t.isHTMLRawTextElement=function(e){var t=e.toLowerCase();return r(s,t)&&!s[t]},t.isHTMLEscapableRawTextElement=function(e){var t=e.toLowerCase();return r(s,t)&&s[t]},t.isHTMLMimeType=a,t.isHTMLVoidElement=function(e){return r(i,e.toLowerCase())},t.isValidMimeType=function(e){return l.indexOf(e)>-1},t.MIME_TYPE=c,t.NAMESPACE=u},999:(e,t,n)=>{(function(){"use strict";var t=this;function n(e){return"string"==typeof e}function r(e,t,n){return e.call.apply(e.bind,arguments)}function o(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function i(e,t,n){return(i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:o).apply(null,arguments)}function s(e){var t=se;function n(){}n.prototype=t.prototype,e.G=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.F=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}var a=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function c(e,t){return-1!=e.indexOf(t)}function l(e,t){return e<t?-1:e>t?1:0}var u,h=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,n(e))return n(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},d=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,r){for(var o=e.length,i=n(e)?e.split(""):e,s=0;s<o;s++)s in i&&t.call(r,i[s],s,e)},f=Array.prototype.filter?function(e,t,n){return Array.prototype.filter.call(e,t,n)}:function(e,t,r){for(var o=e.length,i=[],s=0,a=n(e)?e.split(""):e,c=0;c<o;c++)if(c in a){var l=a[c];t.call(r,l,c,e)&&(i[s++]=l)}return i},p=Array.prototype.reduce?function(e,t,n,r){return r&&(t=i(t,r)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,r){var o=n;return d(e,(function(n,i){o=t.call(r,o,n,i,e)})),o},E=Array.prototype.some?function(e,t,n){return Array.prototype.some.call(e,t,n)}:function(e,t,r){for(var o=e.length,i=n(e)?e.split(""):e,s=0;s<o;s++)if(s in i&&t.call(r,i[s],s,e))return!0;return!1};e:{var m=t.navigator;if(m){var N=m.userAgent;if(N){u=N;break e}}u=""}var g,T,I=c(u,"Opera")||c(u,"OPR"),b=c(u,"Trident")||c(u,"MSIE"),A=c(u,"Edge"),O=c(u,"Gecko")&&!(c(u.toLowerCase(),"webkit")&&!c(u,"Edge"))&&!(c(u,"Trident")||c(u,"MSIE"))&&!c(u,"Edge"),y=c(u.toLowerCase(),"webkit")&&!c(u,"Edge");function R(){var e=t.document;return e?e.documentMode:void 0}e:{var L="",C=(T=u,O?/rv\:([^\);]+)(\)|;)/.exec(T):A?/Edge\/([\d\.]+)/.exec(T):b?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(T):y?/WebKit\/(\S+)/.exec(T):I?/(?:Version)[ \/]?(\S+)/.exec(T):void 0);if(C&&(L=C?C[1]:""),b){var _=R();if(null!=_&&_>parseFloat(L)){g=String(_);break e}}g=L}var S={};function D(e){if(!S[e]){for(var t=0,n=a(String(g)).split("."),r=a(String(e)).split("."),o=Math.max(n.length,r.length),i=0;0==t&&i<o;i++){var s=n[i]||"",c=r[i]||"",u=/(\d*)(\D*)/g,h=/(\d*)(\D*)/g;do{var d=u.exec(s)||["","",""],f=h.exec(c)||["","",""];if(0==d[0].length&&0==f[0].length)break;t=l(0==d[1].length?0:parseInt(d[1],10),0==f[1].length?0:parseInt(f[1],10))||l(0==d[2].length,0==f[2].length)||l(d[2],f[2])}while(0==t)}S[e]=0<=t}}var M=t.document,v=M&&b?R()||("CSS1Compat"==M.compatMode?parseInt(g,10):5):void 0,w=b&&!(9<=Number(v)),P=b&&!(8<=Number(v));function x(e,t,n,r){this.a=e,this.nodeName=n,this.nodeValue=r,this.nodeType=2,this.parentNode=this.ownerElement=t}function U(e,t){var n=P&&"href"==t.nodeName?e.getAttribute(t.nodeName,2):t.nodeValue;return new x(t,e,t.nodeName,n)}function F(e){var t=null;if(1==(n=e.nodeType)&&(t=null==(t=null==(t=e.textContent)||null==t?e.innerText:t)||null==t?"":t),"string"!=typeof t)if(w&&"title"==e.nodeName.toLowerCase()&&1==n)t=e.text;else if(9==n||1==n){e=9==n?e.documentElement:e.firstChild;var n=0,r=[];for(t="";e;){do{1!=e.nodeType&&(t+=e.nodeValue),w&&"title"==e.nodeName.toLowerCase()&&(t+=e.text),r[n++]=e}while(e=e.firstChild);for(;n&&!(e=r[--n].nextSibling););}}else t=e.nodeValue;return""+t}function k(e,t,n){if(null===t)return!0;try{if(!e.getAttribute)return!1}catch(e){return!1}return P&&"class"==t&&(t="className"),null==n?!!e.getAttribute(t):e.getAttribute(t,2)==n}function B(e,t,r,o,i){return(w?q:H).call(null,e,t,n(r)?r:null,n(o)?o:null,i||new Q)}function q(e,t,n,r,o){if(e instanceof Pe||8==e.b||n&&null===e.b){var i=t.all;if(!i)return o;if("*"!=(e=X(e))&&!(i=t.getElementsByTagName(e)))return o;if(n){for(var s=[],a=0;t=i[a++];)k(t,n,r)&&s.push(t);i=s}for(a=0;t=i[a++];)"*"==e&&"!"==t.tagName||ee(o,t);return o}return Y(e,t,n,r,o),o}function H(e,t,n,r,o){return t.getElementsByName&&r&&"name"==n&&!b?(t=t.getElementsByName(r),d(t,(function(t){e.a(t)&&ee(o,t)}))):t.getElementsByClassName&&r&&"class"==n?(t=t.getElementsByClassName(r),d(t,(function(t){t.className==r&&e.a(t)&&ee(o,t)}))):e instanceof Re?Y(e,t,n,r,o):t.getElementsByTagName&&(t=t.getElementsByTagName(e.f()),d(t,(function(e){k(e,n,r)&&ee(o,e)}))),o}function G(e,t,n,r,o){var i;if((e instanceof Pe||8==e.b||n&&null===e.b)&&(i=t.childNodes)){var s=X(e);return"*"==s||(i=f(i,(function(e){return e.tagName&&e.tagName.toLowerCase()==s})),i)?(n&&(i=f(i,(function(e){return k(e,n,r)}))),d(i,(function(e){"*"==s&&("!"==e.tagName||"*"==s&&1!=e.nodeType)||ee(o,e)})),o):o}return V(e,t,n,r,o)}function V(e,t,n,r,o){for(t=t.firstChild;t;t=t.nextSibling)k(t,n,r)&&e.a(t)&&ee(o,t);return o}function Y(e,t,n,r,o){for(t=t.firstChild;t;t=t.nextSibling)k(t,n,r)&&e.a(t)&&ee(o,t),Y(e,t,n,r,o)}function X(e){if(e instanceof Re){if(8==e.b)return"!";if(null===e.b)return"*"}return e.f()}function j(e,t){if(!e||!t)return!1;if(e.contains&&1==t.nodeType)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e}function W(e,n){if(e==n)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(n)?1:-1;if(b&&!(9<=Number(v))){if(9==e.nodeType)return-1;if(9==n.nodeType)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var r=1==e.nodeType,o=1==n.nodeType;if(r&&o)return e.sourceIndex-n.sourceIndex;var i=e.parentNode,s=n.parentNode;return i==s?z(e,n):!r&&j(i,n)?-1*K(e,n):!o&&j(s,e)?K(n,e):(r?e.sourceIndex:i.sourceIndex)-(o?n.sourceIndex:s.sourceIndex)}return(r=(o=9==e.nodeType?e:e.ownerDocument||e.document).createRange()).selectNode(e),r.collapse(!0),(o=o.createRange()).selectNode(n),o.collapse(!0),r.compareBoundaryPoints(t.Range.START_TO_END,o)}function K(e,t){var n=e.parentNode;if(n==t)return-1;for(var r=t;r.parentNode!=n;)r=r.parentNode;return z(r,e)}function z(e,t){for(var n=t;n=n.previousSibling;)if(n==e)return-1;return 1}function Q(){this.b=this.a=null,this.l=0}function $(e){this.node=e,this.a=this.b=null}function J(e,t){if(!e.a)return t;if(!t.a)return e;for(var n=e.a,r=t.a,o=null,i=null,s=0;n&&r;){i=n.node;var a=r.node;i==a||i instanceof x&&a instanceof x&&i.a==a.a?(i=n,n=n.a,r=r.a):0<W(n.node,r.node)?(i=r,r=r.a):(i=n,n=n.a),(i.b=o)?o.a=i:e.a=i,o=i,s++}for(i=n||r;i;)i.b=o,o=o.a=i,s++,i=i.a;return e.b=o,e.l=s,e}function Z(e,t){var n=new $(t);n.a=e.a,e.b?e.a.b=n:e.a=e.b=n,e.a=n,e.l++}function ee(e,t){var n=new $(t);n.b=e.b,e.a?e.b.a=n:e.a=e.b=n,e.b=n,e.l++}function te(e){return(e=e.a)?e.node:null}function ne(e){return(e=te(e))?F(e):""}function re(e,t){return new oe(e,!!t)}function oe(e,t){this.f=e,this.b=(this.c=t)?e.b:e.a,this.a=null}function ie(e){var t=e.b;if(null==t)return null;var n=e.a=t;return e.b=e.c?t.b:t.a,n.node}function se(e){this.i=e,this.b=this.g=!1,this.f=null}function ae(e){return"\n  "+e.toString().split("\n").join("\n  ")}function ce(e,t){e.g=t}function le(e,t){e.b=t}function ue(e,t){var n=e.a(t);return n instanceof Q?+ne(n):+n}function he(e,t){var n=e.a(t);return n instanceof Q?ne(n):""+n}function de(e,t){var n=e.a(t);return n instanceof Q?!!n.l:!!n}function fe(e,t,n){se.call(this,e.i),this.c=e,this.h=t,this.o=n,this.g=t.g||n.g,this.b=t.b||n.b,this.c==ge&&(n.b||n.g||4==n.i||0==n.i||!t.f?t.b||t.g||4==t.i||0==t.i||!n.f||(this.f={name:n.f.name,s:t}):this.f={name:t.f.name,s:n})}function pe(e,t,n,r,o){var i;if(t=t.a(r),n=n.a(r),t instanceof Q&&n instanceof Q){for(r=ie(t=re(t));r;r=ie(t))for(i=ie(o=re(n));i;i=ie(o))if(e(F(r),F(i)))return!0;return!1}if(t instanceof Q||n instanceof Q){t instanceof Q?(o=t,r=n):(o=n,r=t);for(var s=typeof r,a=ie(i=re(o));a;a=ie(i)){switch(s){case"number":a=+F(a);break;case"boolean":a=!!F(a);break;case"string":a=F(a);break;default:throw Error("Illegal primitive type for comparison.")}if(o==t&&e(a,r)||o==n&&e(r,a))return!0}return!1}return o?"boolean"==typeof t||"boolean"==typeof n?e(!!t,!!n):"number"==typeof t||"number"==typeof n?e(+t,+n):e(t,n):e(+t,+n)}function Ee(e,t,n,r){this.a=e,this.w=t,this.i=n,this.m=r}!O&&!b||b&&9<=Number(v)||O&&D("1.9.1"),b&&D("9"),s(fe),fe.prototype.a=function(e){return this.c.m(this.h,this.o,e)},fe.prototype.toString=function(){return"Binary Expression: "+this.c+ae(this.h)+ae(this.o)},Ee.prototype.toString=function(){return this.a};var me={};function Ne(e,t,n,r){if(me.hasOwnProperty(e))throw Error("Binary operator already created: "+e);return e=new Ee(e,t,n,r),me[e.toString()]=e}Ne("div",6,1,(function(e,t,n){return ue(e,n)/ue(t,n)})),Ne("mod",6,1,(function(e,t,n){return ue(e,n)%ue(t,n)})),Ne("*",6,1,(function(e,t,n){return ue(e,n)*ue(t,n)})),Ne("+",5,1,(function(e,t,n){return ue(e,n)+ue(t,n)})),Ne("-",5,1,(function(e,t,n){return ue(e,n)-ue(t,n)})),Ne("<",4,2,(function(e,t,n){return pe((function(e,t){return e<t}),e,t,n)})),Ne(">",4,2,(function(e,t,n){return pe((function(e,t){return e>t}),e,t,n)})),Ne("<=",4,2,(function(e,t,n){return pe((function(e,t){return e<=t}),e,t,n)})),Ne(">=",4,2,(function(e,t,n){return pe((function(e,t){return e>=t}),e,t,n)}));var ge=Ne("=",3,2,(function(e,t,n){return pe((function(e,t){return e==t}),e,t,n,!0)}));function Te(e,t,n){this.a=e,this.b=t||1,this.f=n||1}function Ie(e,t){if(t.a.length&&4!=e.i)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");se.call(this,e.i),this.c=e,this.h=t,this.g=e.g,this.b=e.b}function be(e,t){if(t.length<e.A)throw Error("Function "+e.j+" expects at least"+e.A+" arguments, "+t.length+" given");if(null!==e.v&&t.length>e.v)throw Error("Function "+e.j+" expects at most "+e.v+" arguments, "+t.length+" given");e.B&&d(t,(function(t,n){if(4!=t.i)throw Error("Argument "+n+" to function "+e.j+" is not of type Nodeset: "+t)})),se.call(this,e.i),this.h=e,this.c=t,ce(this,e.g||E(t,(function(e){return e.g}))),le(this,e.D&&!t.length||e.C&&!!t.length||E(t,(function(e){return e.b})))}function Ae(e,t,n,r,o,i,s,a,c){this.j=e,this.i=t,this.g=n,this.D=r,this.C=o,this.m=i,this.A=s,this.v=void 0!==a?a:s,this.B=!!c}Ne("!=",3,2,(function(e,t,n){return pe((function(e,t){return e!=t}),e,t,n,!0)})),Ne("and",2,2,(function(e,t,n){return de(e,n)&&de(t,n)})),Ne("or",1,2,(function(e,t,n){return de(e,n)||de(t,n)})),s(Ie),Ie.prototype.a=function(e){return e=this.c.a(e),He(this.h,e)},Ie.prototype.toString=function(){return"Filter:"+ae(this.c)+ae(this.h)},s(be),be.prototype.a=function(e){return this.h.m.apply(null,function(e){return Array.prototype.concat.apply(Array.prototype,arguments)}(e,this.c))},be.prototype.toString=function(){var e="Function: "+this.h;if(this.c.length){var t=p(this.c,(function(e,t){return e+ae(t)}),"Arguments:");e=e+ae(t)}return e},Ae.prototype.toString=function(){return this.j};var Oe={};function ye(e,t,n,r,o,i,s,a){if(Oe.hasOwnProperty(e))throw Error("Function already created: "+e+".");Oe[e]=new Ae(e,t,n,r,!1,o,i,s,a)}function Re(e,t){switch(this.h=e,this.c=void 0!==t?t:null,this.b=null,e){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function Le(e){return"comment"==e||"text"==e||"processing-instruction"==e||"node"==e}function Ce(e){this.b=e,this.a=0}ye("boolean",2,!1,!1,(function(e,t){return de(t,e)}),1),ye("ceiling",1,!1,!1,(function(e,t){return Math.ceil(ue(t,e))}),1),ye("concat",3,!1,!1,(function(e,t){return p(function(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}(arguments,1),(function(t,n){return t+he(n,e)}),"")}),2,null),ye("contains",2,!1,!1,(function(e,t,n){return c(he(t,e),he(n,e))}),2),ye("count",1,!1,!1,(function(e,t){return t.a(e).l}),1,1,!0),ye("false",2,!1,!1,(function(){return!1}),0),ye("floor",1,!1,!1,(function(e,t){return Math.floor(ue(t,e))}),1),ye("id",4,!1,!1,(function(e,t){function r(e){if(w){var t=o.all[e];if(t){if(t.nodeType&&e==t.id)return t;if(t.length)return function(e,t){var r;e:{r=e.length;for(var o=n(e)?e.split(""):e,i=0;i<r;i++)if(i in o&&t.call(void 0,o[i],i,e)){r=i;break e}r=-1}return 0>r?null:n(e)?e.charAt(r):e[r]}(t,(function(t){return e==t.id}))}return null}return o.getElementById(e)}var o=9==(i=e.a).nodeType?i:i.ownerDocument,i=he(t,e).split(/\s+/),s=[];d(i,(function(e){!(e=r(e))||0<=h(s,e)||s.push(e)})),s.sort(W);var a=new Q;return d(s,(function(e){ee(a,e)})),a}),1),ye("lang",2,!1,!1,(function(){return!1}),1),ye("last",1,!0,!1,(function(e){if(1!=arguments.length)throw Error("Function last expects ()");return e.f}),0),ye("local-name",3,!1,!0,(function(e,t){var n=t?te(t.a(e)):e.a;return n?n.localName||n.nodeName.toLowerCase():""}),0,1,!0),ye("name",3,!1,!0,(function(e,t){var n=t?te(t.a(e)):e.a;return n?n.nodeName.toLowerCase():""}),0,1,!0),ye("namespace-uri",3,!0,!1,(function(){return""}),0,1,!0),ye("normalize-space",3,!1,!0,(function(e,t){return(t?he(t,e):F(e.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}),0,1),ye("not",2,!1,!1,(function(e,t){return!de(t,e)}),1),ye("number",1,!1,!0,(function(e,t){return t?ue(t,e):+F(e.a)}),0,1),ye("position",1,!0,!1,(function(e){return e.b}),0),ye("round",1,!1,!1,(function(e,t){return Math.round(ue(t,e))}),1),ye("starts-with",2,!1,!1,(function(e,t,n){return t=he(t,e),e=he(n,e),0==t.lastIndexOf(e,0)}),2),ye("string",3,!1,!0,(function(e,t){return t?he(t,e):F(e.a)}),0,1),ye("string-length",1,!1,!0,(function(e,t){return(t?he(t,e):F(e.a)).length}),0,1),ye("substring",3,!1,!1,(function(e,t,n,r){if(n=ue(n,e),isNaN(n)||1/0==n||-1/0==n)return"";if(r=r?ue(r,e):1/0,isNaN(r)||-1/0===r)return"";n=Math.round(n)-1;var o=Math.max(n,0);return e=he(t,e),1/0==r?e.substring(o):e.substring(o,n+Math.round(r))}),2,3),ye("substring-after",3,!1,!1,(function(e,t,n){return t=he(t,e),e=he(n,e),-1==(n=t.indexOf(e))?"":t.substring(n+e.length)}),2),ye("substring-before",3,!1,!1,(function(e,t,n){return t=he(t,e),e=he(n,e),-1==(e=t.indexOf(e))?"":t.substring(0,e)}),2),ye("sum",1,!1,!1,(function(e,t){for(var n=re(t.a(e)),r=0,o=ie(n);o;o=ie(n))r+=+F(o);return r}),1,1,!0),ye("translate",3,!1,!1,(function(e,t,n,r){t=he(t,e),n=he(n,e);var o=he(r,e);for(e={},r=0;r<n.length;r++){var i=n.charAt(r);i in e||(e[i]=o.charAt(r))}for(n="",r=0;r<t.length;r++)n+=(i=t.charAt(r))in e?e[i]:i;return n}),3),ye("true",2,!1,!1,(function(){return!0}),0),Re.prototype.a=function(e){return null===this.b||this.b==e.nodeType},Re.prototype.f=function(){return this.h},Re.prototype.toString=function(){var e="Kind Test: "+this.h;return null===this.c||(e+=ae(this.c)),e};var _e=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,Se=/^\s/;function De(e,t){return e.b[e.a+(t||0)]}function Me(e){return e.b[e.a++]}function ve(e){return e.b.length<=e.a}function we(e){se.call(this,3),this.c=e.substring(1,e.length-1)}function Pe(e,t){var n;this.j=e.toLowerCase(),n="*"==this.j?"*":"http://www.w3.org/1999/xhtml",this.c=t?t.toLowerCase():n}function xe(e,t){if(se.call(this,e.i),this.h=e,this.c=t,this.g=e.g,this.b=e.b,1==this.c.length){var n=this.c[0];n.u||n.c!=je||"*"!=(n=n.o).f()&&(this.f={name:n.f(),s:null})}}function Ue(){se.call(this,4)}function Fe(){se.call(this,4)}function ke(e){return"/"==e||"//"==e}function Be(e){se.call(this,4),this.c=e,ce(this,E(this.c,(function(e){return e.g}))),le(this,E(this.c,(function(e){return e.b})))}function qe(e,t){this.a=e,this.b=!!t}function He(e,t,n){for(n=n||0;n<e.a.length;n++)for(var r,o=e.a[n],i=re(t),s=t.l,a=0;r=ie(i);a++){var c=e.b?s-a:a+1;if("number"==typeof(r=o.a(new Te(r,c,s))))c=c==r;else if("string"==typeof r||"boolean"==typeof r)c=!!r;else{if(!(r instanceof Q))throw Error("Predicate.evaluate returned an unexpected type.");c=0<r.l}if(!c){if(r=(c=i).f,!(u=c.a))throw Error("Next must be called at least once before remove.");var l=u.b,u=u.a;l?l.a=u:r.a=u,u?u.b=l:r.b=l,r.l--,c.a=null}}return t}function Ge(e,t,n,r){se.call(this,4),this.c=e,this.o=t,this.h=n||new qe([]),this.u=!!r,t=0<(t=this.h).a.length?t.a[0].f:null,e.b&&t&&(e=t.name,e=w?e.toLowerCase():e,this.f={name:e,s:t.s});e:{for(e=this.h,t=0;t<e.a.length;t++)if((n=e.a[t]).g||1==n.i||0==n.i){e=!0;break e}e=!1}this.g=e}function Ve(e,t,n,r){this.j=e,this.f=t,this.a=n,this.b=r}s(we),we.prototype.a=function(){return this.c},we.prototype.toString=function(){return"Literal: "+this.c},Pe.prototype.a=function(e){var t=e.nodeType;return(1==t||2==t)&&(t=void 0!==e.localName?e.localName:e.nodeName,("*"==this.j||this.j==t.toLowerCase())&&("*"==this.c||this.c==(e.namespaceURI?e.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},Pe.prototype.f=function(){return this.j},Pe.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.j},s(xe),s(Ue),Ue.prototype.a=function(e){var t=new Q;return 9==(e=e.a).nodeType?ee(t,e):ee(t,e.ownerDocument),t},Ue.prototype.toString=function(){return"Root Helper Expression"},s(Fe),Fe.prototype.a=function(e){var t=new Q;return ee(t,e.a),t},Fe.prototype.toString=function(){return"Context Helper Expression"},xe.prototype.a=function(e){var t=this.h.a(e);if(!(t instanceof Q))throw Error("Filter expression must evaluate to nodeset.");for(var n=0,r=(e=this.c).length;n<r&&t.l;n++){var o,i=e[n],s=re(t,i.c.a);if(i.g||i.c!=ze)if(i.g||i.c!=$e)for(o=ie(s),t=i.a(new Te(o));null!=(o=ie(s));)t=J(t,o=i.a(new Te(o)));else o=ie(s),t=i.a(new Te(o));else{for(o=ie(s);(t=ie(s))&&(!o.contains||o.contains(t))&&8&t.compareDocumentPosition(o);o=t);t=i.a(new Te(o))}}return t},xe.prototype.toString=function(){var e;if(e="Path Expression:"+ae(this.h),this.c.length){var t=p(this.c,(function(e,t){return e+ae(t)}),"Steps:");e+=ae(t)}return e},s(Be),Be.prototype.a=function(e){var t=new Q;return d(this.c,(function(n){if(!((n=n.a(e))instanceof Q))throw Error("Path expression must evaluate to NodeSet.");t=J(t,n)})),t},Be.prototype.toString=function(){return p(this.c,(function(e,t){return e+ae(t)}),"Union Expression:")},qe.prototype.toString=function(){return p(this.a,(function(e,t){return e+ae(t)}),"Predicates:")},s(Ge),Ge.prototype.a=function(e){var t=e.a,n=null,r=null,o=null,i=0;if((n=this.f)&&(r=n.name,o=n.s?he(n.s,e):null,i=1),this.u)if(this.g||this.c!=We)if(t=ie(e=re(new Ge(Ke,new Re("node")).a(e))))for(n=this.m(t,r,o,i);null!=(t=ie(e));)n=J(n,this.m(t,r,o,i));else n=new Q;else n=B(this.o,t,r,o),n=He(this.h,n,i);else n=this.m(e.a,r,o,i);return n},Ge.prototype.m=function(e,t,n,r){return e=this.c.f(this.o,e,t,n),He(this.h,e,r)},Ge.prototype.toString=function(){var e;if(e="Step:"+ae("Operator: "+(this.u?"//":"/")),this.c.j&&(e+=ae("Axis: "+this.c)),e+=ae(this.o),this.h.a.length){var t=p(this.h.a,(function(e,t){return e+ae(t)}),"Predicates:");e+=ae(t)}return e},Ve.prototype.toString=function(){return this.j};var Ye={};function Xe(e,t,n,r){if(Ye.hasOwnProperty(e))throw Error("Axis already created: "+e);return t=new Ve(e,t,n,!!r),Ye[e]=t}Xe("ancestor",(function(e,t){for(var n=new Q,r=t;r=r.parentNode;)e.a(r)&&Z(n,r);return n}),!0),Xe("ancestor-or-self",(function(e,t){var n=new Q,r=t;do{e.a(r)&&Z(n,r)}while(r=r.parentNode);return n}),!0);var je=Xe("attribute",(function(e,t){var n=new Q;if("style"==(i=e.f())&&w&&t.style)return ee(n,new x(t.style,t,"style",t.style.cssText)),n;var r=t.attributes;if(r)if(e instanceof Re&&null===e.b||"*"==i)for(var o,i=0;o=r[i];i++)w?o.nodeValue&&ee(n,U(t,o)):ee(n,o);else(o=r.getNamedItem(i))&&(w?o.nodeValue&&ee(n,U(t,o)):ee(n,o));return n}),!1),We=Xe("child",(function(e,t,r,o,i){return(w?G:V).call(null,e,t,n(r)?r:null,n(o)?o:null,i||new Q)}),!1,!0);Xe("descendant",B,!1,!0);var Ke=Xe("descendant-or-self",(function(e,t,n,r){var o=new Q;return k(t,n,r)&&e.a(t)&&ee(o,t),B(e,t,n,r,o)}),!1,!0),ze=Xe("following",(function(e,t,n,r){var o=new Q;do{for(var i=t;i=i.nextSibling;)k(i,n,r)&&e.a(i)&&ee(o,i),o=B(e,i,n,r,o)}while(t=t.parentNode);return o}),!1,!0);Xe("following-sibling",(function(e,t){for(var n=new Q,r=t;r=r.nextSibling;)e.a(r)&&ee(n,r);return n}),!1),Xe("namespace",(function(){return new Q}),!1);var Qe=Xe("parent",(function(e,t){var n=new Q;if(9==t.nodeType)return n;if(2==t.nodeType)return ee(n,t.ownerElement),n;var r=t.parentNode;return e.a(r)&&ee(n,r),n}),!1),$e=Xe("preceding",(function(e,t,n,r){var o=new Q,i=[];do{i.unshift(t)}while(t=t.parentNode);for(var s=1,a=i.length;s<a;s++){var c=[];for(t=i[s];t=t.previousSibling;)c.unshift(t);for(var l=0,u=c.length;l<u;l++)k(t=c[l],n,r)&&e.a(t)&&ee(o,t),o=B(e,t,n,r,o)}return o}),!0,!0);Xe("preceding-sibling",(function(e,t){for(var n=new Q,r=t;r=r.previousSibling;)e.a(r)&&Z(n,r);return n}),!0);var Je=Xe("self",(function(e,t){var n=new Q;return e.a(t)&&ee(n,t),n}),!1);function Ze(e){se.call(this,1),this.c=e,this.g=e.g,this.b=e.b}function et(e){se.call(this,1),this.c=e}function tt(e,t){this.a=e,this.b=t}function nt(e){for(var t,n=[];;){rt(e,"Missing right hand side of binary expression."),t=ut(e);var r=Me(e.a);if(!r)break;var o=(r=me[r]||null)&&r.w;if(!o){e.a.a--;break}for(;n.length&&o<=n[n.length-1].w;)t=new fe(n.pop(),n.pop(),t);n.push(t,r)}for(;n.length;)t=new fe(n.pop(),n.pop(),t);return t}function rt(e,t){if(ve(e.a))throw Error(t)}function ot(e,t){var n=Me(e.a);if(n!=t)throw Error("Bad token, expected: "+t+" got: "+n)}function it(e){if(")"!=(e=Me(e.a)))throw Error("Bad token: "+e)}function st(e){if(2>(e=Me(e.a)).length)throw Error("Unclosed literal string");return new we(e)}function at(e){var t,n,r=[];if(ke(De(e.a))){if(t=Me(e.a),n=De(e.a),"/"==t&&(ve(e.a)||"."!=n&&".."!=n&&"@"!=n&&"*"!=n&&!/(?![0-9])[\w]/.test(n)))return new Ue;n=new Ue,rt(e,"Missing next location step."),t=ct(e,t),r.push(t)}else{e:{switch(n=(t=De(e.a)).charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":Me(e.a),t=nt(e),rt(e,'unclosed "("'),ot(e,")");break;case'"':case"'":t=st(e);break;default:if(isNaN(+t)){if(Le(t)||!/(?![0-9])[\w]/.test(n)||"("!=De(e.a,1)){t=null;break e}for(t=Me(e.a),t=Oe[t]||null,Me(e.a),n=[];")"!=De(e.a)&&(rt(e,"Missing function argument list."),n.push(nt(e)),","==De(e.a));)Me(e.a);rt(e,"Unclosed function argument list."),it(e),t=new be(t,n)}else t=new et(+Me(e.a))}"["==De(e.a)&&(t=new Ie(t,n=new qe(lt(e))))}if(t){if(!ke(De(e.a)))return t;n=t}else t=ct(e,"/"),n=new Fe,r.push(t)}for(;ke(De(e.a));)t=Me(e.a),rt(e,"Missing next location step."),t=ct(e,t),r.push(t);return new xe(n,r)}function ct(e,t){var n,r,o,i;if("/"!=t&&"//"!=t)throw Error('Step op should be "/" or "//"');if("."==De(e.a))return r=new Ge(Je,new Re("node")),Me(e.a),r;if(".."==De(e.a))return r=new Ge(Qe,new Re("node")),Me(e.a),r;if("@"==De(e.a))i=je,Me(e.a),rt(e,"Missing attribute name");else if("::"==De(e.a,1)){if(!/(?![0-9])[\w]/.test(De(e.a).charAt(0)))throw Error("Bad token: "+Me(e.a));if(n=Me(e.a),!(i=Ye[n]||null))throw Error("No axis with name: "+n);Me(e.a),rt(e,"Missing node name")}else i=We;if(n=De(e.a),!/(?![0-9])[\w\*]/.test(n.charAt(0)))throw Error("Bad token: "+Me(e.a));if("("==De(e.a,1)){if(!Le(n))throw Error("Invalid node type: "+n);if(!Le(n=Me(e.a)))throw Error("Invalid type name: "+n);ot(e,"("),rt(e,"Bad nodetype");var s=null;'"'!=(o=De(e.a).charAt(0))&&"'"!=o||(s=st(e)),rt(e,"Bad nodetype"),it(e),n=new Re(n,s)}else if(-1==(o=(n=Me(e.a)).indexOf(":")))n=new Pe(n);else{var a;if("*"==(s=n.substring(0,o)))a="*";else if(!(a=e.b(s)))throw Error("Namespace prefix not declared: "+s);n=new Pe(n=n.substr(o+1),a)}return o=new qe(lt(e),i.a),r||new Ge(i,n,o,"//"==t)}function lt(e){for(var t=[];"["==De(e.a);){Me(e.a),rt(e,"Missing predicate expression.");var n=nt(e);t.push(n),rt(e,"Unclosed predicate expression."),ot(e,"]")}return t}function ut(e){if("-"==De(e.a))return Me(e.a),new Ze(ut(e));var t=at(e);if("|"!=De(e.a))e=t;else{for(t=[t];"|"==Me(e.a);)rt(e,"Missing next union location path."),t.push(at(e));e.a.a--,e=new Be(t)}return e}function ht(e){switch(e.nodeType){case 1:return function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}(ft,e);case 9:return ht(e.documentElement);case 11:case 10:case 6:case 12:return dt;default:return e.parentNode?ht(e.parentNode):dt}}function dt(){return null}function ft(e,t){if(e.prefix==t)return e.namespaceURI||"http://www.w3.org/1999/xhtml";var n=e.getAttributeNode("xmlns:"+t);return n&&n.specified?n.value||null:e.parentNode&&9!=e.parentNode.nodeType?ft(e.parentNode,t):null}function pt(e,t){if(!e.length)throw Error("Empty XPath expression.");var n=function(e){e=e.match(_e);for(var t=0;t<e.length;t++)Se.test(e[t])&&e.splice(t,1);return new Ce(e)}(e);if(ve(n))throw Error("Invalid XPath expression.");t?"function"==function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}(t)||(t=i(t.lookupNamespaceURI,t)):t=function(){return null};var r=nt(new tt(n,t));if(!ve(n))throw Error("Bad token: "+Me(n));this.evaluate=function(e,t){return new Et(r.a(new Te(e)),t)}}function Et(e,t){if(0==t)if(e instanceof Q)t=4;else if("string"==typeof e)t=2;else if("number"==typeof e)t=1;else{if("boolean"!=typeof e)throw Error("Unexpected evaluation result.");t=3}if(2!=t&&1!=t&&3!=t&&!(e instanceof Q))throw Error("value could not be converted to the specified type");var n;switch(this.resultType=t,t){case 2:this.stringValue=e instanceof Q?ne(e):""+e;break;case 1:this.numberValue=e instanceof Q?+ne(e):+e;break;case 3:this.booleanValue=e instanceof Q?0<e.l:!!e;break;case 4:case 5:case 6:case 7:var r=re(e);n=[];for(var o=ie(r);o;o=ie(r))n.push(o instanceof x?o.a:o);this.snapshotLength=e.l,this.invalidIteratorState=!1;break;case 8:case 9:r=te(e),this.singleNodeValue=r instanceof x?r.a:r;break;default:throw Error("Unknown XPathResult type.")}var i=0;this.iterateNext=function(){if(4!=t&&5!=t)throw Error("iterateNext called with wrong result type");return i>=n.length?null:n[i++]},this.snapshotItem=function(e){if(6!=t&&7!=t)throw Error("snapshotItem called with wrong result type");return e>=n.length||0>e?null:n[e]}}function mt(e){this.lookupNamespaceURI=ht(e)}function Nt(e,n){var r=e||t,o=r.Document&&r.Document.prototype||r.document;o.evaluate&&!n||(r.XPathResult=Et,o.evaluate=function(e,t,n,r){return new pt(e,n).evaluate(t,r)},o.createExpression=function(e,t){return new pt(e,t)},o.createNSResolver=function(e){return new mt(e)})}s(Ze),Ze.prototype.a=function(e){return-ue(this.c,e)},Ze.prototype.toString=function(){return"Unary Expression: -"+ae(this.c)},s(et),et.prototype.a=function(){return this.c},et.prototype.toString=function(){return"Number: "+this.c},Et.ANY_TYPE=0,Et.NUMBER_TYPE=1,Et.STRING_TYPE=2,Et.BOOLEAN_TYPE=3,Et.UNORDERED_NODE_ITERATOR_TYPE=4,Et.ORDERED_NODE_ITERATOR_TYPE=5,Et.UNORDERED_NODE_SNAPSHOT_TYPE=6,Et.ORDERED_NODE_SNAPSHOT_TYPE=7,Et.ANY_UNORDERED_NODE_TYPE=8,Et.FIRST_ORDERED_NODE_TYPE=9;var gt,Tt=["wgxpath","install"],It=t;Tt[0]in It||!It.execScript||It.execScript("var "+Tt[0]);for(;Tt.length&&(gt=Tt.shift());)Tt.length||void 0===Nt?It=It[gt]?It[gt]:It[gt]={}:It[gt]=Nt;e.exports.install=Nt,e.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}).call(n.g)}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var o=2&t&&e;"object"==typeof o&&!~leafPrototypes.indexOf(o);o=getProto(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{addPreference:()=>ur,engineSetup:()=>ar,fromPreference:()=>hr,locales:()=>ir,parseDOM:()=>lr,setupEngine:()=>sr,toEnriched:()=>cr,toPreference:()=>dr});const t=("undefined"!=typeof window?window:global).MathJax._.components.global,n=(t.GLOBAL,t.isObject,t.combineConfig,t.combineDefaults,t.combineWithMathJax);t.MathJax;var r,o,i;!function(e){e.DOMAIN="domain",e.STYLE="style",e.LOCALE="locale",e.TOPIC="topic",e.MODALITY="modality"}(r||(r={}));class s{static createProp(...e){const t=a.DEFAULT_ORDER,n={};for(let r=0,o=e.length,i=t.length;r<o&&r<i;r++)n[t[r]]=e[r];return new s(n)}constructor(e,t=Object.keys(e)){this.properties=e,this.order=t}getProperties(){return this.properties}getOrder(){return this.order}getAxes(){return this.order}getProperty(e){return this.properties[e]}updateProperties(e){this.properties=e}allProperties(){const e=[];return this.order.forEach((t=>e.push(this.getProperty(t).slice()))),e}toString(){const e=[];return this.order.forEach((t=>e.push(t+": "+this.getProperty(t).toString()))),e.join("\n")}}class a extends s{static createCstr(...e){const t=a.DEFAULT_ORDER,n={};for(let r=0,o=e.length,i=t.length;r<o&&r<i;r++)n[t[r]]=e[r];return new a(n)}static defaultCstr(){return a.createCstr.apply(null,a.DEFAULT_ORDER.map((function(e){return a.DEFAULT_VALUES[e]})))}static validOrder(e){const t=a.DEFAULT_ORDER.slice();return e.every((e=>{const n=t.indexOf(e);return-1!==n&&t.splice(n,1)}))}constructor(e,t){const n={};for(const[t,r]of Object.entries(e))n[t]=[r];super(n,t),this.components=e}getComponents(){return this.components}getValue(e){return this.components[e]}getValues(){return this.order.map((e=>this.getValue(e)))}allProperties(){const e=super.allProperties();for(let t,n,r=0;t=e[r],n=this.order[r];r++){const e=this.getValue(n);-1===t.indexOf(e)&&t.unshift(e)}return e}toString(){return this.getValues().join(".")}equal(e){const t=e.getAxes();if(this.order.length!==t.length)return!1;for(let n,r=0;n=t[r];r++){const t=this.getValue(n);if(!t||e.getValue(n)!==t)return!1}return!0}}a.DEFAULT_ORDER=[r.LOCALE,r.MODALITY,r.DOMAIN,r.STYLE,r.TOPIC],a.BASE_LOCALE="base",a.DEFAULT_VALUE="default",a.DEFAULT_VALUES={[r.LOCALE]:"en",[r.DOMAIN]:a.DEFAULT_VALUE,[r.STYLE]:a.DEFAULT_VALUE,[r.TOPIC]:a.DEFAULT_VALUE,[r.MODALITY]:"speech"};class c{constructor(e){this.order=e}parse(e){const t=e.split("."),n={};if(t.length>this.order.length)throw new Error("Invalid dynamic constraint: "+n);let r=0;for(let e,o=0;e=this.order[o],t.length;o++,r++){const r=t.shift();n[e]=r}return new a(n,this.order.slice(0,r))}}class l{constructor(e,t=new s(e.getProperties(),e.getOrder())){this.reference=e,this.fallback=t,this.order=this.reference.getOrder()}getReference(){return this.reference}setReference(e,t){this.reference=e,this.fallback=t||new s(e.getProperties(),e.getOrder()),this.order=this.reference.getOrder()}match(e){const t=e.getAxes();return t.length===this.reference.getAxes().length&&t.every((t=>{const n=e.getValue(t);return n===this.reference.getValue(t)||-1!==this.fallback.getProperty(t).indexOf(n)}))}compare(e,t){let n=!1;for(let r,o=0;r=this.order[o];o++){const o=e.getValue(r),i=t.getValue(r);if(!n){const e=this.reference.getValue(r);if(e===o&&e!==i)return-1;if(e===i&&e!==o)return 1;if(e===o&&e===i)continue;e!==o&&e!==i&&(n=!0)}const s=this.fallback.getProperty(r),a=s.indexOf(o),c=s.indexOf(i);if(a<c)return-1;if(c<a)return 1}return 0}toString(){return this.reference.toString()+"\n"+this.fallback.toString()}}!function(e){e.SYNC="sync",e.ASYNC="async",e.HTTP="http"}(o||(o={})),function(e){e.PITCH="pitch",e.RATE="rate",e.VOLUME="volume",e.PAUSE="pause",e.JOIN="join",e.LAYOUT="layout"}(i||(i={}));i.PITCH,i.RATE,i.VOLUME,i.PAUSE,i.JOIN;var u,h;!function(e){e.NONE="none",e.SHALLOW="shallow",e.DEEP="deep"}(u||(u={})),function(e){e.NONE="none",e.LAYOUT="layout",e.COUNTING="counting",e.PUNCTUATION="punctuation",e.SSML="ssml",e.ACSS="acss",e.SABLE="sable",e.VOICEXML="voicexml"}(h||(h={}));var d=__webpack_require__(74);function f(e){return e.match("/$")?e:e+"/"}class p{static getInstance(){return p.instance=p.instance||new p,p.instance}init(e){return e&&this.startDebugFile_(e),this.isActive_=!0,this.fileHandle}output(...e){this.isActive_&&this.output_(e)}generate(e){this.isActive_&&this.output_(e.apply(e,[]))}exit(e=()=>{}){this.fileHandle.then((()=>{this.isActive_&&this.stream_&&this.stream_.end("","",e)}))}constructor(){this.isActive_=!1,this.fileHandle=Promise.resolve(),this.stream_=null}startDebugFile_(e){this.fileHandle=d.f.fs.promises.open(e,"w"),this.fileHandle=this.fileHandle.then((t=>{this.stream_=t.createWriteStream(e),this.outputFunction=function(...e){this.stream_.write(e.join(" ")),this.stream_.write("\n")}.bind(this),this.stream_.on("error",function(e){console.info("Invalid log file. Debug information sent to console."),this.outputFunction=console.info}.bind(this)),this.stream_.on("finish",(function(){console.info("Finalizing debug file.")}))}))}output_(e){this.stream_?this.fileHandle.then((()=>this.outputFunction.apply(this.outputFunction,["Speech Rule Engine Debugger:"].concat(e)))):console.info.apply(console,["Speech Rule Engine Debugger:"].concat(e))}}var E=__webpack_require__(714);class m{constructor(e={}){this.delay=!1,this.domain="clearspeak",this.style=a.DEFAULT_VALUES[r.STYLE],this.locale=a.DEFAULT_VALUES[r.LOCALE],this.subiso="",this.modality=a.DEFAULT_VALUES[r.MODALITY],this.speech=u.NONE,this.markup=h.NONE,this.mark=!0,this.automark=!1,this.character=!0,this.cleanpause=!0,this.cayleyshort=!0,this.linebreaks=!1,this.rate="100",this.walker="Table",this.structure=!1,this.aria=!1,this.tree=!1,this.strict=!1,this.pprint=!1,this.rules="",this.prune="",this.set(e)}set(e){this.ensureDomain(e);for(const[t,n]of Object.entries(e))(m.BINARY_FEATURES.includes(t)||m.STRING_FEATURES.includes(t))&&(this[t]=n)}json(){const e={};return[].concat(m.STRING_FEATURES,m.BINARY_FEATURES).forEach((t=>e[t]=this[t])),e}ensureDomain(e){if(e.modality&&"speech"!==e.modality||!e.modality&&"speech"!==this.modality)return;if(!e.domain&&!e.locale)return;if("default"===e.domain)return void(e.domain="mathspeak");const t=e.locale||this.locale,n=e.domain||this.domain;-1===N.indexOf(t)||"mathspeak"===n?"en"!==t?"mathspeak"!==n&&"clearspeak"!==n&&(e.domain="mathspeak"):-1===g.indexOf(n)&&(e.domain="mathspeak"):e.domain="mathspeak"}}m.BINARY_FEATURES=["automark","mark","character","cleanpause","strict","structure","aria","pprint","cayleyshort","linebreaks","tree"],m.STRING_FEATURES=["markup","style","domain","speech","walker","locale","delay","modality","rate","rules","subiso","prune"];const N=["ca","da","es"],g=["chromevox","clearspeak","mathspeak","emacspeak","html"];class T extends Error{constructor(e=""){super(),this.message=e,this.name="SRE Error"}}class I{set defaultLocale(e){this._defaultLocale=E.u.ensureLocale(e,this._defaultLocale)}get defaultLocale(){return this._defaultLocale}static getInstance(){return I.instance=I.instance||new I,I.instance}static defaultEvaluator(e,t){return e}static evaluateNode(e){return I.nodeEvaluator(e)}getRate(){const e=parseInt(this.options.rate,10);return isNaN(e)?100:e}setDynamicCstr(e){if(this.defaultLocale&&(a.DEFAULT_VALUES[r.LOCALE]=this.defaultLocale),e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(-1!==a.DEFAULT_ORDER.indexOf(r)){const t=e[r];this.options[r]=t}}}const t=[this.options.locale,this.options.modality,this.options.domain,this.options.style].join("."),n=s.createProp([a.DEFAULT_VALUES[r.LOCALE]],[a.DEFAULT_VALUES[r.MODALITY]],[a.DEFAULT_VALUES[r.DOMAIN]],[a.DEFAULT_VALUES[r.STYLE]]),o=this.comparators[this.options.domain],i=this.parsers[this.options.domain];this.parser=i||this.defaultParser,this.dynamicCstr=this.parser.parse(t),this.dynamicCstr.updateProperties(n.getProperties()),this.comparator=o?o():new l(this.dynamicCstr)}constructor(){this.options=new m,this.config=!1,this.customLoader=null,this.parsers={},this.comparator=null,this.mode=o.SYNC,this.init=!0,this.comparators={},this._defaultLocale=a.DEFAULT_VALUES[r.LOCALE],this.options.locale=this.defaultLocale,this.evaluator=I.defaultEvaluator,this.defaultParser=new c(a.DEFAULT_ORDER),this.parser=this.defaultParser,this.dynamicCstr=a.defaultCstr()}configurate(e){this.mode!==o.HTTP||d.f.webworker||this.config||(!function(e){const t=document.documentElement.querySelectorAll('script[type="text/x-sre-config"]');for(let n=0,r=t.length;n<r;n++){let r;try{r=t[n].innerHTML;const o=JSON.parse(r);for(const[t,n]of Object.entries(o))e[t]=n}catch(e){p.getInstance().output("Illegal configuration ",r)}}}(e),this.config=!0),function(e){if("undefined"!=typeof SREfeature)for(const[t,n]of Object.entries(SREfeature))e[t]=n}(e)}setCustomLoader(e){e&&(this.customLoader=e)}setup(e){void 0!==e.mode&&(this.mode=e.mode),this.configurate(e),this.options.set(e),e.json&&(d.f.jsonPath=f(e.json)),this.setCustomLoader(e.custom)}json(){return Object.assign({mode:this.mode},this.options.json())}reset(){this.options=new m}}I.nodeEvaluator=function(e){return[]};class b{static get(e=I.getInstance().options.locale){return b.promises[e]||Promise.resolve("")}static getall(){return Promise.all(Object.values(b.promises))}}b.loaded={},b.promises={};const A=d.f.xpath,O={xhtml:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",mml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function y(e){return O[e]||null}class R{constructor(){this.lookupNamespaceURI=y}}function L(e,t,n){return A.evaluate(e,t,new R,n,null)}function C(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function _(e){const t=new d.f.xmldom.DOMParser,n=function(e){return(e=e.replace(/&nbsp;/g,"\xa0")).replace(/>[ \f\n\r\t\v\u200b]+</g,"><").trim()}(e),r=!!n.match(/&(?!lt|gt|amp|quot|apos)\w+;/g);if(!n)throw new Error("Empty input!");try{const e=t.parseFromString(n,r?"text/html":"text/xml");return I.getInstance().mode===o.HTTP?(A.currentDocument=e,r?e.body.childNodes[0]:e.documentElement):e.documentElement}catch(e){throw new T("Illegal input: "+e.message)}}var S;function D(e,t){e.parentNode&&(e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e))}function M(e){return d.f.document.createElement(e)}function v(e){let t="",n=/(>)(<)(\/*)/g,r=0,o=(e=e.replace(n,"$1\r\n$2$3")).split("\r\n");for(n=/(\.)*(<)(\/*)/g,o=o.map((e=>e.replace(n,"$1\r\n$2$3").split("\r\n"))).reduce(((e,t)=>e.concat(t)),[]);o.length;){let e=o.shift();if(!e)continue;let n=0;if(e.match(/^<\w[^>/]*>[^>]+$/)){const t=w(e,o[0]);t[0]?t[1]?(e+=o.shift().slice(0,-t[1].length),t[1].trim()&&o.unshift(t[1])):e+=o.shift():n=1}else if(e.match(/^<\/\w/))0!==r&&(r-=1);else if(e.match(/^<\w[^>]*[^/]>.*$/))n=1;else if(e.match(/^<\w[^>]*\/>.+$/)){const t=e.indexOf(">")+1,n=e.slice(t);n.trim()&&o.unshift(),e=e.slice(0,t)+n}else n=0;t+=new Array(r+1).join("  ")+e+"\r\n",r+=n}return t}function w(e,t){if(!t)return[!1,""];const n=e.match(/^<([^> ]+).*>/),r=t.match(/^<\/([^>]+)>(.*)/);return n&&r&&n[1]===r[1]?[!0,r[2]]:[!1,""]}function P(e){return e.tagName.toUpperCase()}function x(e){return(new d.f.xmldom.XMLSerializer).serializeToString(e)}!function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",e[e.NOTATION_NODE=12]="NOTATION_NODE"}(S||(S={}));class U{constructor(e,t,n){this.domain=e,this.name=t,this.func=n,this.active=!1}annotate(e){e.childNodes.forEach(this.annotate.bind(this)),e.contentNodes.forEach(this.annotate.bind(this)),e.addAnnotation(this.domain,this.func(e))}}class F{constructor(e,t,n,r={}){this.domain=e,this.name=t,this.func=n,this.def=r,this.active=!1}visit(e,t){let n=this.func(e,t);e.addAnnotation(this.domain,n[0]);for(let t,r=0;t=e.childNodes[r];r++)n=this.visit(t,n[1]);for(let t,r=0;t=e.contentNodes[r];r++)n=this.visit(t,n[1]);return n}}const k=new Map,B=new Map;function q(e){const t=e.domain+":"+e.name;e instanceof U?k.set(t,e):B.set(t,e)}function H(e,t){const n=e+":"+t,r=k.get(n)||B.get(n);r&&(r.active=!0)}var G,V,Y;function X(e){const t=e.toString(16).toUpperCase();return t.length>3?t:("000"+t).slice(-4)}function j([e,t],n){const r=parseInt(e,16),o=parseInt(t,16),i=[];for(let e=r;e<=o;e++){let t=X(e);!1!==n[t]&&(t=n[t]||t,i.push(t))}return i}function W(e,t={}){return j(e,t).map((e=>String.fromCodePoint(parseInt(e,16))))}!function(e){e.BOLD="bold",e.BOLDFRAKTUR="bold-fraktur",e.BOLDITALIC="bold-italic",e.BOLDSCRIPT="bold-script",e.DOUBLESTRUCK="double-struck",e.DOUBLESTRUCKITALIC="double-struck-italic",e.FULLWIDTH="fullwidth",e.FRAKTUR="fraktur",e.ITALIC="italic",e.MONOSPACE="monospace",e.NORMAL="normal",e.SCRIPT="script",e.SANSSERIF="sans-serif",e.SANSSERIFITALIC="sans-serif-italic",e.SANSSERIFBOLD="sans-serif-bold",e.SANSSERIFBOLDITALIC="sans-serif-bold-italic"}(G||(G={})),function(e){e.SUPER="super",e.SUB="sub",e.CIRCLED="circled",e.PARENTHESIZED="parenthesized",e.PERIOD="period",e.NEGATIVECIRCLED="negative-circled",e.DOUBLECIRCLED="double-circled",e.CIRCLEDSANSSERIF="circled-sans-serif",e.NEGATIVECIRCLEDSANSSERIF="negative-circled-sans-serif",e.COMMA="comma",e.SQUARED="squared",e.NEGATIVESQUARED="negative-squared"}(V||(V={})),function(e){e.LATINCAP="latinCap",e.LATINSMALL="latinSmall",e.GREEKCAP="greekCap",e.GREEKSMALL="greekSmall",e.DIGIT="digit"}(Y||(Y={}));const K=[{interval:["1D400","1D419"],base:Y.LATINCAP,subst:{},capital:!0,category:"Lu",font:G.BOLD},{interval:["1D41A","1D433"],base:Y.LATINSMALL,subst:{},capital:!1,category:"Ll",font:G.BOLD},{interval:["1D56C","1D585"],base:Y.LATINCAP,subst:{},capital:!0,category:"Lu",font:G.BOLDFRAKTUR},{interval:["1D586","1D59F"],base:Y.LATINSMALL,subst:{},capital:!1,category:"Ll",font:G.BOLDFRAKTUR},{interval:["1D468","1D481"],base:Y.LATINCAP,subst:{},capital:!0,category:"Lu",font:G.BOLDITALIC},{interval:["1D482","1D49B"],base:Y.LATINSMALL,subst:{},capital:!1,category:"Ll",font:G.BOLDITALIC},{interval:["1D4D0","1D4E9"],base:Y.LATINCAP,subst:{},capital:!0,category:"Lu",font:G.BOLDSCRIPT},{interval:["1D4EA","1D503"],base:Y.LATINSMALL,subst:{},capital:!1,category:"Ll",font:G.BOLDSCRIPT},{interval:["1D538","1D551"],base:Y.LATINCAP,subst:{"1D53A":"2102","1D53F":"210D","1D545":"2115","1D547":"2119","1D548":"211A","1D549":"211D","1D551":"2124"},capital:!0,category:"Lu",font:G.DOUBLESTRUCK},{interval:["1D552","1D56B"],base:Y.LATINSMALL,subst:{},capital:!1,category:"Ll",font:G.DOUBLESTRUCK},{interval:["1D504","1D51D"],base:Y.LATINCAP,subst:{"1D506":"212D","1D50B":"210C","1D50C":"2111","1D515":"211C","1D51D":"2128"},capital:!0,category:"Lu",font:G.FRAKTUR},{interval:["1D51E","1D537"],base:Y.LATINSMALL,subst:{},capital:!1,category:"Ll",font:G.FRAKTUR},{interval:["FF21","FF3A"],base:Y.LATINCAP,subst:{},capital:!0,category:"Lu",font:G.FULLWIDTH},{interval:["FF41","FF5A"],base:Y.LATINSMALL,subst:{},capital:!1,category:"Ll",font:G.FULLWIDTH},{interval:["1D434","1D44D"],base:Y.LATINCAP,subst:{},capital:!0,category:"Lu",font:G.ITALIC},{interval:["1D44E","1D467"],base:Y.LATINSMALL,subst:{"1D455":"210E"},capital:!1,category:"Ll",font:G.ITALIC},{interval:["1D670","1D689"],base:Y.LATINCAP,subst:{},capital:!0,category:"Lu",font:G.MONOSPACE},{interval:["1D68A","1D6A3"],base:Y.LATINSMALL,subst:{},capital:!1,category:"Ll",font:G.MONOSPACE},{interval:["0041","005A"],base:Y.LATINCAP,subst:{},capital:!0,category:"Lu",font:G.NORMAL},{interval:["0061","007A"],base:Y.LATINSMALL,subst:{},capital:!1,category:"Ll",font:G.NORMAL},{interval:["1D49C","1D4B5"],base:Y.LATINCAP,subst:{"1D49D":"212C","1D4A0":"2130","1D4A1":"2131","1D4A3":"210B","1D4A4":"2110","1D4A7":"2112","1D4A8":"2133","1D4AD":"211B"},capital:!0,category:"Lu",font:G.SCRIPT},{interval:["1D4B6","1D4CF"],base:Y.LATINSMALL,subst:{"1D4BA":"212F","1D4BC":"210A","1D4C4":"2134"},capital:!1,category:"Ll",font:G.SCRIPT},{interval:["1D5A0","1D5B9"],base:Y.LATINCAP,subst:{},capital:!0,category:"Lu",font:G.SANSSERIF},{interval:["1D5BA","1D5D3"],base:Y.LATINSMALL,subst:{},capital:!1,category:"Ll",font:G.SANSSERIF},{interval:["1D608","1D621"],base:Y.LATINCAP,subst:{},capital:!0,category:"Lu",font:G.SANSSERIFITALIC},{interval:["1D622","1D63B"],base:Y.LATINSMALL,subst:{},capital:!1,category:"Ll",font:G.SANSSERIFITALIC},{interval:["1D5D4","1D5ED"],base:Y.LATINCAP,subst:{},capital:!0,category:"Lu",font:G.SANSSERIFBOLD},{interval:["1D5EE","1D607"],base:Y.LATINSMALL,subst:{},capital:!1,category:"Ll",font:G.SANSSERIFBOLD},{interval:["1D63C","1D655"],base:Y.LATINCAP,subst:{},capital:!0,category:"Lu",font:G.SANSSERIFBOLDITALIC},{interval:["1D656","1D66F"],base:Y.LATINSMALL,subst:{},capital:!1,category:"Ll",font:G.SANSSERIFBOLDITALIC},{interval:["0391","03A9"],base:Y.GREEKCAP,subst:{"03A2":"03F4"},capital:!0,category:"Lu",font:G.NORMAL},{interval:["03B0","03D0"],base:Y.GREEKSMALL,subst:{"03B0":"2207","03CA":"2202","03CB":"03F5","03CC":"03D1","03CD":"03F0","03CE":"03D5","03CF":"03F1","03D0":"03D6"},capital:!1,category:"Ll",font:G.NORMAL},{interval:["1D6A8","1D6C0"],base:Y.GREEKCAP,subst:{},capital:!0,category:"Lu",font:G.BOLD},{interval:["1D6C1","1D6E1"],base:Y.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:G.BOLD},{interval:["1D6E2","1D6FA"],base:Y.GREEKCAP,subst:{},capital:!0,category:"Lu",font:G.ITALIC},{interval:["1D6FB","1D71B"],base:Y.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:G.ITALIC},{interval:["1D71C","1D734"],base:Y.GREEKCAP,subst:{},capital:!0,category:"Lu",font:G.BOLDITALIC},{interval:["1D735","1D755"],base:Y.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:G.BOLDITALIC},{interval:["1D756","1D76E"],base:Y.GREEKCAP,subst:{},capital:!0,category:"Lu",font:G.SANSSERIFBOLD},{interval:["1D76F","1D78F"],base:Y.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:G.SANSSERIFBOLD},{interval:["1D790","1D7A8"],base:Y.GREEKCAP,subst:{},capital:!0,category:"Lu",font:G.SANSSERIFBOLDITALIC},{interval:["1D7A9","1D7C9"],base:Y.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:G.SANSSERIFBOLDITALIC},{interval:["0030","0039"],base:Y.DIGIT,subst:{},offset:0,category:"Nd",font:G.NORMAL},{interval:["2070","2079"],base:Y.DIGIT,subst:{2071:"00B9",2072:"00B2",2073:"00B3"},offset:0,category:"No",font:V.SUPER},{interval:["2080","2089"],base:Y.DIGIT,subst:{},offset:0,category:"No",font:V.SUB},{interval:["245F","2473"],base:Y.DIGIT,subst:{"245F":"24EA"},offset:0,category:"No",font:V.CIRCLED},{interval:["3251","325F"],base:Y.DIGIT,subst:{},offset:21,category:"No",font:V.CIRCLED},{interval:["32B1","32BF"],base:Y.DIGIT,subst:{},offset:36,category:"No",font:V.CIRCLED},{interval:["2474","2487"],base:Y.DIGIT,subst:{},offset:1,category:"No",font:V.PARENTHESIZED},{interval:["2487","249B"],base:Y.DIGIT,subst:{2487:"1F100"},offset:0,category:"No",font:V.PERIOD},{interval:["2775","277F"],base:Y.DIGIT,subst:{2775:"24FF"},offset:0,category:"No",font:V.NEGATIVECIRCLED},{interval:["24EB","24F4"],base:Y.DIGIT,subst:{},offset:11,category:"No",font:V.NEGATIVECIRCLED},{interval:["24F5","24FE"],base:Y.DIGIT,subst:{},offset:1,category:"No",font:V.DOUBLECIRCLED},{interval:["277F","2789"],base:Y.DIGIT,subst:{"277F":"1F10B"},offset:0,category:"No",font:V.CIRCLEDSANSSERIF},{interval:["2789","2793"],base:Y.DIGIT,subst:{2789:"1F10C"},offset:0,category:"No",font:V.NEGATIVECIRCLEDSANSSERIF},{interval:["FF10","FF19"],base:Y.DIGIT,subst:{},offset:0,category:"Nd",font:G.FULLWIDTH},{interval:["1D7CE","1D7D7"],base:Y.DIGIT,subst:{},offset:0,category:"Nd",font:G.BOLD},{interval:["1D7D8","1D7E1"],base:Y.DIGIT,subst:{},offset:0,category:"Nd",font:G.DOUBLESTRUCK},{interval:["1D7E2","1D7EB"],base:Y.DIGIT,subst:{},offset:0,category:"Nd",font:G.SANSSERIF},{interval:["1D7EC","1D7F5"],base:Y.DIGIT,subst:{},offset:0,category:"Nd",font:G.SANSSERIFBOLD},{interval:["1D7F6","1D7FF"],base:Y.DIGIT,subst:{},offset:0,category:"Nd",font:G.MONOSPACE},{interval:["1F101","1F10A"],base:Y.DIGIT,subst:{},offset:0,category:"No",font:V.COMMA},{interval:["24B6","24CF"],base:Y.LATINCAP,subst:{},capital:!0,category:"So",font:V.CIRCLED},{interval:["24D0","24E9"],base:Y.LATINSMALL,subst:{},capital:!1,category:"So",font:V.CIRCLED},{interval:["1F110","1F129"],base:Y.LATINCAP,subst:{},capital:!0,category:"So",font:V.PARENTHESIZED},{interval:["249C","24B5"],base:Y.LATINSMALL,subst:{},capital:!1,category:"So",font:V.PARENTHESIZED},{interval:["1F130","1F149"],base:Y.LATINCAP,subst:{},capital:!0,category:"So",font:V.SQUARED},{interval:["1F170","1F189"],base:Y.LATINCAP,subst:{},capital:!0,category:"So",font:V.NEGATIVESQUARED},{interval:["1F150","1F169"],base:Y.LATINCAP,subst:{},capital:!0,category:"So",font:V.NEGATIVECIRCLED}],z=new Map;function Q(e,t){return e+t.split("-").map((e=>e[0].toUpperCase()+e.slice(1))).join("")}for(const e of K){const t=Q(e.base,e.font),n=W(e.interval,e.subst);let r=z.get(t);r?r.unicode=r.unicode.concat(n):(r=e,r.unicode=n,z.set(t,r))}var $;!function(e){e.PUNCTUATION="punctuation",e.FENCE="fence",e.NUMBER="number",e.IDENTIFIER="identifier",e.TEXT="text",e.OPERATOR="operator",e.RELATION="relation",e.LARGEOP="largeop",e.FUNCTION="function",e.ACCENT="accent",e.FENCED="fenced",e.FRACTION="fraction",e.PUNCTUATED="punctuated",e.RELSEQ="relseq",e.MULTIREL="multirel",e.INFIXOP="infixop",e.PREFIXOP="prefixop",e.POSTFIXOP="postfixop",e.APPL="appl",e.INTEGRAL="integral",e.BIGOP="bigop",e.SQRT="sqrt",e.ROOT="root",e.LIMUPPER="limupper",e.LIMLOWER="limlower",e.LIMBOTH="limboth",e.SUBSCRIPT="subscript",e.SUPERSCRIPT="superscript",e.UNDERSCORE="underscore",e.OVERSCORE="overscore",e.TENSOR="tensor",e.TABLE="table",e.MULTILINE="multiline",e.MATRIX="matrix",e.VECTOR="vector",e.CASES="cases",e.ROW="row",e.LINE="line",e.CELL="cell",e.ENCLOSE="enclose",e.INFERENCE="inference",e.RULELABEL="rulelabel",e.CONCLUSION="conclusion",e.PREMISES="premises",e.UNKNOWN="unknown",e.EMPTY="empty"}($||($={}));const J=Object.assign({},$);var Z;!function(e){e.COMMA="comma",e.SEMICOLON="semicolon",e.ELLIPSIS="ellipsis",e.FULLSTOP="fullstop",e.QUESTION="question",e.EXCLAMATION="exclamation",e.QUOTES="quotes",e.DASH="dash",e.TILDE="tilde",e.PRIME="prime",e.DEGREE="degree",e.VBAR="vbar",e.COLON="colon",e.OPENFENCE="openfence",e.CLOSEFENCE="closefence",e.APPLICATION="application",e.DUMMY="dummy",e.UNIT="unit",e.LABEL="label",e.OPEN="open",e.CLOSE="close",e.TOP="top",e.BOTTOM="bottom",e.NEUTRAL="neutral",e.METRIC="metric",e.LATINLETTER="latinletter",e.GREEKLETTER="greekletter",e.OTHERLETTER="otherletter",e.NUMBERSET="numbersetletter",e.INTEGER="integer",e.FLOAT="float",e.OTHERNUMBER="othernumber",e.INFTY="infty",e.MIXED="mixed",e.MULTIACCENT="multiaccent",e.OVERACCENT="overaccent",e.UNDERACCENT="underaccent",e.UNDEROVER="underover",e.SUBSUP="subsup",e.LEFTSUB="leftsub",e.LEFTSUPER="leftsuper",e.RIGHTSUB="rightsub",e.RIGHTSUPER="rightsuper",e.LEFTRIGHT="leftright",e.ABOVEBELOW="abovebelow",e.INTERVAL="interval",e.SETEMPTY="set empty",e.SETEXT="set extended",e.SETSINGLE="set singleton",e.SETCOLLECT="set collection",e.STRING="string",e.SPACE="space",e.ANNOTATION="annotation",e.TEXT="text",e.SEQUENCE="sequence",e.ENDPUNCT="endpunct",e.STARTPUNCT="startpunct",e.NEGATIVE="negative",e.POSITIVE="positive",e.NEGATION="negation",e.MULTIOP="multiop",e.PREFIXOP="prefix operator",e.POSTFIXOP="postfix operator",e.LIMFUNC="limit function",e.INFIXFUNC="infix function",e.PREFIXFUNC="prefix function",e.POSTFIXFUNC="postfix function",e.SIMPLEFUNC="simple function",e.COMPFUNC="composed function",e.SUM="sum",e.INTEGRAL="integral",e.GEOMETRY="geometry",e.BOX="box",e.BLOCK="block",e.ADDITION="addition",e.MULTIPLICATION="multiplication",e.SUBTRACTION="subtraction",e.IMPLICIT="implicit",e.DIVISION="division",e.VULGAR="vulgar",e.EQUALITY="equality",e.INEQUALITY="inequality",e.ARROW="arrow",e.ELEMENT="element",e.NONELEMENT="nonelement",e.REELEMENT="reelement",e.RENONELEMENT="renonelement",e.SET="set",e.DETERMINANT="determinant",e.ROWVECTOR="rowvector",e.BINOMIAL="binomial",e.SQUAREMATRIX="squarematrix",e.CYCLE="cycle",e.MULTILINE="multiline",e.MATRIX="matrix",e.VECTOR="vector",e.CASES="cases",e.TABLE="table",e.CAYLEY="cayley",e.PROOF="proof",e.LEFT="left",e.RIGHT="right",e.UP="up",e.DOWN="down",e.FINAL="final",e.SINGLE="single",e.HYP="hyp",e.AXIOM="axiom",e.LOGIC="logic",e.UNKNOWN="unknown",e.MGLYPH="mglyph"}(Z||(Z={}));const ee=Object.assign({},Z);var te;!function(e){e.CALIGRAPHIC="caligraphic",e.CALIGRAPHICBOLD="caligraphic-bold",e.OLDSTYLE="oldstyle",e.OLDSTYLEBOLD="oldstyle-bold",e.UNKNOWN="unknown"}(te||(te={}));const ne=Object.assign(Object.assign(Object.assign({},G),te),V);var re;!function(e){e.ALLLETTERS="allLetters",e.D="d",e.BAR="bar",e.TILDE="tilde"}(re||(re={}));const oe=Object.assign(Object.assign({},Y),re);var ie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const se={functionApplication:String.fromCodePoint(8289),invisibleTimes:String.fromCodePoint(8290),invisibleComma:String.fromCodePoint(8291),invisiblePlus:String.fromCodePoint(8292)};class ae extends Map{get(e){return super.get(e)||{role:ee.UNKNOWN,type:J.UNKNOWN,font:ne.UNKNOWN}}}class ce extends Map{set(e,t,n=""){return super.set(this.secKey(t,e),n||t),this}has(e,t){return super.has(this.secKey(t,e))}get(e,t){return super.get(this.secKey(t,e))}secKey(e,t){return t?`${e} ${t}`:`${e}`}}const le={Meaning:new ae,Secondary:new ce,FencesHoriz:new Map,FencesVert:new Map,LatexCommands:new Map};function ue(e,t){for(const n of e)le.Meaning.set(n,{role:t.role||ee.UNKNOWN,type:t.type||J.UNKNOWN,font:t.font||ne.UNKNOWN}),t.secondary&&le.Secondary.set(n,t.secondary)}function he(e,t,n=1){const r={},o=function(e){let t=[];for(const n of e)Array.isArray(n)?t=t.concat(j(n,{}).map((e=>parseInt(e,16)))):t.push(parseInt(n,16));return t}(t);for(const t of o)r[t]||(e.set(String.fromCodePoint(t),String.fromCodePoint(t+n)),r[t]=!0,r[t+n]=!0)}const de=["cos","cot","csc","sec","sin","tan","arccos","arccot","arccsc","arcsec","arcsin","arctan"].concat(["cosh","coth","csch","sech","sinh","tanh","arcosh","arcoth","arcsch","arsech","arsinh","artanh"],["deg","det","dim","hom","ker","Tr"],["log","ln","lg","exp","gcd","lcm","arg","im","re","Pr"]);function fe(e,t,n,r,o,i=[],s={},a={}){const c=z.get(Q(e,r));c&&(c.unicode.forEach((e=>{le.Meaning.set(e,{type:t,role:n,font:o}),i.forEach((t=>le.Secondary.set(e,t)))})),function(e,t){for(const[n,r]of Object.entries(t)){const t=e[n];void 0!==t&&le.Meaning.set(t,r)}}(c.unicode,s),function(e,t){for(const[n,r]of Object.entries(t)){const t=e[n];void 0!==t&&le.Secondary.set(t,r)}}(c.unicode,a))}[{set:["23","26","40","5c","a1","a7","b6","bf","2017",["2022","2025"],"2027","203b","203c",["2041","2043"],["2047","2049"],["204b","204d"],"2050","2055","2056",["2058","205e"],"2234","2235","fe45","fe46","fe5f","fe60","fe68","fe6b","ff03","ff06","ff0f","ff20","ff3c"],type:J.PUNCTUATION,role:ee.UNKNOWN},{set:["22","ab","bb","2dd",["2018","201f"],"2039","203a",["301d","301f"],"fe10","ff02","ff07"],type:J.PUNCTUATION,role:ee.QUOTES},{set:["3b","204f","2a1f","2a3e","fe14","fe54","ff1b"],type:J.PUNCTUATION,role:ee.SEMICOLON},{set:["3f","203d","fe16","fe56","ff1f"],type:J.PUNCTUATION,role:ee.QUESTION},{set:["21","fe15","fe57","ff01"],type:J.PUNCTUATION,role:ee.EXCLAMATION},{set:["5e","60","a8","aa","b4","ba","2c7",["2d8","2da"],"2040","207a","207d","207e","ff3e","ff40"],type:J.PUNCTUATION,role:ee.OVERACCENT},{set:["b8","2db","2038","203f","2054","208a","208d","208e"],type:J.PUNCTUATION,role:ee.UNDERACCENT},{set:["3a","2982","fe13","fe30","fe55","ff1a"],type:J.PUNCTUATION,role:ee.COLON},{set:["2c","2063","fe50","ff0c"],type:J.PUNCTUATION,role:ee.COMMA},{set:["2026",["22ee","22f1"],"fe19"],type:J.PUNCTUATION,role:ee.ELLIPSIS},{set:["2e","fe52","ff0e"],type:J.PUNCTUATION,role:ee.FULLSTOP},{set:["2d","207b","208b","2212","2796","fe63","ff0d"],type:J.OPERATOR,role:ee.DASH,secondary:oe.BAR},{set:["5f","af",["2010","2015"],"203e","208b",["fe49","fe4f"],"fe58","ff3f","ffe3"],type:J.PUNCTUATION,role:ee.DASH,secondary:oe.BAR},{set:["7e","2dc","2f7","303","330","334","2053","223c","223d","301c","ff5e"],type:J.OPERATOR,role:ee.TILDE,secondary:oe.TILDE},{set:["27","2b9","2ba",["2032","2037"],"2057"],type:J.PUNCTUATION,role:ee.PRIME},{set:["b0"],type:J.PUNCTUATION,role:ee.DEGREE},{set:["2b","b1","2064","2213","2214","2228","222a",["228c","228e"],"2294","2295","229d","229e","22bb","22bd","22c4","22ce","22d3","2304","271b","271c","2795","27cf","29fa","29fb","29fe",["2a22","2a28"],"2a2d","2a2e","2a39","2a42","2a45","2a46","2a48","2a4a","2a4c","2a4f","2a50","2a52","2a54","2a56","2a57","2a59","2a5b","2a5d",["2a61","2a63"],"2adc","2add","fe62","ff0b"],type:J.OPERATOR,role:ee.ADDITION},{set:["2a","b7","d7","2020","2021","204e","2051","2062",["2217","2219"],"2227","2229","2240","2293","2297",["2299","229b"],"22a0","22a1","22b9","22bc",["22c5","22cc"],"22cf","22d2","22d4","2303","2305","2306","25cb","2715","2716","27ce","27d1",["29d1","29d7"],"29e2","2a1d",["2a2f","2a37"],["2a3b","2a3d"],"2a40","2a43","2a44","2a47","2a49","2a4b","2a4d","2a4e","2a51","2a53","2a55","2a58","2a5a","2a5c",["2a5e","2a60"],"2ada","2adb","fe61","ff0a"],type:J.OPERATOR,role:ee.MULTIPLICATION},{set:["2d","af","2010","2011","2052","207b","208b","2212","2216","2238","2242","2296","229f","2796","29ff",["2a29","2a2c"],"2a3a","2a41","fe63","ff0d"],type:J.OPERATOR,role:ee.SUBTRACTION},{set:["2f","f7","2044","2215","2298","2797","27cc","29bc",["29f5","29f9"],"2a38"],type:J.OPERATOR,role:ee.DIVISION},{set:["25","2030","2031","ff05","fe6a"],type:J.OPERATOR,role:ee.POSTFIXOP},{set:["ac","2200","2201","2203","2204","2206",["221a","221c"],"2310","ffe2"],type:J.OPERATOR,role:ee.PREFIXOP},{set:["2320","2321","23aa","23ae","23af","23b2","23b3","23b6","23b7"],type:J.OPERATOR,role:ee.PREFIXOP},{set:["1d7ca","1d7cb"],type:J.OPERATOR,role:ee.PREFIXOP,font:ne.BOLD},{set:["3d","7e","207c","208c","221d","2237",["223a","223f"],"2243","2245","2248",["224a","224e"],["2251","225f"],"2261","2263","229c","22cd","22d5","29e4","29e6","2a66","2a67",["2a6a","2a6c"],["2a6c","2a78"],"fe66","ff1d"],type:J.RELATION,role:ee.EQUALITY},{set:["3c","3e","2241","2242","2244","2246","2247","2249","224f","2250","2260","2262",["2264","2281"],"22b0","22b1",["22d6","22e1"],["22e6","22e9"],["2976","2978"],"29c0","29c1","29e1","29e3","29e5",["2a79","2abc"],["2af7","2afa"],"fe64","fe65","ff1c","ff1e"],type:J.RELATION,role:ee.INEQUALITY},{set:[["2282","228b"],["228f","2292"],["22b2","22b8"],"22d0","22d1",["22e2","22e5"],["22ea","22ed"],"27c3","27c4",["27c7","27c9"],["27d5","27d7"],"27dc",["2979","297b"],"29df",["2abd","2ad8"]],type:J.RELATION,role:ee.SET},{set:["2236",["27e0","27e5"],"292b","292c",["29b5","29bb"],"29be","29bf",["29c2","29d0"]],type:J.RELATION,role:ee.UNKNOWN},{set:["2205",["29b0","29b4"]],type:J.IDENTIFIER,role:ee.SETEMPTY},{set:["1ab2","221e",["29dc","29de"]],type:J.IDENTIFIER,role:ee.INFTY},{set:["22a2","22a3",["22a6","22af"],"27da","27db","27dd","27de","2ade",["2ae2","2ae6"],"2aec","2aed"],type:J.RELATION,role:ee.LOGIC},{set:["22a4","22a5","22ba","27d8","27d9","27df","2adf","2ae0",["2ae7","2aeb"],"2af1"],type:J.IDENTIFIER,role:ee.LOGIC},{set:[["2190","21ff"],"2301","2324","238b","2794",["2798","27af"],["27b1","27be"],["27f0","27ff"],["2900","292a"],["292d","2975"],["297c","297f"],["2b00","2b11"],["2b30","2b4c"],["ffe9","ffec"]],type:J.RELATION,role:ee.ARROW},{set:["2208","220a",["22f2","22f9"],"22ff","27d2","2ad9"],type:J.OPERATOR,role:ee.ELEMENT},{set:["2209"],type:J.OPERATOR,role:ee.NONELEMENT},{set:["220b","220d",["22fa","22fe"]],type:J.OPERATOR,role:ee.REELEMENT},{set:["220c"],type:J.OPERATOR,role:ee.RENONELEMENT},{set:[["220f","2211"],["22c0","22c3"],["2a00","2a0b"],"2a3f","2afc","2aff"],type:J.LARGEOP,role:ee.SUM},{set:["2140"],type:J.LARGEOP,role:ee.SUM,font:ne.DOUBLESTRUCK},{set:[["222b","2233"],["2a0c","2a17"],["2a17","2a1c"]],type:J.LARGEOP,role:ee.INTEGRAL},{set:[["2500","257F"]],type:J.RELATION,role:ee.BOX},{set:[["2580","259F"]],type:J.IDENTIFIER,role:ee.BLOCK},{set:[["25A0","25FF"],["2B12","2B2F"],["2B50","2B59"]],type:J.RELATION,role:ee.GEOMETRY},{set:["220e","2300","2302","2311","29bd","29e0",["29e8","29f3"],"2a1e","2afe","ffed","ffee"],type:J.OPERATOR,role:ee.GEOMETRY},{set:[["221f","2222"],"22be","22bf",["2312","2314"],"237c","27c0",["299b","29af"]],type:J.OPERATOR,role:ee.GEOMETRY},{set:["24",["a2","a5"],"b5","2123",["2125","2127"],"212a","212b","fe69","ff04","ffe0","ffe1","ffe5","ffe6"],type:J.IDENTIFIER,role:ee.UNKNOWN},{set:["a9","ae","210f","2114","2116","2117",["211e","2122"],"212e","2132",["2139","213b"],["2141","2144"],"214d","214e",["1f12a","1f12c"],"1f18a"],type:J.IDENTIFIER,role:ee.OTHERLETTER},{set:["2224","2226","2239","2307","27b0","27bf","27c1","27c2","27ca","27cb","27cd","27d0","27d3","27d4","2981","2999","299a","29e7","29f4","2a20","2a21","2a64","2a65","2a68","2a69","2ae1",["2aee","2af0"],"2af2","2af3","2af5","2af6","2afb","2afd"],type:J.OPERATOR,role:ee.UNKNOWN},{set:["2605","2606","26aa","26ab",["2720","274d"]],type:J.OPERATOR,role:ee.UNKNOWN},{set:[["2145","2149"]],type:J.IDENTIFIER,role:ee.LATINLETTER,font:ne.DOUBLESTRUCKITALIC,secondary:oe.ALLLETTERS},{set:[["213c","213f"]],type:J.IDENTIFIER,role:ee.GREEKLETTER,font:ne.DOUBLESTRUCK,secondary:oe.ALLLETTERS},{set:["3d0","3d7","3f6",["1d26","1d2a"],"1d5e","1d60",["1d66","1d6a"]],type:J.IDENTIFIER,role:ee.GREEKLETTER,font:ne.NORMAL,secondary:oe.ALLLETTERS},{set:[["2135","2138"]],type:J.IDENTIFIER,role:ee.OTHERLETTER,font:ne.NORMAL,secondary:oe.ALLLETTERS},{set:["131","237"],type:J.IDENTIFIER,role:ee.LATINLETTER,font:ne.NORMAL},{set:["1d6a4","1d6a5"],type:J.IDENTIFIER,role:ee.LATINLETTER,font:ne.ITALIC},{set:["2113","2118"],type:J.IDENTIFIER,role:ee.LATINLETTER,font:ne.SCRIPT},{set:[["c0","d6"],["d8","f6"],["f8","1bf"],["1c4","2af"],["1d00","1d25"],["1d6b","1d9a"],["1e00","1ef9"],["363","36f"],["1dd3","1de6"],["1d62","1d65"],"1dca","2071","207f",["2090","209c"],"2c7c"],type:J.IDENTIFIER,role:ee.LATINLETTER,font:ne.NORMAL},{set:[["00bc","00be"],["2150","215f"],"2189"],type:J.NUMBER,role:ee.FLOAT},{set:["23E8",["3248","324f"]],type:J.NUMBER,role:ee.INTEGER},{set:[["214A","214C"],"2705","2713","2714","2717","2718"],type:J.IDENTIFIER,role:ee.UNKNOWN},{set:["20","a0","ad",["2000","200f"],["2028","202f"],["205f","2060"],"206a","206b","206e","206f","feff",["fff9","fffb"]],type:J.TEXT,role:ee.SPACE},{set:["7c","a6","2223","23b8","23b9","23d0","2758",["fe31","fe34"],"ff5c","ffe4","ffe8"],type:J.FENCE,role:ee.NEUTRAL},{set:["2016","2225","2980","2af4"],type:J.FENCE,role:ee.METRIC}].forEach((e=>{var{set:t}=e,n=ie(e,["set"]);return ue(function(e){let t=[];for(const n of e)Array.isArray(n)?t=t.concat(W(n)):t.push(String.fromCodePoint(parseInt(n,16)));return t}(t),n)})),he(le.FencesVert,["23b4",["23dc","23e1"],["fe35","fe44"],"fe47"]),he(le.FencesHoriz,["28","2045","207D","208D",["2308","230f"],["231c","231f"],"2329","23b0",["2768","2775"],"27c5",["27e6","27ef"],["2983","2998"],["29d8","29db"],"29fc",["2e22","2e29"],["3008","3011"],["3014","301b"],"fd3e","fe17",["fe59","fe5e"],"ff08","ff5f","ff62"]),he(le.FencesHoriz,["5b","7b","ff3b","ff5b"],2),he(le.FencesHoriz,[["239b","23a6"]],3),he(le.FencesHoriz,[["23a7","23a9"]],4),ue([...le.FencesHoriz.keys()],{type:J.FENCE,role:ee.OPEN}),ue([...le.FencesHoriz.values()],{type:J.FENCE,role:ee.CLOSE}),ue([...le.FencesVert.keys()],{type:J.FENCE,role:ee.TOP}),ue([...le.FencesVert.values()],{type:J.FENCE,role:ee.BOTTOM}),function(){for(const[e,t]of Object.entries(ne)){const n=!!V[e]?ne.UNKNOWN:t===ne.FULLWIDTH?ne.NORMAL:t;fe(Y.LATINCAP,J.IDENTIFIER,ee.LATINLETTER,t,n,[oe.ALLLETTERS]),fe(Y.LATINSMALL,J.IDENTIFIER,ee.LATINLETTER,t,n,[oe.ALLLETTERS],{},{3:oe.D}),fe(Y.GREEKCAP,J.IDENTIFIER,ee.GREEKLETTER,t,n,[oe.ALLLETTERS]),fe(Y.GREEKSMALL,J.IDENTIFIER,ee.GREEKLETTER,t,n,[oe.ALLLETTERS],{0:{type:J.OPERATOR,role:ee.PREFIXOP,font:n},26:{type:J.OPERATOR,role:ee.PREFIXOP,font:n}}),fe(Y.DIGIT,J.NUMBER,ee.INTEGER,t,n)}}(),ue(["inf","lim","liminf","limsup","max","min","sup","injlim","projlim"],{type:J.FUNCTION,role:ee.LIMFUNC}),ue(de,{type:J.FUNCTION,role:ee.PREFIXFUNC}),ue(["mod","rem"],{type:J.OPERATOR,role:ee.PREFIXFUNC});const pe=[];function Ee(e,t){for(let n,r=0;n=pe[r];r++){const r=n.compare(e,t);if(0!==r)return r}return 0}function me(e){if(e.length<=1)return e;const t=e.slice();!function(e){e.sort(Ee)}(t);const n=[];let r;do{r=t.pop(),n.push(r)}while(r&&t.length&&0===Ee(t[t.length-1],r));return n}function Ne(e,t){return e.match(/^.+:.+$/)||!t?e:e+":"+t}new class{constructor(e,t=null){this.comparator=e,this.type=t,function(e){pe.push(e)}(this)}compare(e,t){return this.type&&this.type===e.type&&this.type===t.type?this.comparator(e,t):0}}((function(e,t){return e.role===ee.SIMPLEFUNC?1:t.role===ee.SIMPLEFUNC?-1:0}),J.IDENTIFIER);class ge extends Map{set(e,t){return super.set(Ne(e,t.font),t),this}setNode(e){this.set(e.textContent,e.meaning())}get(e,t=null){return super.get(Ne(e,t))}getNode(e){return this.get(e.textContent,e.font)}}class Te extends Map{add(e,t){const n=this.get(e);n?n.push(t):super.set(e,[t])}get(e,t=null){return super.get(Ne(e,t))}getNode(e){return this.get(e.textContent,e.font)}minimize(){for(const[e,t]of this)1===t.length&&this.delete(e)}isMultiValued(){for(const e of this.values())if(e.length>1)return!0;return!1}}class Ie extends Te{add(e,t){super.add(Ne(e,t.font),t)}addNode(e){this.add(e.textContent,e)}toString(){const e=[];for(const[t,n]of this){const r=Array(t.length+3).join(" "),o=n.map((e=>e.toString())).join("\n"+r);e.push(t+": "+o)}return e.join("\n")}collateMeaning(){const e=new be;for(const[t,n]of this)e.set(t,n.map((e=>e.meaning())));return e}}class be extends Te{add(e,t){const n=this.get(e,t.font);n&&n.find((function(e){return r=t,(n=e).type===r.type&&n.role===r.role&&n.font===r.font;var n,r}))||super.add(Ne(e,t.font),t)}addNode(e){this.add(e.textContent,e.meaning())}toString(){const e=[];for(const[t,n]of this){const r=Array(t.length+3).join(" "),o=n.map((e=>`{type: ${e.type}, role: ${e.role}, font: ${e.font}}`)).join("\n"+r);e.push(t+": "+o)}return e.join("\n")}reduce(){for(const[e,t]of this)1!==t.length&&this.set(e,me(t))}default(){const e=new ge;for(const[t,n]of this)1===n.length&&e.set(t,n[0]);return e}newDefault(){const e=this.default();this.reduce();const t=this.default();return e.size!==t.size?t:null}}var Ae;!function(e){e.ANNOTATION="ANNOTATION",e.ANNOTATIONXML="ANNOTATION-XML",e.MACTION="MACTION",e.MALIGNGROUP="MALIGNGROUP",e.MALIGNMARK="MALIGNMARK",e.MATH="MATH",e.MENCLOSE="MENCLOSE",e.MERROR="MERROR",e.MFENCED="MFENCED",e.MFRAC="MFRAC",e.MGLYPH="MGLYPH",e.MI="MI",e.MLABELEDTR="MLABELEDTR",e.MMULTISCRIPTS="MMULTISCRIPTS",e.MN="MN",e.MO="MO",e.MOVER="MOVER",e.MPADDED="MPADDED",e.MPHANTOM="MPHANTOM",e.MPRESCRIPTS="MPRESCRIPTS",e.MROOT="MROOT",e.MROW="MROW",e.MS="MS",e.MSPACE="MSPACE",e.MSQRT="MSQRT",e.MSTYLE="MSTYLE",e.MSUB="MSUB",e.MSUBSUP="MSUBSUP",e.MSUP="MSUP",e.MTABLE="MTABLE",e.MTD="MTD",e.MTEXT="MTEXT",e.MTR="MTR",e.MUNDER="MUNDER",e.MUNDEROVER="MUNDEROVER",e.NONE="NONE",e.SEMANTICS="SEMANTICS"}(Ae||(Ae={}));const Oe=Object.values(Ae),ye=[Ae.MO,Ae.MI,Ae.MN,Ae.MTEXT,Ae.MS,Ae.MSPACE],Re=[Ae.MERROR,Ae.MPHANTOM,Ae.MALIGNGROUP,Ae.MALIGNMARK,Ae.MPRESCRIPTS,Ae.ANNOTATION,Ae.ANNOTATIONXML],Le=[Ae.MATH,Ae.MROW,Ae.MPADDED,Ae.MACTION,Ae.NONE,Ae.MSTYLE,Ae.SEMANTICS],Ce=[Ae.MROOT,Ae.MSQRT],_e=["aria-label","exact-speech","alt"];function Se(e){return!!e&&P(e)===Ae.MATH}function De(e){return!!e&&(Re.includes(P(e))||!Oe.includes(P(e)))}function Me(e){return!!e&&Le.includes(P(e))}function ve(e){return!!e&&P(e)===Ae.MGLYPH&&!function(e){return!!e&&ye.includes(P(e))}(e.parentNode)}function we(e){const t=[];for(let n,r=0;n=e[r];r++){if(n.nodeType!==S.ELEMENT_NODE)continue;const e=P(n);Re.includes(e)||(Le.includes(e)&&0===n.childNodes.length||t.push(n))}return t}function Pe(e,t){var n;if(null===(n=t.attributes)||void 0===n?void 0:n.length){const n=t.attributes;for(let t=n.length-1;t>=0;t--){const r=n[t].name;r.match(/^ext/)&&(e.attributes[r]=n[t].value,e.nobreaking=!0),_e.includes(r)&&(e.attributes["ext-speech"]=n[t].value,e.nobreaking=!0),r.match(/texclass$/)&&(e.attributes.texclass=n[t].value),"data-latex"===r.toLowerCase()&&(e.attributes.latex=n[t].value),"href"===r&&(e.attributes.href=n[t].value,e.nobreaking=!0)}}}function xe(e){return e&&e.embellished&&e.childNodes.length>0?xe(e.childNodes[0]):e}function Ue(e,t,n){n&&e.reverse();const r=[];for(let o,i=0;o=e[i];i++){if(t(o))return n?{head:e.slice(i+1).reverse(),div:o,tail:r.reverse()}:{head:r,div:o,tail:e.slice(i+1)};r.push(o)}return n?{head:[],div:null,tail:r.reverse()}:{head:r,div:null,tail:[]}}function Fe(e,t){let n=e;const r=[],o=[];let i=null;do{i=Ue(n,t),o.push(i.head),r.push(i.div),n=i.tail}while(i.div);return r.pop(),{rel:r,comp:o}}var ke;!function(e){e.EMBELLISHED="embellished",e.FENCEPOINTER="fencepointer",e.FONT="font",e.ID="id",e.ANNOTATION="annotation",e.ROLE="role",e.TYPE="type",e.CHILDREN="children",e.CONTENT="content",e.TEXT="$t"}(ke||(ke={}));class Be{static fromXml(e){const t=parseInt(e.getAttribute("id"),10),n=new Be(t);return n.type=e.tagName,Be.setAttribute(n,e,"role"),Be.setAttribute(n,e,"font"),Be.setAttribute(n,e,"embellished"),Be.setAttribute(n,e,"fencepointer","fencePointer"),e.getAttribute("annotation")&&n.parseAnnotation(e.getAttribute("annotation")),Pe(n,e),Be.processChildren(n,e),n}static setAttribute(e,t,n,r){r=r||n;const o=t.getAttribute(n);o&&(e[r]=o)}static processChildren(e,t){for(const n of C(t.childNodes)){if(n.nodeType===S.TEXT_NODE){e.textContent=n.textContent;continue}const t=C(n.childNodes).map(Be.fromXml);t.forEach((t=>t.parent=e)),"CONTENT"===P(n)?e.contentNodes=t:e.childNodes=t}}constructor(e){this.id=e,this.mathml=[],this.parent=null,this.type=J.UNKNOWN,this.role=ee.UNKNOWN,this.font=ne.UNKNOWN,this.embellished=null,this.fencePointer="",this.childNodes=[],this.textContent="",this.mathmlTree=null,this.contentNodes=[],this.annotation={},this.attributes={},this.nobreaking=!1}querySelectorAll(e){let t=[];for(let n,r=0;n=this.childNodes[r];r++)t=t.concat(n.querySelectorAll(e));for(let n,r=0;n=this.contentNodes[r];r++)t=t.concat(n.querySelectorAll(e));return e(this)&&t.unshift(this),t}xml(e,t){const n=function(n,r){const o=r.map((function(n){return n.xml(e,t)})),i=e.createElementNS("",n);for(let e,t=0;e=o[t];t++)i.appendChild(e);return i},r=e.createElementNS("",this.type);return t||this.xmlAttributes(r),r.textContent=this.textContent,this.contentNodes.length>0&&r.appendChild(n(ke.CONTENT,this.contentNodes)),this.childNodes.length>0&&r.appendChild(n(ke.CHILDREN,this.childNodes)),r}toString(e=!1){const t=_("<snode/>");return x(this.xml(t.ownerDocument,e))}allAttributes(){const e=[];return e.push([ke.ROLE,this.role]),this.font!==ne.UNKNOWN&&e.push([ke.FONT,this.font]),Object.keys(this.annotation).length&&e.push([ke.ANNOTATION,this.annotationXml()]),this.embellished&&e.push([ke.EMBELLISHED,this.embellished]),this.fencePointer&&e.push([ke.FENCEPOINTER,this.fencePointer]),e.push([ke.ID,this.id.toString()]),e}annotationXml(){const e=[];for(const[t,n]of Object.entries(this.annotation))n.forEach((n=>e.push(t+":"+n)));return e.join(";")}attributesXml(){const e=[];for(const[t,n]of Object.entries(this.attributes))e.push(t+":"+Be.escapeValue(n));return e.join(";")}toJson(){const e={};e[ke.TYPE]=this.type;const t=this.allAttributes();for(let n,r=0;n=t[r];r++)e[n[0]]=n[1].toString();return this.textContent&&(e[ke.TEXT]=this.textContent),this.childNodes.length&&(e[ke.CHILDREN]=this.childNodes.map((function(e){return e.toJson()}))),this.contentNodes.length&&(e[ke.CONTENT]=this.contentNodes.map((function(e){return e.toJson()}))),e}updateContent(e,t){const n=t?e.replace(/^[ \f\n\r\t\v\u200b]*/,"").replace(/[ \f\n\r\t\v\u200b]*$/,""):e.trim();if(e=e&&!n?e:n,this.textContent===e)return;const r=le.Meaning.get(e.replace(/\s/g," "));this.textContent=e,this.role=r.role,this.type=r.type,this.font=r.font}addMathmlNodes(e){for(let t,n=0;t=e[n];n++)-1===this.mathml.indexOf(t)&&this.mathml.push(t)}appendChild(e){this.childNodes.push(e),this.addMathmlNodes(e.mathml),e.parent=this}replaceChild(e,t){const n=this.childNodes.indexOf(e);if(-1===n)return;e.parent=null,t.parent=this,this.childNodes[n]=t;const r=e.mathml.filter((function(e){return-1===t.mathml.indexOf(e)})),o=t.mathml.filter((function(t){return-1===e.mathml.indexOf(t)}));this.removeMathmlNodes(r),this.addMathmlNodes(o)}appendContentNode(e){e&&(this.contentNodes.push(e),this.addMathmlNodes(e.mathml),e.parent=this)}removeContentNode(e){if(e){const t=this.contentNodes.indexOf(e);-1!==t&&this.contentNodes.slice(t,1)}}equals(e){if(!e)return!1;if(this.type!==e.type||this.role!==e.role||this.textContent!==e.textContent||this.childNodes.length!==e.childNodes.length||this.contentNodes.length!==e.contentNodes.length)return!1;for(let t,n,r=0;t=this.childNodes[r],n=e.childNodes[r];r++)if(!t.equals(n))return!1;for(let t,n,r=0;t=this.contentNodes[r],n=e.contentNodes[r];r++)if(!t.equals(n))return!1;return!0}displayTree(){console.info(this.displayTree_(0))}addAnnotation(e,t){t&&this.addAnnotation_(e,t)}getAnnotation(e){const t=this.annotation[e];return t||[]}hasAnnotation(e,t){const n=this.annotation[e];return!!n&&-1!==n.indexOf(t)}parseAnnotation(e){const t=e.split(";");for(let e=0,n=t.length;e<n;e++){const n=t[e].split(":");this.addAnnotation(n[0],n[1])}}meaning(){return{type:this.type,role:this.role,font:this.font}}xmlAttributes(e){const t=this.allAttributes();for(let n,r=0;n=t[r];r++)e.setAttribute(n[0],n[1]);this.addExternalAttributes(e)}addExternalAttributes(e){for(const[t,n]of Object.entries(this.attributes))e.setAttribute(t,n)}static escapeValue(e){return e.replace(/;/g,"\\0003B")}parseAttributes(e){if(!e)return;const t=e.split(";");for(let e=0,n=t.length;e<n;e++){const[n,...r]=t[e].split(":");n&&(this.attributes[n]=r.join("").replace(/\\0003B/g,";"))}}removeMathmlNodes(e){const t=this.mathml;for(let n,r=0;n=e[r];r++){const e=t.indexOf(n);-1!==e&&t.splice(e,1)}this.mathml=t}displayTree_(e){e++;const t=Array(e).join("  ");let n="";n+="\n"+t+this.toString(),n+="\n"+t+"MathmlTree:",n+="\n"+t+this.mathmlTreeString(),n+="\n"+t+"MathML:";for(let e,r=0;e=this.mathml[r];r++)n+="\n"+t+e.toString();return n+="\n"+t+"Begin Content",this.contentNodes.forEach((function(t){n+=t.displayTree_(e)})),n+="\n"+t+"End Content",n+="\n"+t+"Begin Children",this.childNodes.forEach((function(t){n+=t.displayTree_(e)})),n+="\n"+t+"End Children",n}mathmlTreeString(){return this.mathmlTree?this.mathmlTree.toString():"EMPTY"}addAnnotation_(e,t){const n=this.annotation[e];n&&!n.includes(t)?n.push(t):this.annotation[e]=[t]}}class qe{constructor(){this.leafMap=new Ie,this.defaultMap=new ge,this.idCounter_=-1}makeNode(e){return this.createNode_(e)}makeUnprocessed(e){const t=this.createNode_();return t.mathml=[e],t.mathmlTree=e,t}makeEmptyNode(){const e=this.createNode_();return e.type=J.EMPTY,e}makeContentNode(e){const t=this.createNode_();return t.updateContent(e),t}makeMultipleContentNodes(e,t){const n=[];for(let r=0;r<e;r++)n.push(this.makeContentNode(t));return n}makeLeafNode(e,t){if(!e)return this.makeEmptyNode();const n=this.makeContentNode(e);n.font=t||n.font;const r=this.defaultMap.getNode(n);return r&&(n.type=r.type,n.role=r.role,n.font=r.font),this.leafMap.addNode(n),n}makeBranchNode(e,t,n,r){const o=this.createNode_();return r&&o.updateContent(r),o.type=e,o.childNodes=t,o.contentNodes=n,t.concat(n).forEach((function(e){e.parent=o,o.addMathmlNodes(e.mathml)})),o}createNode_(e){return void 0!==e?this.idCounter_=Math.max(this.idCounter_,e):e=++this.idCounter_,new Be(e)}}class He{constructor(e){this.type=e,this.factory_=new qe}getFactory(){return this.factory_}setFactory(e){this.factory_=e}getType(){return this.type}parseList(e){const t=[];for(let n,r=0;n=e[r];r++)t.push(this.parse(n));return t}}function Ge(e,t){return e.type===t}function Ve(e,t){return e.embellished===t}function Ye(e,t){return e.role===t}function Xe(e){return Ge(e,J.FENCE)||Ge(e,J.PUNCTUATION)||Ge(e,J.OPERATOR)||Ge(e,J.RELATION)}function je(e){return Je(e)&&!Ye(e,ee.DIVISION)||Ge(e,J.APPL)||Qe(e)}function We(e){return Je(e)||Qe(e)}function Ke(e,t){return!!t&&Ge(t,J.IDENTIFIER)&&le.Secondary.has(e.textContent,oe.D)}function ze(e){if(Ge(e,J.IDENTIFIER)){const t=e.textContent[0];return t&&e.textContent[1]&&le.Secondary.has(t,oe.D)}return!1}function Qe(e){return Ze(e)||et(e)}function $e(e){return e.embellished?e.embellished:(t=e.type)===J.OPERATOR||t===J.RELATION||t===J.FENCE||t===J.PUNCTUATION?e.type:null;var t}function Je(e){return Ge(e,J.OPERATOR)||Ve(e,J.OPERATOR)}function Ze(e){return Ge(e,J.RELATION)||Ve(e,J.RELATION)}function et(e){return Ge(e,J.PUNCTUATION)||Ve(e,J.PUNCTUATION)}function tt(e){return Ge(e,J.FENCE)||Ve(e,J.FENCE)}function nt(e){return!(!e||!tt(e))&&(!e.embellished||rt(e))}function rt(e){return!e.embellished||!function(e){return Ge(e,J.TENSOR)&&(!Ge(e.childNodes[1],J.EMPTY)||!Ge(e.childNodes[2],J.EMPTY))&&(!Ge(e.childNodes[3],J.EMPTY)||!Ge(e.childNodes[4],J.EMPTY))}(e)&&((!Ye(e,ee.CLOSE)||!Ge(e,J.TENSOR))&&((!Ye(e,ee.OPEN)||!Ge(e,J.SUBSCRIPT)&&!Ge(e,J.SUPERSCRIPT))&&rt(e.childNodes[0])))}function ot(e){return!!e&&(Ge(e,J.TABLE)||Ge(e,J.MULTILINE))}function it(e){return!!e&&st(e)&&ot(e.childNodes[0])}function st(e){return!!e&&Ge(e,J.FENCED)&&(Ye(e,ee.LEFTRIGHT)||It(e))&&1===e.childNodes.length}function at(e,t){return t.length>0&&Ye(t[t.length-1],ee.OPENFENCE)}function ct(e){return e.childNodes.every((function(e){return e.childNodes.length<=1}))}function lt(e){return Ge(e,J.LARGEOP)||Ge(e,J.LIMBOTH)||Ge(e,J.LIMLOWER)||Ge(e,J.LIMUPPER)||Ge(e,J.FUNCTION)&&Ye(e,ee.LIMFUNC)||(Ge(e,J.OVERSCORE)||Ge(e,J.UNDERSCORE))&&lt(e.childNodes[0])}function ut(e,t,n){return 1===t.length&&(e[n].type===J.PUNCTUATION||e[n].embellished===J.PUNCTUATION)&&e[n]===t[0]}function ht(e){return Ge(e,J.IDENTIFIER)&&Ye(e,ee.SIMPLEFUNC)}const dt=[J.PUNCTUATION,J.PUNCTUATED,J.RELSEQ,J.MULTIREL,J.TABLE,J.MULTILINE,J.CASES,J.INFERENCE],ft=[J.LIMUPPER,J.LIMLOWER,J.LIMBOTH,J.SUBSCRIPT,J.SUPERSCRIPT,J.UNDERSCORE,J.OVERSCORE,J.TENSOR];function pt(e){const t=e.type;return-1===dt.indexOf(t)&&(t!==J.INFIXOP||e.role===ee.IMPLICIT)&&(t===J.FENCED?e.role!==ee.LEFTRIGHT||pt(e.childNodes[0]):-1===ft.indexOf(t)||pt(e.childNodes[0]))}function Et(e){return function(e){return e.type===J.NUMBER&&(e.role===ee.INTEGER||e.role===ee.FLOAT)}(e)||e.role===ee.VULGAR||e.role===ee.MIXED}function mt(e){const t=e.childNodes;return e.role===ee.UNIT&&(!t.length||t[0].role===ee.UNIT)}function Nt(e){const t=e.childNodes;return e.type===J.INFIXOP&&(e.role===ee.MULTIPLICATION||e.role===ee.IMPLICIT)&&t.length&&(mt(t[0])||Et(t[0]))&&e.childNodes.slice(1).every(mt)}function gt(e){return e.type===J.INFIXOP&&(e.role===ee.IMPLICIT||e.role===ee.UNIT&&!!e.contentNodes.length&&e.contentNodes[0].textContent===se.invisibleTimes)}function Tt(e){return e.type===J.INFIXOP&&e.role===ee.IMPLICIT}function It(e){return e.role===ee.NEUTRAL||e.role===ee.METRIC}function bt(e,t){return It(e)&&It(t)&&xe(e).textContent===xe(t).textContent}function At(e){return!!It(e)&&(!e.embellished||e.type!==J.SUPERSCRIPT&&e.type!==J.SUBSCRIPT&&(e.type!==J.TENSOR||e.childNodes[3].type===J.EMPTY&&e.childNodes[4].type===J.EMPTY))}function Ot(e){return!!It(e)&&(!e.embellished||(e.type!==J.TENSOR||e.childNodes[1].type===J.EMPTY&&e.childNodes[2].type===J.EMPTY))}function yt(e){return[ee.ELEMENT,ee.NONELEMENT,ee.REELEMENT,ee.RENONELEMENT].includes(e.role)}const Rt={factory:null,options:new m,updateFactory:function(e){Rt.factory=e},heuristics:new Map,flags:{combine_juxtaposition:!0,convert_juxtaposition:!0,multioperator:!0},blacklist:{},add:function(e){const t=e.name;Rt.heuristics.set(t,e),Rt.flags[t]||(Rt.flags[t]=!1)},run:function(e,t,n){const r=Rt.heuristics.get(e);return r&&!Rt.blacklist[e]&&(Rt.flags[e]||r.applicable(t))?r.apply(t):n?n(t):t}};class Lt{static getInstance(){return Lt.instance=Lt.instance||new Lt,Lt.instance}static tableToMultiline(e){if(!ct(e))return Rt.run("rewrite_subcases",e,Lt.classifyTable);e.type=J.MULTILINE;for(let t,n=0;t=e.childNodes[n];n++)Lt.rowToLine_(t,ee.MULTILINE);var t;return 1!==e.childNodes.length||Ge(t=e.childNodes[0],J.LINE)&&t.contentNodes.length&&Ye(t.contentNodes[0],ee.LABEL)||!st(e.childNodes[0].childNodes[0])||Lt.tableToMatrixOrVector_(Lt.rewriteFencedLine_(e)),Lt.binomialForm_(e),Lt.classifyMultiline(e),e}static number(e){e.type!==J.UNKNOWN&&e.type!==J.IDENTIFIER||(e.type=J.NUMBER),Lt.meaningFromContent(e,Lt.numberRole_),Lt.exprFont_(e)}static classifyMultiline(e){let t=0;const n=e.childNodes.length;let r;for(;t<n&&(!(r=e.childNodes[t])||!r.childNodes.length);)t++;if(t>=n)return;const o=r.childNodes[0].role;o!==ee.UNKNOWN&&e.childNodes.every((function(e){const t=e.childNodes[0];return!t||t.role===o&&(Ge(t,J.RELATION)||Ge(t,J.RELSEQ))}))&&(e.role=o)}static classifyTable(e){const t=Lt.computeColumns_(e);return Lt.classifyByColumns_(e,t,ee.EQUALITY)||Lt.classifyByColumns_(e,t,ee.INEQUALITY,[ee.EQUALITY])||Lt.classifyByColumns_(e,t,ee.ARROW)||Lt.detectCaleyTable(e),e}static detectCaleyTable(e){if(!e.mathmlTree)return!1;const t=e.mathmlTree,n=t.getAttribute("columnlines"),r=t.getAttribute("rowlines");return!(!n||!r)&&(!(!Lt.cayleySpacing(n)||!Lt.cayleySpacing(r))&&(e.role=ee.CAYLEY,!0))}static cayleySpacing(e){const t=e.split(" ");return("solid"===t[0]||"dashed"===t[0])&&t.slice(1).every((e=>"none"===e))}static proof(e,t,n){const r=Lt.separateSemantics(t);return Lt.getInstance().proof(e,r,n)}static findSemantics(e,t,n){const r=null==n?null:n,o=Lt.getSemantics(e);return!!o&&(!!o[t]&&(null==r||o[t]===r))}static getSemantics(e){const t=e.getAttribute("semantics");return t?Lt.separateSemantics(t):null}static removePrefix(e){const[,...t]=e.split("_");return t.join("_")}static separateSemantics(e){const t={};return e.split(";").forEach((function(e){const[n,r]=e.split(":");t[Lt.removePrefix(n)]=r})),t}static matchSpaces_(e,t){for(let n,r=0;n=t[r];r++){const t=e[r].mathmlTree,o=e[r+1].mathmlTree;if(!t||!o)continue;const i=t.nextSibling;if(!i||i===o)continue;const s=Lt.getSpacer_(i);s&&(n.mathml.push(s),n.mathmlTree=s,n.role=ee.SPACE)}}static getSpacer_(e){if(P(e)===Ae.MSPACE)return e;for(;Me(e)&&1===e.childNodes.length;)if(P(e=e.childNodes[0])===Ae.MSPACE)return e;return null}static fenceToPunct_(e){const t=Lt.FENCE_TO_PUNCT_[e.role];if(t){for(;e.embellished;)e.embellished=J.PUNCTUATION,Ye(e,ee.SUBSUP)||Ye(e,ee.UNDEROVER)||(e.role=t),e=e.childNodes[0];e.type=J.PUNCTUATION,e.role=t}}static classifyFunction_(e,t){if(e.type===J.APPL||e.type===J.BIGOP||e.type===J.INTEGRAL)return"";if(t[0]&&t[0].textContent===se.functionApplication){Lt.getInstance().funcAppls[e.id]=t.shift();let n=ee.SIMPLEFUNC;return Rt.run("simple2prefix",e),e.role!==ee.PREFIXFUNC&&e.role!==ee.LIMFUNC||(n=e.role),Lt.propagateFunctionRole_(e,n),"prefix"}const n=Lt.CLASSIFY_FUNCTION_[e.role];return n||((r=e).type===J.IDENTIFIER||r.role===ee.LATINLETTER||r.role===ee.GREEKLETTER||r.role===ee.OTHERLETTER?"simple":"");var r}static propagateFunctionRole_(e,t){if(e){if(e.type===J.INFIXOP)return;Ye(e,ee.SUBSUP)||Ye(e,ee.UNDEROVER)||(e.role=t),Lt.propagateFunctionRole_(e.childNodes[0],t)}}static getFunctionOp_(e,t){if(t(e))return e;for(let n,r=0;n=e.childNodes[r];r++){const e=Lt.getFunctionOp_(n,t);if(e)return e}return null}static tableToMatrixOrVector_(e){const t=e.childNodes[0];Ge(t,J.MULTILINE)?Lt.tableToVector_(e):Lt.tableToMatrix_(e),e.contentNodes.forEach(t.appendContentNode.bind(t));for(let e,n=0;e=t.childNodes[n];n++)Lt.assignRoleToRow_(e,Lt.getComponentRoles_(t));return t.parent=null,t}static tableToVector_(e){const t=e.childNodes[0];t.type=J.VECTOR,1!==t.childNodes.length?Lt.binomialForm_(t):Lt.tableToSquare_(e)}static binomialForm_(e){Ye(e,ee.UNKNOWN)&&(2===e.childNodes.length&&(e.role=ee.BINOMIAL,e.childNodes[0].role=ee.BINOMIAL,e.childNodes[1].role=ee.BINOMIAL))}static tableToMatrix_(e){const t=e.childNodes[0];t.type=J.MATRIX,t.childNodes&&t.childNodes.length>0&&t.childNodes[0].childNodes&&t.childNodes.length===t.childNodes[0].childNodes.length?Lt.tableToSquare_(e):t.childNodes&&1===t.childNodes.length&&(t.role=ee.ROWVECTOR)}static tableToSquare_(e){const t=e.childNodes[0];Ye(t,ee.UNKNOWN)&&(It(e)?t.role=ee.DETERMINANT:t.role=ee.SQUAREMATRIX)}static getComponentRoles_(e){const t=e.role;return t&&t!==ee.UNKNOWN?t:e.type.toLowerCase()||ee.UNKNOWN}static tableToCases_(e,t){for(let t,n=0;t=e.childNodes[n];n++)Lt.assignRoleToRow_(t,ee.CASES);return e.type=J.CASES,e.appendContentNode(t),ct(e)&&Lt.binomialForm_(e),e}static rewriteFencedLine_(e){const t=e.childNodes[0],n=e.childNodes[0].childNodes[0],r=e.childNodes[0].childNodes[0].childNodes[0];return n.parent=e.parent,e.parent=n,r.parent=t,n.childNodes=[e],t.childNodes=[r],n}static rowToLine_(e,t){const n=t||ee.UNKNOWN;Ge(e,J.ROW)&&(e.type=J.LINE,e.role=n,1===e.childNodes.length&&Ge(e.childNodes[0],J.CELL)&&(e.childNodes=e.childNodes[0].childNodes,e.childNodes.forEach((function(t){t.parent=e}))))}static assignRoleToRow_(e,t){Ge(e,J.LINE)?e.role=t:Ge(e,J.ROW)&&(e.role=t,e.childNodes.forEach((function(e){Ge(e,J.CELL)&&(e.role=t)})))}static nextSeparatorFunction_(e){let t;if(e){if(e.match(/^\s+$/))return null;t=e.replace(/\s/g,"").split("").filter((function(e){return e}))}else t=[","];return function(){return t.length>1?t.shift():t[0]}}static meaningFromContent(e,t){const n=[...e.textContent].filter((e=>e.match(/[^\s]/))),r=n.map((e=>le.Meaning.get(e)));t(e,n,r)}static numberRole_(e,t,n){if(e.role===ee.UNKNOWN)return n.every((function(e){return e.type===J.NUMBER&&e.role===ee.INTEGER||e.type===J.PUNCTUATION&&e.role===ee.COMMA}))?(e.role=ee.INTEGER,void("0"===t[0]&&e.addAnnotation("general","basenumber"))):void(n.every((function(e){return e.type===J.NUMBER&&e.role===ee.INTEGER||e.type===J.PUNCTUATION}))?e.role=ee.FLOAT:e.role=ee.OTHERNUMBER)}static exprFont_(e){e.font===ne.UNKNOWN&&Lt.compSemantics(e,"font",ne)}static compSemantics(e,t,n){const r=[...e.textContent].map((e=>le.Meaning.get(e))).reduce((function(e,r){return e&&r[t]&&r[t]!==n.UNKNOWN&&r[t]!==e?e===n.UNKNOWN?r[t]:null:e}),n.UNKNOWN);r&&(e[t]=r)}static purgeFences_(e){const t=e.rel,n=e.comp,r=[],o=[];for(;t.length>0;){const e=t.shift();let i=n.shift();nt(e)?(r.push(e),o.push(i)):(Lt.fenceToPunct_(e),i.push(e),i=i.concat(n.shift()),n.unshift(i))}return o.push(n.shift()),{rel:r,comp:o}}static rewriteFencedNode_(e){const t=e.contentNodes[0],n=e.contentNodes[1];let r=Lt.rewriteFence_(e,t);return e.contentNodes[0]=r.fence,r=Lt.rewriteFence_(r.node,n),e.contentNodes[1]=r.fence,e.contentNodes[0].parent=e,e.contentNodes[1].parent=e,r.node.parent=null,r.node}static rewriteFence_(e,t){if(!t.embellished)return{node:e,fence:t};const n=t.childNodes[0],r=Lt.rewriteFence_(e,n);return Ge(t,J.SUPERSCRIPT)||Ge(t,J.SUBSCRIPT)||Ge(t,J.TENSOR)?(Ye(t,ee.SUBSUP)||(t.role=e.role),n!==r.node&&(t.replaceChild(n,r.node),n.parent=e),Lt.propagateFencePointer_(t,n),{node:t,fence:r.fence}):(t.replaceChild(n,r.fence),t.mathmlTree&&-1===t.mathml.indexOf(t.mathmlTree)&&t.mathml.push(t.mathmlTree),{node:r.node,fence:t})}static propagateFencePointer_(e,t){e.fencePointer=t.fencePointer||t.id.toString(),e.embellished=null}static classifyByColumns_(e,t,n,r=[]){const o=[n].concat(r);return!!(3===t.length&&Lt.testColumns_(t,1,(e=>Lt.isPureRelation_(e,o)))||2===t.length&&(Lt.testColumns_(t,1,(e=>Lt.isEndRelation_(e,o)||Lt.isPureRelation_(e,o)))||Lt.testColumns_(t,0,(e=>Lt.isEndRelation_(e,o,!0)||Lt.isPureRelation_(e,o)))))&&(e.role=n,!0)}static isEndRelation_(e,t,n){const r=n?e.childNodes.length-1:0;return Ge(e,J.RELSEQ)&&t.some((t=>Ye(e,t)))&&Ge(e.childNodes[r],J.EMPTY)}static isPureRelation_(e,t){return Ge(e,J.RELATION)&&t.some((t=>Ye(e,t)))}static computeColumns_(e){const t=[];for(let n,r=0;n=e.childNodes[r];r++)for(let e,r=0;e=n.childNodes[r];r++){t[r]?t[r].push(e):t[r]=[e]}return t}static testColumns_(e,t,n){const r=e[t];return!!r&&(r.some((function(e){return e.childNodes.length&&n(e.childNodes[0])}))&&r.every((function(e){return!e.childNodes.length||n(e.childNodes[0])})))}setNodeFactory(e){Lt.getInstance().factory_=e,Rt.updateFactory(Lt.getInstance().factory_)}getNodeFactory(){return Lt.getInstance().factory_}identifierNode(e,t,n){if("MathML-Unit"===n)e.type=J.IDENTIFIER,e.role=ee.UNIT;else if(!t&&1===e.textContent.length&&(e.role===ee.INTEGER||e.role===ee.LATINLETTER||e.role===ee.GREEKLETTER)&&e.font===ne.NORMAL)return e.font=ne.ITALIC,Rt.run("simpleNamedFunction",e);return e.type===J.UNKNOWN&&(e.type=J.IDENTIFIER),Lt.exprFont_(e),Rt.run("simpleNamedFunction",e)}implicitNode(e){if(e=Lt.getInstance().getMixedNumbers_(e),1===(e=Lt.getInstance().combineUnits_(e)).length)return e[0];const t=Lt.getInstance().implicitNode_(e);return Rt.run("combine_juxtaposition",t)}text(e,t){return Lt.exprFont_(e),e.type=J.TEXT,t===Ae.ANNOTATIONXML?(e.role=ee.ANNOTATION,e):t===Ae.MS?(e.role=ee.STRING,e):t===Ae.MSPACE||e.textContent.match(/^\s*$/)?(e.role=ee.SPACE,e):/\s/.exec(e.textContent)?(e.role=ee.TEXT,e):(e.role=ee.UNKNOWN,e)}row(e){return 0===(e=e.filter((function(e){return!Ge(e,J.EMPTY)}))).length?Lt.getInstance().factory_.makeEmptyNode():(e=Lt.getInstance().getFencesInRow_(e),e=Lt.getInstance().tablesInRow(e),e=Lt.getInstance().getPunctuationInRow_(e),e=Lt.getInstance().getTextInRow_(e),e=Lt.getInstance().getFunctionsInRow_(e),Lt.getInstance().relationsInRow_(e))}limitNode(e,t){if(!t.length)return Lt.getInstance().factory_.makeEmptyNode();let n,r=t[0],o=J.UNKNOWN;if(!t[1])return r;if(Rt.run("op_with_limits",t),lt(r)){n=Lt.MML_TO_LIMIT_[e];const i=n.length;if(o=n.type,t=t.slice(0,n.length+1),1===i&&Xe(t[1])||2===i&&Xe(t[1])&&Xe(t[2]))return n=Lt.MML_TO_BOUNDS_[e],Lt.getInstance().accentNode_(r,t,n.type,n.length,n.accent);if(2===i){if(Xe(t[1]))return r=Lt.getInstance().accentNode_(r,[r,t[1]],{MSUBSUP:J.SUBSCRIPT,MUNDEROVER:J.UNDERSCORE}[e],1,!0),t[2]?Lt.getInstance().makeLimitNode_(r,[r,t[2]],null,J.LIMUPPER):r;if(t[2]&&Xe(t[2]))return r=Lt.getInstance().accentNode_(r,[r,t[2]],{MSUBSUP:J.SUPERSCRIPT,MUNDEROVER:J.OVERSCORE}[e],1,!0),Lt.getInstance().makeLimitNode_(r,[r,t[1]],null,J.LIMLOWER);t[i]||(o=J.LIMLOWER)}return Lt.getInstance().makeLimitNode_(r,t,null,o)}return n=Lt.MML_TO_BOUNDS_[e],Lt.getInstance().accentNode_(r,t,n.type,n.length,n.accent)}tablesInRow(e){let t=Fe(e,it),n=[];for(let e,r=0;e=t.rel[r];r++)n=n.concat(t.comp.shift()),n.push(Lt.tableToMatrixOrVector_(e));n=n.concat(t.comp.shift()),t=Fe(n,ot),n=[];for(let e,r=0;e=t.rel[r];r++){const r=t.comp.shift();at(0,r)&&Lt.tableToCases_(e,r.pop()),n=n.concat(r),n.push(e)}return n.concat(t.comp.shift())}mfenced(e,t,n,r){if(n&&r.length>0){const e=Lt.nextSeparatorFunction_(n),t=[r.shift()];r.forEach((n=>{t.push(Lt.getInstance().factory_.makeContentNode(e())),t.push(n)})),r=t}return e&&t?Lt.getInstance().horizontalFencedNode_(Lt.getInstance().factory_.makeContentNode(e),Lt.getInstance().factory_.makeContentNode(t),r):(e&&r.unshift(Lt.getInstance().factory_.makeContentNode(e)),t&&r.push(Lt.getInstance().factory_.makeContentNode(t)),Lt.getInstance().row(r))}fractionLikeNode(e,t,n,r){let o;if(!r&&function(e){if(!e)return!1;if(["negativeveryverythinmathspace","negativeverythinmathspace","negativethinmathspace","negativemediummathspace","negativethickmathspace","negativeverythickmathspace","negativeveryverythickmathspace"].includes(e))return!0;const t=e.match(/[0-9.]+/);return!!t&&0===parseFloat(t[0])}(n)){const n=Lt.getInstance().factory_.makeBranchNode(J.LINE,[e],[]),r=Lt.getInstance().factory_.makeBranchNode(J.LINE,[t],[]);return o=Lt.getInstance().factory_.makeBranchNode(J.MULTILINE,[n,r],[]),Lt.binomialForm_(o),Lt.classifyMultiline(o),o}return o=Lt.getInstance().fractionNode_(e,t),r&&o.addAnnotation("general","bevelled"),o}tensor(e,t,n,r,o){const i=Lt.getInstance().factory_.makeBranchNode(J.TENSOR,[e,Lt.getInstance().scriptNode_(t,ee.LEFTSUB),Lt.getInstance().scriptNode_(n,ee.LEFTSUPER),Lt.getInstance().scriptNode_(r,ee.RIGHTSUB),Lt.getInstance().scriptNode_(o,ee.RIGHTSUPER)],[]);return i.role=e.role,i.embellished=$e(e),i}pseudoTensor(e,t,n){const r=e=>!Ge(e,J.EMPTY),o=t.filter(r).length,i=n.filter(r).length;if(!o&&!i)return e;const s=o?i?Ae.MSUBSUP:Ae.MSUB:Ae.MSUP,a=[e];return o&&a.push(Lt.getInstance().scriptNode_(t,ee.RIGHTSUB,!0)),i&&a.push(Lt.getInstance().scriptNode_(n,ee.RIGHTSUPER,!0)),Lt.getInstance().limitNode(s,a)}font(e){const t=Lt.MATHJAX_FONTS[e];return t||e}proof(e,t,n){if(t.inference||t.axiom||console.log("Noise"),t.axiom){const t=Lt.getInstance().cleanInference(e.childNodes),r=t.length?Lt.getInstance().factory_.makeBranchNode(J.INFERENCE,n(t),[]):Lt.getInstance().factory_.makeEmptyNode();return r.role=ee.AXIOM,r.mathmlTree=e,r}const r=Lt.getInstance().inference(e,t,n);return t.proof&&(r.role=ee.PROOF,r.childNodes[0].role=ee.FINAL),r}inference(e,t,n){if(t.inferenceRule){const t=Lt.getInstance().getFormulas(e,[],n);return Lt.getInstance().factory_.makeBranchNode(J.INFERENCE,[t.conclusion,t.premises],[])}const r=t.labelledRule,o=C(e.childNodes),i=[];"left"!==r&&"both"!==r||i.push(Lt.getInstance().getLabel(e,o,n,ee.LEFT)),"right"!==r&&"both"!==r||i.push(Lt.getInstance().getLabel(e,o,n,ee.RIGHT));const s=Lt.getInstance().getFormulas(e,o,n),a=Lt.getInstance().factory_.makeBranchNode(J.INFERENCE,[s.conclusion,s.premises],i);return a.mathmlTree=e,a}getLabel(e,t,n,r){const o=Lt.getInstance().findNestedRow(t,"prooflabel",r),i=Lt.getInstance().factory_.makeBranchNode(J.RULELABEL,n(C(o.childNodes)),[]);return i.role=r,i.mathmlTree=o,i}getFormulas(e,t,n){const r=t.length?Lt.getInstance().findNestedRow(t,"inferenceRule"):e,o="up"===Lt.getSemantics(r).inferenceRule,i=o?r.childNodes[1]:r.childNodes[0],s=o?r.childNodes[0]:r.childNodes[1],a=i.childNodes[0].childNodes[0],c=C(a.childNodes[0].childNodes),l=[];let u=1;for(const e of c)u%2&&l.push(e.childNodes[0]),u++;const h=n(l),d=n(C(s.childNodes[0].childNodes))[0],f=Lt.getInstance().factory_.makeBranchNode(J.PREMISES,h,[]);f.mathmlTree=a;const p=Lt.getInstance().factory_.makeBranchNode(J.CONCLUSION,[d],[]);return p.mathmlTree=s.childNodes[0].childNodes[0],{conclusion:p,premises:f}}findNestedRow(e,t,n){return Lt.getInstance().findNestedRow_(e,t,0,n)}cleanInference(e){return C(e).filter((function(e){return"MSPACE"!==P(e)}))}operatorNode(e){return e.type===J.UNKNOWN&&(e.type=J.OPERATOR),Rt.run("multioperator",e)}constructor(){this.funcAppls={},this.splitRoles=new Map([[ee.SUBTRACTION,ee.NEGATIVE],[ee.ADDITION,ee.POSITIVE]]),this.splitOps=["\u2212","-","\u2010","\u2011","+"],this.factory_=new qe,Rt.updateFactory(this.factory_)}implicitNode_(e){const t=Lt.getInstance().factory_.makeMultipleContentNodes(e.length-1,se.invisibleTimes);Lt.matchSpaces_(e,t);const n=Lt.getInstance().infixNode_(e,t[0]);return n.role=ee.IMPLICIT,t.forEach((function(e){e.parent=n})),n.contentNodes=t,n}infixNode_(e,t){let n=Lt.getInstance().factory_.makeBranchNode(J.INFIXOP,e,[t],xe(t).textContent);return n.role=t.role,n=Rt.run("propagateInterval",n),Rt.run("propagateSimpleFunction",n)}explicitMixed_(e){const t=Fe(e,(function(e){return e.textContent===se.invisiblePlus}));if(!t.rel.length)return e;let n=[];for(let e,r=0;e=t.rel[r];r++){const o=t.comp[r],i=t.comp[r+1],s=o.length-1;if(o[s]&&i[0]&&Ge(o[s],J.NUMBER)&&!Ye(o[s],ee.MIXED)&&Ge(i[0],J.FRACTION)){const e=Lt.getInstance().factory_.makeBranchNode(J.NUMBER,[o[s],i[0]],[]);e.role=ee.MIXED,n=n.concat(o.slice(0,s)),n.push(e),i.shift()}else n=n.concat(o),n.push(e)}return n.concat(t.comp[t.comp.length-1])}concatNode_(e,t,n){if(0===t.length)return e;const r=t.map((function(e){return xe(e).textContent})).join(" "),o=Lt.getInstance().factory_.makeBranchNode(n,[e],t,r);return t.length>1&&(o.role=ee.MULTIOP),o}prefixNode_(e,t){const n=this.splitSingles(t);let r=e;for(;n.length>0;){const e=n.pop();r=Lt.getInstance().concatNode_(r,e,J.PREFIXOP),1===e.length&&-1!==this.splitOps.indexOf(e[0].textContent)&&(r.role=this.splitRoles.get(e[0].role))}return r}splitSingles(e){let t=0;const n=[];let r=0;for(;r<e.length;){const o=e[r];!this.splitRoles.has(o.role)||e[r-1]&&e[r-1].role===o.role||e[r+1]&&e[r+1].role===o.role||-1===this.splitOps.indexOf(o.textContent)||(n.push(e.slice(t,r)),n.push(e.slice(r,r+1)),t=r+1),r++}return t<r&&n.push(e.slice(t,r)),n}postfixNode_(e,t){return t.length?Lt.getInstance().concatNode_(e,t,J.POSTFIXOP):e}combineUnits_(e){const t=Fe(e,(function(e){return!Ye(e,ee.UNIT)}));if(e.length===t.rel.length)return t.rel;const n=[];let r,o;do{const e=t.comp.shift();r=t.rel.shift();let i=null;o=n.pop(),o&&(e.length&&Et(o)?e.unshift(o):n.push(o)),1===e.length&&(i=e.pop()),e.length>1&&(i=Lt.getInstance().implicitNode_(e),i.role=ee.UNIT),i&&n.push(i),r&&n.push(r)}while(r);return n}getMixedNumbers_(e){const t=Fe(e,(function(e){return Ge(e,J.FRACTION)&&Ye(e,ee.VULGAR)}));if(!t.rel.length)return e;let n=[];for(let e,r=0;e=t.rel[r];r++){const o=t.comp[r],i=o.length-1;if(o[i]&&Ge(o[i],J.NUMBER)&&(Ye(o[i],ee.INTEGER)||Ye(o[i],ee.FLOAT))){const t=Lt.getInstance().factory_.makeBranchNode(J.NUMBER,[o[i],e],[]);t.role=ee.MIXED,n=n.concat(o.slice(0,i)),n.push(t)}else n=n.concat(o),n.push(e)}return n.concat(t.comp[t.comp.length-1])}getTextInRow_(e){if(0===e.length)return e;if(1===e.length)return e[0].type===J.TEXT&&e[0].role===ee.UNKNOWN&&(e[0].role=ee.ANNOTATION),e;const{rel:t,comp:n}=Fe(e,(e=>Ge(e,J.TEXT)));if(0===t.length)return e;const r=[];let o=n.shift();for(;t.length>0;){let e=t.shift(),i=n.shift();const s=[];for(;!i.length&&t.length&&e.role!==ee.SPACE&&t[0].role!==ee.SPACE;)s.push(e),e=t.shift(),i=n.shift();if(s.length){o.length&&r.push(Lt.getInstance().row(o)),s.push(e);const t=Lt.getInstance().dummyNode_(s);r.push(t),o=i;continue}if(e.role!==ee.UNKNOWN){o.length&&r.push(Lt.getInstance().row(o)),r.push(e),o=i;continue}const a=le.Meaning.get(e.textContent);a.type!==J.PUNCTUATION?a.type===J.UNKNOWN?(Lt.meaningFromContent(e,((e,t,n)=>{if(e.role===ee.UNKNOWN){if(Lt.numberRole_(e,t,n),e.role===ee.OTHERNUMBER)return n.some((e=>e.type!==J.NUMBER&&e.type!==J.IDENTIFIER))?(e.type=J.TEXT,void(e.role=ee.ANNOTATION)):void(e.role=ee.UNKNOWN);e.type=J.NUMBER}})),e.type!==J.TEXT||e.role===ee.UNKNOWN?(e.role===ee.UNKNOWN&&(t.length||i.length?i.length&&i[0].type===J.FENCED?(e.type=J.FUNCTION,e.role=ee.PREFIXFUNC):e.role=ee.TEXT:(e.type=J.IDENTIFIER,e.role=ee.UNIT)),o.push(e),o=o.concat(i)):(o.length&&r.push(Lt.getInstance().row(o)),r.push(e),o=i)):(e.type=a.type,e.role=a.role,e.font=a.font,e.addAnnotation("general","text"),o.push(e),o=o.concat(i)):(e.role=a.role,e.font=a.font,o.length&&r.push(Lt.getInstance().row(o)),r.push(e),o=i)}return o.length>0&&r.push(Lt.getInstance().row(o)),r.length>1?[Lt.getInstance().dummyNode_(r)]:r}relationsInRow_(e){const t=Fe(e,Ze),n=t.rel[0];if(!n)return Lt.getInstance().operationsInRow_(e);if(1===e.length)return e[0];const r=t.comp.map(Lt.getInstance().operationsInRow_);let o;return t.rel.some((function(e){return!e.equals(n)}))?(o=Lt.getInstance().factory_.makeBranchNode(J.MULTIREL,r,t.rel),t.rel.every((function(e){return e.role===n.role}))&&(o.role=n.role),o):(o=Lt.getInstance().factory_.makeBranchNode(J.RELSEQ,r,t.rel,xe(n).textContent),o.role=n.role,o)}operationsInRow_(e){if(0===e.length)return Lt.getInstance().factory_.makeEmptyNode();if(1===(e=Lt.getInstance().explicitMixed_(e)).length)return e[0];const t=[];for(;e.length>0&&Je(e[0]);)t.push(e.shift());if(0===e.length)return Lt.getInstance().prefixNode_(t.pop(),t);if(1===e.length)return Lt.getInstance().prefixNode_(e[0],t);const n=Ue(e=Rt.run("convert_juxtaposition",e),Je),r=Lt.getInstance().wrapFactor(t,n);return Lt.getInstance().addFactor(r,n)}wrapPostfix(e){var t;(null===(t=e.div)||void 0===t?void 0:t.role)===ee.POSTFIXOP&&(e.tail.length&&e.tail[0].type!==J.OPERATOR?e.div.role=ee.DIVISION:(e.head=[Lt.getInstance().postfixNode_(Lt.getInstance().implicitNode(e.head),[e.div])],e.div=e.tail.shift(),Lt.getInstance().wrapPostfix(e)))}wrapFactor(e,t){return Lt.getInstance().wrapPostfix(t),Lt.getInstance().prefixNode_(Lt.getInstance().implicitNode(t.head),e)}addFactor(e,t){return t.div?Lt.getInstance().operationsTree_(t.tail,e,t.div):(Nt(e)&&(e.role=ee.UNIT),e)}operationsTree_(e,t,n,r=[]){if(0===e.length){if(r.unshift(n),t.type===J.INFIXOP){const e=Lt.getInstance().postfixNode_(t.childNodes.pop(),r);return t.appendChild(e),t}return Lt.getInstance().postfixNode_(t,r)}const o=Ue(e,Je);if(0===o.head.length)return r.push(o.div),Lt.getInstance().operationsTree_(o.tail,t,n,r);const i=Lt.getInstance().wrapFactor(r,o),s=Lt.getInstance().appendOperand_(t,n,i);return Lt.getInstance().addFactor(s,o)}appendOperand_(e,t,n){if(e.type!==J.INFIXOP)return Lt.getInstance().infixNode_([e,n],t);const r=Lt.getInstance().appendDivisionOp_(e,t,n);return r||(Lt.getInstance().appendExistingOperator_(e,t,n)?e:t.role===ee.MULTIPLICATION?Lt.getInstance().appendMultiplicativeOp_(e,t,n):Lt.getInstance().appendAdditiveOp_(e,t,n))}appendDivisionOp_(e,t,n){return t.role===ee.DIVISION?gt(e)?Lt.getInstance().infixNode_([e,n],t):Lt.getInstance().appendLastOperand_(e,t,n):e.role===ee.DIVISION?Lt.getInstance().infixNode_([e,n],t):null}appendLastOperand_(e,t,n){let r=e,o=e.childNodes[e.childNodes.length-1];for(;o&&o.type===J.INFIXOP&&!gt(o);)r=o,o=r.childNodes[e.childNodes.length-1];const i=Lt.getInstance().infixNode_([r.childNodes.pop(),n],t);return r.appendChild(i),e}appendMultiplicativeOp_(e,t,n){if(gt(e))return Lt.getInstance().infixNode_([e,n],t);let r=e,o=e.childNodes[e.childNodes.length-1];for(;o&&o.type===J.INFIXOP&&!gt(o);)r=o,o=r.childNodes[e.childNodes.length-1];const i=Lt.getInstance().infixNode_([r.childNodes.pop(),n],t);return r.appendChild(i),e}appendAdditiveOp_(e,t,n){return Lt.getInstance().infixNode_([e,n],t)}appendExistingOperator_(e,t,n){return!(!e||e.type!==J.INFIXOP||gt(e))&&(e.contentNodes[0].equals(t)?(e.appendContentNode(t),e.appendChild(n),!0):Lt.getInstance().appendExistingOperator_(e.childNodes[e.childNodes.length-1],t,n))}getFencesInRow_(e){let t=Fe(e,tt);t=Lt.purgeFences_(t);const n=t.comp.shift();return Lt.getInstance().fences_(t.rel,t.comp,[],[n])}fences_(e,t,n,r){if(0===e.length&&0===n.length)return r[0];const o=Rt.run("bracketed_interval",[e[0],e[1],...t[0]||[]],(()=>null));if(o){e.shift(),e.shift(),t.shift();const i=r.pop()||[];return r.push([...i,o,...t.shift()]),Lt.getInstance().fences_(e,t,n,r)}const i=e=>Ye(e,ee.OPEN);if(0===e.length){const e=r.shift();for(;n.length>0;){if(i(n[0])){const t=n.shift();Lt.fenceToPunct_(t),e.push(t)}else{const t=Ue(n,i),o=t.head.length-1,s=Lt.getInstance().neutralFences_(t.head,r.slice(0,o));r=r.slice(o),e.push(...s),t.div&&t.tail.unshift(t.div),n=t.tail}e.push(...r.shift())}return e}const s=n[n.length-1],a=e[0].role;if(a===ee.OPEN||It(e[0])&&(!s||!bt(e[0],s))){n.push(e.shift());const o=t.shift();return o&&r.push(o),Lt.getInstance().fences_(e,t,n,r)}if(s&&a===ee.CLOSE&&s.role===ee.OPEN){const o=Lt.getInstance().horizontalFencedNode_(n.pop(),e.shift(),r.pop());return r.push(r.pop().concat([o],t.shift())),Lt.getInstance().fences_(e,t,n,r)}if(s&&bt(e[0],s)){if(!At(s)||!Ot(e[0])){n.push(e.shift());const o=t.shift();return o&&r.push(o),Lt.getInstance().fences_(e,t,n,r)}const o=Lt.getInstance().horizontalFencedNode_(n.pop(),e.shift(),r.pop());return r.push(r.pop().concat([o],t.shift())),Lt.getInstance().fences_(e,t,n,r)}if(s&&a===ee.CLOSE&&It(s)&&n.some(i)){const o=Ue(n,i,!0),s=r.pop(),a=r.length-o.tail.length+1,c=Lt.getInstance().neutralFences_(o.tail,r.slice(a));r=r.slice(0,a);const l=Lt.getInstance().horizontalFencedNode_(o.div,e.shift(),r.pop().concat(c,s));return r.push(r.pop().concat([l],t.shift())),Lt.getInstance().fences_(e,t,o.head,r)}const c=e.shift();return Lt.fenceToPunct_(c),r.push(r.pop().concat([c],t.shift())),Lt.getInstance().fences_(e,t,n,r)}neutralFences_(e,t){if(0===e.length)return e;if(1===e.length)return Lt.fenceToPunct_(e[0]),e;const n=e.shift();if(!At(n)){Lt.fenceToPunct_(n);const r=t.shift();return r.unshift(n),r.concat(Lt.getInstance().neutralFences_(e,t))}const r=Ue(e,(function(e){return bt(e,n)}));if(!r.div){Lt.fenceToPunct_(n);const r=t.shift();return r.unshift(n),r.concat(Lt.getInstance().neutralFences_(e,t))}if(!Ot(r.div))return Lt.fenceToPunct_(r.div),e.unshift(n),Lt.getInstance().neutralFences_(e,t);const o=Lt.getInstance().combineFencedContent_(n,r.div,r.head,t);if(r.tail.length>0){const e=o.shift(),t=Lt.getInstance().neutralFences_(r.tail,o);return e.concat(t)}return o[0]}combineFencedContent_(e,t,n,r){if(0===n.length){const n=Lt.getInstance().horizontalFencedNode_(e,t,r.shift());return r.length>0?r[0].unshift(n):r=[[n]],r}const o=r.shift(),i=n.length-1,s=r.slice(0,i),a=(r=r.slice(i)).shift(),c=Lt.getInstance().neutralFences_(n,s);o.push(...c),o.push(...a);const l=Lt.getInstance().horizontalFencedNode_(e,t,o);return r.length>0?r[0].unshift(l):r=[[l]],r}horizontalFencedNode_(e,t,n){const r=Lt.getInstance().row(n);let o=Lt.getInstance().factory_.makeBranchNode(J.FENCED,[r],[e,t]);return e.role===ee.OPEN?(Lt.getInstance().classifyHorizontalFence_(o),o=Rt.run("propagateComposedFunction",o)):o.role=e.role,o=Rt.run("detect_cycle",o),Lt.rewriteFencedNode_(o)}classifyHorizontalFence_(e){if(Rt.run("interval_heuristic",e),e.role===ee.INTERVAL)return;e.role=ee.LEFTRIGHT;const t=e.childNodes;if(!function(e){return function(e){return!!e&&-1!==["{","\ufe5b","\uff5b"].indexOf(e.textContent)}(e.contentNodes[0])&&function(e){return!!e&&-1!==["}","\ufe5c","\uff5d"].indexOf(e.textContent)}(e.contentNodes[1])}(e)||t.length>1)return;if(0===t.length||t[0].type===J.EMPTY)return void(e.role=ee.SETEMPTY);const n=t[0].type;if(1===t.length&&pt(t[0]))return void(e.role=ee.SETSINGLE);const r=t[0].role;if(n===J.PUNCTUATED&&r===ee.SEQUENCE){if(t[0].contentNodes[0].role!==ee.COMMA)return 1!==t[0].contentNodes.length||t[0].contentNodes[0].role!==ee.VBAR&&t[0].contentNodes[0].role!==ee.COLON?void 0:(e.role=ee.SETEXT,void Lt.getInstance().setExtension_(e));e.role=ee.SETCOLLECT}}setExtension_(e){const t=e.childNodes[0].childNodes[0];t&&t.type===J.INFIXOP&&1===t.contentNodes.length&&yt(t.contentNodes[0])&&(t.addAnnotation("set","intensional"),t.contentNodes[0].addAnnotation("set","intensional"))}getPunctuationInRow_(e){if(e.length<=1)return e;const t=e=>{const t=e.type;return"punctuation"===t||"text"===t||"operator"===t||"relation"===t},n=Fe(e,(function(n){if(!et(n))return!1;if(et(n)&&!Ye(n,ee.ELLIPSIS))return!0;const r=e.indexOf(n);if(0===r)return!e[1]||!t(e[1]);const o=e[r-1];if(r===e.length-1)return!t(o);const i=e[r+1];return!t(o)||!t(i)}));if(0===n.rel.length)return e;let r=[],o=n.comp.shift();o.length>0&&r.push(Lt.getInstance().row(o));let i=0;for(;n.comp.length>0;){let e=[];const t=i;do{e.push(n.rel[i++]),o=n.comp.shift()}while(n.rel[i]&&o&&0===o.length);e=Rt.run("ellipses",e),n.rel.splice(t,i-t,...e),i=t+e.length,r=r.concat(e),o&&o.length>0&&r.push(Lt.getInstance().row(o))}return 1===r.length&&1===n.rel.length?r:[Lt.getInstance().punctuatedNode_(r,n.rel)]}punctuatedNode_(e,t){const n=Lt.getInstance().factory_.makeBranchNode(J.PUNCTUATED,e,t);if(t.length===e.length){const e=t[0].role;if(e!==ee.UNKNOWN&&t.every((function(t){return t.role===e})))return n.role=e,n}const r=t[0];return ut(e,t,0)?n.role=r.childNodes.length&&!r.embellished?r.role:ee.STARTPUNCT:ut(e,t,e.length-1)?n.role=r.childNodes.length&&!r.embellished?r.role:ee.ENDPUNCT:t.every((e=>Ye(e,ee.DUMMY)))?n.role=ee.TEXT:t.every((e=>Ye(e,ee.SPACE)))?n.role=ee.SPACE:n.role=ee.SEQUENCE,n}dummyNode_(e){const t=Lt.getInstance().factory_.makeMultipleContentNodes(e.length-1,se.invisibleComma);return t.forEach((function(e){e.role=ee.DUMMY})),Lt.getInstance().punctuatedNode_(e,t)}accentRole_(e,t){if(!Xe(e))return!1;const n=e.textContent,r=le.Secondary.get(n,oe.BAR)||le.Secondary.get(n,oe.TILDE)||e.role;return e.role=t===J.UNDERSCORE?ee.UNDERACCENT:ee.OVERACCENT,e.addAnnotation("accent",r),!0}accentNode_(e,t,n,r,o){const i=(t=t.slice(0,r+1))[1],s=t[2];let a;if(!o&&s&&(a=Lt.getInstance().factory_.makeBranchNode(J.SUBSCRIPT,[e,i],[]),a.role=ee.SUBSUP,t=[a,s],n=J.SUPERSCRIPT),o){const r=Lt.getInstance().accentRole_(i,n);if(s){Lt.getInstance().accentRole_(s,J.OVERSCORE)&&!r?(a=Lt.getInstance().factory_.makeBranchNode(J.OVERSCORE,[e,s],[]),t=[a,i],n=J.UNDERSCORE):(a=Lt.getInstance().factory_.makeBranchNode(J.UNDERSCORE,[e,i],[]),t=[a,s],n=J.OVERSCORE),a.role=ee.UNDEROVER}}return Lt.getInstance().makeLimitNode_(e,t,a,n)}makeLimitNode_(e,t,n,r){if(r===J.LIMUPPER&&e.type===J.LIMLOWER)return e.childNodes.push(t[1]),t[1].parent=e,e.type=J.LIMBOTH,e;if(r===J.LIMLOWER&&e.type===J.LIMUPPER)return e.childNodes.splice(1,-1,t[1]),t[1].parent=e,e.type=J.LIMBOTH,e;const o=Lt.getInstance().factory_.makeBranchNode(r,t,[]),i=$e(e);return n&&(n.embellished=i),o.embellished=i,o.role=e.role,o}getFunctionsInRow_(e,t){const n=t||[];if(0===e.length)return n;const r=e.shift(),o=Lt.classifyFunction_(r,e);if(!o)return n.push(r),Lt.getInstance().getFunctionsInRow_(e,n);const i=Lt.getInstance().getFunctionsInRow_(e,[]),s=Lt.getInstance().getFunctionArgs_(r,i,o);return n.concat(s)}getFunctionArgs_(e,t,n){let r,o,i;switch(n){case"integral":{const n=Lt.getInstance().getIntegralArgs_(t);if(!n.intvar&&!n.integrand.length)return n.rest.unshift(e),n.rest;const r=Lt.getInstance().row(n.integrand);return i=Lt.getInstance().integralNode_(e,r,n.intvar),Rt.run("intvar_from_fraction",i),n.rest.unshift(i),n.rest}case"prefix":if(t[0]&&t[0].type===J.FENCED){const n=t.shift();return It(n)||(n.role=ee.LEFTRIGHT),i=Lt.getInstance().functionNode_(e,n),t.unshift(i),t}if(r=Ue(t,je),r.head.length)o=Lt.getInstance().row(r.head),r.div&&r.tail.unshift(r.div);else{if(!r.div||!Ge(r.div,J.APPL))return t.unshift(e),t;o=r.div}return i=Lt.getInstance().functionNode_(e,o),r.tail.unshift(i),r.tail;case"bigop":return r=Ue(t,We),r.head.length?(o=Lt.getInstance().row(r.head),i=Lt.getInstance().bigOpNode_(e,o),r.div&&r.tail.unshift(r.div),r.tail.unshift(i),r.tail):(t.unshift(e),t);default:{if(0===t.length)return[e];const n=t[0];return n.type===J.FENCED&&!It(n)&&function(e){const t=e.childNodes;if(0===t.length)return!0;if(t.length>1)return!1;const n=t[0];if(n.type===J.INFIXOP){if(n.role!==ee.IMPLICIT)return!1;if(n.childNodes.some((e=>Ge(e,J.INFIXOP))))return!1}return!0}(n)?(n.role=ee.LEFTRIGHT,Lt.propagateFunctionRole_(e,ee.SIMPLEFUNC),i=Lt.getInstance().functionNode_(e,t.shift()),t.unshift(i),t):(t.unshift(e),t)}}}getIntegralArgs_(e,t=[]){if(0===e.length){const e=Ue(t,We);return e.div&&e.tail.unshift(e.div),{integrand:e.head,intvar:null,rest:e.tail}}Rt.run("intvar_from_implicit",e);const n=e[0];if(Qe(n)){const{integrand:n,rest:r}=Lt.getInstance().getIntegralArgs_(t);return{integrand:n,intvar:null,rest:r.concat(e)}}if(ze(n))return n.role=ee.INTEGRAL,{integrand:t,intvar:n,rest:e.slice(1)};if(e[1]&&Ke(n,e[1])){const r=Lt.getInstance().prefixNode_(e[1],[n]);return r.role=ee.INTEGRAL,{integrand:t,intvar:r,rest:e.slice(2)}}return t.push(e.shift()),Lt.getInstance().getIntegralArgs_(e,t)}functionNode_(e,t){const n=Lt.getInstance().factory_.makeContentNode(se.functionApplication),r=Lt.getInstance().funcAppls[e.id];r&&(n.mathmlTree=r.mathmlTree,n.mathml=r.mathml,n.annotation=r.annotation,n.attributes=r.attributes,delete Lt.getInstance().funcAppls[e.id]),n.type=J.PUNCTUATION,n.role=ee.APPLICATION;const o=Lt.getFunctionOp_(e,(function(e){return Ge(e,J.FUNCTION)||Ge(e,J.IDENTIFIER)&&Ye(e,ee.SIMPLEFUNC)}));return Lt.getInstance().functionalNode_(J.APPL,[e,t],o,[n])}bigOpNode_(e,t){const n=Lt.getFunctionOp_(e,(e=>Ge(e,J.LARGEOP)));return Lt.getInstance().functionalNode_(J.BIGOP,[e,t],n,[])}integralNode_(e,t,n){t=t||Lt.getInstance().factory_.makeEmptyNode(),n=n||Lt.getInstance().factory_.makeEmptyNode();const r=Lt.getFunctionOp_(e,(e=>Ge(e,J.LARGEOP)));return Lt.getInstance().functionalNode_(J.INTEGRAL,[e,t,n],r,[])}functionalNode_(e,t,n,r){const o=t[0];let i;n&&(i=n.parent,r.push(n));const s=Lt.getInstance().factory_.makeBranchNode(e,t,r);return s.role=o.role,i&&(n.parent=i),s}fractionNode_(e,t){const n=Lt.getInstance().factory_.makeBranchNode(J.FRACTION,[e,t],[]);return n.role=n.childNodes.every((function(e){return Ge(e,J.NUMBER)&&Ye(e,ee.INTEGER)}))?ee.VULGAR:n.childNodes.every(mt)?ee.UNIT:ee.DIVISION,Rt.run("propagateSimpleFunction",n)}scriptNode_(e,t,n){let r;switch(e.length){case 0:r=Lt.getInstance().factory_.makeEmptyNode();break;case 1:if(r=e[0],n)return r;break;default:r=Lt.getInstance().dummyNode_(e)}return r.role=t,r}findNestedRow_(e,t,n,r){if(n>3)return null;for(let o,i=0;o=e[i];i++){const e=P(o);if(e!==Ae.MSPACE){if(e===Ae.MROW)return Lt.getInstance().findNestedRow_(C(o.childNodes),t,n+1,r);if(Lt.findSemantics(o,t,r))return o}}return null}}Lt.FENCE_TO_PUNCT_={[ee.METRIC]:ee.METRIC,[ee.NEUTRAL]:ee.VBAR,[ee.OPEN]:ee.OPENFENCE,[ee.CLOSE]:ee.CLOSEFENCE},Lt.MML_TO_LIMIT_={[Ae.MSUB]:{type:J.LIMLOWER,length:1},[Ae.MUNDER]:{type:J.LIMLOWER,length:1},[Ae.MSUP]:{type:J.LIMUPPER,length:1},[Ae.MOVER]:{type:J.LIMUPPER,length:1},[Ae.MSUBSUP]:{type:J.LIMBOTH,length:2},[Ae.MUNDEROVER]:{type:J.LIMBOTH,length:2}},Lt.MML_TO_BOUNDS_={[Ae.MSUB]:{type:J.SUBSCRIPT,length:1,accent:!1},[Ae.MSUP]:{type:J.SUPERSCRIPT,length:1,accent:!1},[Ae.MSUBSUP]:{type:J.SUBSCRIPT,length:2,accent:!1},[Ae.MUNDER]:{type:J.UNDERSCORE,length:1,accent:!0},[Ae.MOVER]:{type:J.OVERSCORE,length:1,accent:!0},[Ae.MUNDEROVER]:{type:J.UNDERSCORE,length:2,accent:!0}},Lt.CLASSIFY_FUNCTION_={[ee.INTEGRAL]:"integral",[ee.SUM]:"bigop",[ee.PREFIXFUNC]:"prefix",[ee.LIMFUNC]:"prefix",[ee.SIMPLEFUNC]:"prefix",[ee.COMPFUNC]:"prefix"},Lt.MATHJAX_FONTS={"-tex-caligraphic":ne.CALIGRAPHIC,"-tex-caligraphic-bold":ne.CALIGRAPHICBOLD,"-tex-calligraphic":ne.CALIGRAPHIC,"-tex-calligraphic-bold":ne.CALIGRAPHICBOLD,"-tex-oldstyle":ne.OLDSTYLE,"-tex-oldstyle-bold":ne.OLDSTYLEBOLD,"-tex-mathit":ne.ITALIC};class Ct extends He{static getAttribute_(e,t,n){if(!e.hasAttribute(t))return n;const r=e.getAttribute(t);return r.match(/^\s*$/)?null:r}constructor(e){super("MathML"),this.options=e,Rt.options=e,this.parseMap_=new Map([[Ae.SEMANTICS,this.semantics_.bind(this)],[Ae.MATH,this.rows_.bind(this)],[Ae.MROW,this.rows_.bind(this)],[Ae.MPADDED,this.rows_.bind(this)],[Ae.MSTYLE,this.rows_.bind(this)],[Ae.MFRAC,this.fraction_.bind(this)],[Ae.MSUB,this.limits_.bind(this)],[Ae.MSUP,this.limits_.bind(this)],[Ae.MSUBSUP,this.limits_.bind(this)],[Ae.MOVER,this.limits_.bind(this)],[Ae.MUNDER,this.limits_.bind(this)],[Ae.MUNDEROVER,this.limits_.bind(this)],[Ae.MROOT,this.root_.bind(this)],[Ae.MSQRT,this.sqrt_.bind(this)],[Ae.MTABLE,this.table_.bind(this)],[Ae.MLABELEDTR,this.tableLabeledRow_.bind(this)],[Ae.MTR,this.tableRow_.bind(this)],[Ae.MTD,this.tableCell_.bind(this)],[Ae.MS,this.text_.bind(this)],[Ae.MTEXT,this.text_.bind(this)],[Ae.MSPACE,this.space_.bind(this)],[Ae.ANNOTATIONXML,this.text_.bind(this)],[Ae.MI,this.identifier_.bind(this)],[Ae.MN,this.number_.bind(this)],[Ae.MO,this.operator_.bind(this)],[Ae.MFENCED,this.fenced_.bind(this)],[Ae.MENCLOSE,this.enclosed_.bind(this)],[Ae.MMULTISCRIPTS,this.multiscripts_.bind(this)],[Ae.ANNOTATION,this.empty_.bind(this)],[Ae.NONE,this.empty_.bind(this)],[Ae.MACTION,this.action_.bind(this)]]);const t={type:J.IDENTIFIER,role:ee.NUMBERSET,font:ne.DOUBLESTRUCK};["C","H","N","P","Q","R","Z","\u2102","\u210d","\u2115","\u2119","\u211a","\u211d","\u2124"].forEach((e=>this.getFactory().defaultMap.set(e,t)).bind(this))}parse(e){Lt.getInstance().setNodeFactory(this.getFactory());const t=C(e.childNodes),n=P(e),r=this.parseMap_.get(n),o=(r||this.dummy_.bind(this))(e,t);return Pe(o,e),-1!==[Ae.MATH,Ae.MROW,Ae.MPADDED,Ae.MSTYLE,Ae.SEMANTICS,Ae.MACTION].indexOf(n)||(o.mathml.unshift(e),o.mathmlTree=e),o}semantics_(e,t){return t.length?this.parse(t[0]):this.getFactory().makeEmptyNode()}rows_(e,t){const n=e.getAttribute("semantics");if(n&&n.match("bspr_"))return Lt.proof(e,n,this.parseList.bind(this));let r;if(1===(t=we(t)).length)r=this.parse(t[0]),r.type!==J.EMPTY||r.mathmlTree||(r.mathmlTree=e);else{const n=Rt.run("function_from_identifiers",e);r=n&&n!==e?n:Lt.getInstance().row(this.parseList(t))}return r.mathml.unshift(e),r}fraction_(e,t){if(!t.length)return this.getFactory().makeEmptyNode();const n=this.parse(t[0]),r=t[1]?this.parse(t[1]):this.getFactory().makeEmptyNode();return Lt.getInstance().fractionLikeNode(n,r,e.getAttribute("linethickness"),"true"===e.getAttribute("bevelled"))}limits_(e,t){return Lt.getInstance().limitNode(P(e),this.parseList(t))}root_(e,t){return t[1]?this.getFactory().makeBranchNode(J.ROOT,[this.parse(t[1]),this.parse(t[0])],[]):this.sqrt_(e,t)}sqrt_(e,t){const n=this.parseList(we(t));return this.getFactory().makeBranchNode(J.SQRT,[Lt.getInstance().row(n)],[])}table_(e,t){const n=e.getAttribute("semantics");if(n&&n.match("bspr_"))return Lt.proof(e,n,this.parseList.bind(this));const r=this.getFactory().makeBranchNode(J.TABLE,this.parseList(t),[]);return r.mathmlTree=e,Lt.tableToMultiline(r)}tableRow_(e,t){const n=this.getFactory().makeBranchNode(J.ROW,this.parseList(t),[]);return n.role=ee.TABLE,n}tableLabeledRow_(e,t){var n;if(!t.length)return this.tableRow_(e,t);const r=this.parse(t[0]);r.role=ee.LABEL,(null===(n=r.childNodes[0])||void 0===n?void 0:n.type)===J.TEXT&&(r.childNodes[0].role=ee.LABEL);const o=this.getFactory().makeBranchNode(J.ROW,this.parseList(t.slice(1)),[r]);return o.role=ee.TABLE,o}tableCell_(e,t){const n=this.parseList(we(t));let r;r=n.length?1===n.length&&Ge(n[0],J.EMPTY)?n:[Lt.getInstance().row(n)]:[];const o=this.getFactory().makeBranchNode(J.CELL,r,[]);return o.role=ee.TABLE,o}space_(e,t){const n=e.getAttribute("width"),r=n&&n.match(/[a-z]*$/);if(!r)return this.empty_(e,t);const o=r[0],i=parseFloat(n.slice(0,r.index)),s={cm:.4,pc:.5,em:.5,ex:1,in:.15,pt:5,mm:5}[o];if(!s||isNaN(i)||i<s)return this.empty_(e,t);const a=this.getFactory().makeUnprocessed(e);return Lt.getInstance().text(a,P(e))}text_(e,t){const n=this.leaf_(e,t);return e.textContent?(n.updateContent(e.textContent,!0),Lt.getInstance().text(n,P(e))):n}identifier_(e,t){const n=this.leaf_(e,t);return Lt.getInstance().identifierNode(n,Lt.getInstance().font(e.getAttribute("mathvariant")),e.getAttribute("class"))}number_(e,t){const n=this.leaf_(e,t);return Lt.number(n),n}operator_(e,t){const n=this.leaf_(e,t);return Lt.getInstance().operatorNode(n),n}fenced_(e,t){const n=this.parseList(we(t)),r=Ct.getAttribute_(e,"separators",","),o=Ct.getAttribute_(e,"open","("),i=Ct.getAttribute_(e,"close",")"),s=Lt.getInstance().mfenced(o,i,r,n);return Lt.getInstance().tablesInRow([s])[0]}enclosed_(e,t){const n=this.parseList(we(t)),r=this.getFactory().makeBranchNode(J.ENCLOSE,[Lt.getInstance().row(n)],[]);return r.role=e.getAttribute("notation")||ee.UNKNOWN,r}multiscripts_(e,t){if(!t.length)return this.getFactory().makeEmptyNode();const n=this.parse(t.shift());if(!t.length)return n;const r=[],o=[],i=[],s=[];let a=!1,c=0;for(let e,n=0;e=t[n];n++)P(e)!==Ae.MPRESCRIPTS?(a?1&c?r.push(e):o.push(e):1&c?i.push(e):s.push(e),c++):(a=!0,c=0);return we(r).length||we(o).length?Lt.getInstance().tensor(n,this.parseList(o),this.parseList(r),this.parseList(s),this.parseList(i)):Lt.getInstance().pseudoTensor(n,this.parseList(s),this.parseList(i))}empty_(e,t){return this.getFactory().makeEmptyNode()}action_(e,t){const n=t[e.hasAttribute("selection")?parseInt(e.getAttribute("selection"),10)-1:0],r=this.parse(n);return r.mathmlTree=n,r}dummy_(e,t){const n=this.getFactory().makeUnprocessed(e);return n.role=e.tagName,n.textContent=e.textContent,n}leaf_(e,t){if(1===t.length&&t[0].nodeType!==S.TEXT_NODE){const n=this.getFactory().makeUnprocessed(e);return n.role=t[0].tagName,Pe(n,t[0]),n}const n=this.getFactory().makeLeafNode(e.textContent,Lt.getInstance().font(e.getAttribute("mathvariant")));return e.hasAttribute("data-latex")&&le.LatexCommands.set(e.getAttribute("data-latex"),e.textContent),n}}class _t{constructor(e,t,n=e=>!1){this.name=e,this.apply=t,this.applicable=n}}class St extends _t{}class Dt extends _t{}function Mt(e,t){const n=[];for(;e.length||t.length;)e.length&&n.push(e.shift()),t.length&&n.push(t.shift());return n}const vt="data-semantic-";var wt;!function(e){e.ADDED="data-semantic-added",e.ALTERNATIVE="data-semantic-alternative",e.CHILDREN="data-semantic-children",e.COLLAPSED="data-semantic-collapsed",e.CONTENT="data-semantic-content",e.EMBELLISHED="data-semantic-embellished",e.FENCEPOINTER="data-semantic-fencepointer",e.FONT="data-semantic-font",e.ID="data-semantic-id",e.ANNOTATION="data-semantic-annotation",e.ATTRIBUTES="data-semantic-attributes",e.OPERATOR="data-semantic-operator",e.OWNS="data-semantic-owns",e.PARENT="data-semantic-parent",e.POSTFIX="data-semantic-postfix",e.PREFIX="data-semantic-prefix",e.ROLE="data-semantic-role",e.SPEECH="data-semantic-speech",e.STRUCTURE="data-semantic-structure",e.SUMMARY="data-semantic-summary",e.TYPE="data-semantic-type"}(wt||(wt={}));const Pt=[wt.ADDED,wt.ALTERNATIVE,wt.CHILDREN,wt.COLLAPSED,wt.CONTENT,wt.EMBELLISHED,wt.FENCEPOINTER,wt.FONT,wt.ID,wt.ANNOTATION,wt.ATTRIBUTES,wt.OPERATOR,wt.OWNS,wt.PARENT,wt.POSTFIX,wt.PREFIX,wt.ROLE,wt.SPEECH,wt.STRUCTURE,wt.SUMMARY,wt.TYPE];function xt(e){return e.map((function(e){return e.id})).join(",")}function Ut(e,t){e.setAttribute(wt.TYPE,t.type);const n=t.allAttributes();for(let t,r=0;t=n[r];r++)e.setAttribute(vt+t[0].toLowerCase(),t[1]);t.childNodes.length&&e.setAttribute(wt.CHILDREN,xt(t.childNodes)),t.contentNodes.length&&e.setAttribute(wt.CONTENT,xt(t.contentNodes)),t.parent&&e.setAttribute(wt.PARENT,t.parent.id.toString());const r=t.attributesXml();r&&e.setAttribute(wt.ATTRIBUTES,r),function(e,t){const n=[];t.role===ee.MGLYPH&&n.push("image");t.attributes.href&&n.push("link");n.length&&e.setAttribute(wt.POSTFIX,n.join(" "))}(e,t)}function Ft(){const e=M("mrow");return e.setAttribute(wt.ADDED,"true"),e}class kt{static fromTree(e){return kt.fromNode(e.root)}static fromNode(e){return new kt(kt.fromNode_(e))}static fromString(e){return new kt(kt.fromString_(e))}static simpleCollapseStructure(e){return"number"==typeof e}static contentCollapseStructure(e){return!!e&&!kt.simpleCollapseStructure(e)&&"c"===e[0]}static interleaveIds(e,t){return Mt(kt.collapsedLeafs(e),kt.collapsedLeafs(t))}static collapsedLeafs(...e){return e.reduce(((e,t)=>{return e.concat((n=t,kt.simpleCollapseStructure(n)?[n]:kt.contentCollapseStructure(n[1])?n.slice(2):n.slice(1)));var n}),[])}static fromStructure(e,t,n){return new kt(kt.tree_(e,t.root,n))}static combineContentChildren(e,t,n,r){switch(e){case J.RELSEQ:case J.INFIXOP:case J.MULTIREL:return Mt(r,n);case J.PREFIXOP:return n.concat(r);case J.POSTFIXOP:return r.concat(n);case J.MATRIX:case J.VECTOR:case J.FENCED:return r.unshift(n[0]),r.push(n[1]),r;case J.CASES:return r.unshift(n[0]),r;case J.APPL:return[r[0],n[0],r[1]];case J.ROOT:return[r[0],r[1]];case J.ROW:case J.LINE:return n.length&&r.unshift(n[0]),r;default:return r}}static makeSexp_(e){return kt.simpleCollapseStructure(e)?e.toString():kt.contentCollapseStructure(e)?"(c "+e.slice(1).map(kt.makeSexp_).join(" ")+")":"("+e.map(kt.makeSexp_).join(" ")+")"}static fromString_(e){let t=e.replace(/\(/g,"[");return t=t.replace(/\)/g,"]"),t=t.replace(/ /g,","),t=t.replace(/c/g,'"c"'),JSON.parse(t)}static fromNode_(e){if(!e)return[];const t=e.contentNodes;let n;t.length&&(n=t.map(kt.fromNode_),n.unshift("c"));const r=e.childNodes;if(!r.length)return t.length?[e.id,n]:e.id;const o=r.map(kt.fromNode_);return t.length&&o.unshift(n),o.unshift(e.id),o}static tree_(e,t,n,r=0,i=1,s=1){if(!t)return[];const a=t.id,c=[a];!function(e){if(I.getInstance().mode!==o.HTTP)return;let t=e;for(;t&&!t.evaluate;)t=t.parentNode;t&&t.evaluate?A.currentDocument=t:e.ownerDocument&&(A.currentDocument=e.ownerDocument)}(e);const l=function(e,t){let n;try{n=L(e,t,A.result.ORDERED_NODE_ITERATOR_TYPE)}catch(e){return[]}const r=[];for(let e=n.iterateNext();e;e=n.iterateNext())r.push(e);return r}(`.//self::*[@${wt.ID}=${a}]`,e)[0];if(!t.childNodes.length)return kt.addAria(l,r,i,s,n),t.id;const u=kt.combineContentChildren(t.type,t.role,t.contentNodes.map((function(e){return e})),t.childNodes.map((function(e){return e})));l&&kt.addOwns_(l,u);for(let t,o=0,i=u.length;t=u[o];o++)c.push(kt.tree_(e,t,n,r+1,o+1,i));return kt.addAria(l,r,i,s,n),c}static addAria(e,t,n,r,o){const i=o.tree?t?"treeitem":"tree":"treeitem";o.aria&&e&&(e.setAttribute("aria-level",t.toString()),e.setAttribute("aria-posinset",n.toString()),e.setAttribute("aria-setsize",r.toString()),e.setAttribute("role",i),e.hasAttribute(wt.OWNS)&&e.setAttribute("aria-owns",e.getAttribute(wt.OWNS)))}static addOwns_(e,t){const n=e.getAttribute(wt.COLLAPSED),r=n?kt.realLeafs_(kt.fromString(n).array):t.map((e=>e.id));e.setAttribute(wt.OWNS,r.join(" "))}static realLeafs_(e){if(kt.simpleCollapseStructure(e))return[e];if(kt.contentCollapseStructure(e))return[];let t=[];for(let n=1;n<e.length;n++)t=t.concat(kt.realLeafs_(e[n]));return t}constructor(e){this.parents=null,this.levelsMap=null,e=0===e?e:e||[],this.array=e}populate(){this.parents&&this.levelsMap||(this.parents={},this.levelsMap={},this.populate_(this.array,this.array,[]))}toString(){return kt.makeSexp_(this.array)}populate_(e,t,n){if(kt.simpleCollapseStructure(e))return this.levelsMap[e]=t,void(this.parents[e]=e===n[0]?n.slice(1):n);const r=kt.contentCollapseStructure(e)?e.slice(1):e,o=[r[0]].concat(n);for(let t=0,n=r.length;t<n;t++){const n=r[t];this.populate_(n,e,o)}}isRoot(e){return e===this.levelsMap[e][0]}directChildren(e){if(!this.isRoot(e))return[];return this.levelsMap[e].slice(1).map((e=>kt.simpleCollapseStructure(e)?e:kt.contentCollapseStructure(e)?e[1]:e[0]))}subtreeNodes(e){if(!this.isRoot(e))return[];const t=(e,n)=>{kt.simpleCollapseStructure(e)?n.push(e):(kt.contentCollapseStructure(e)&&(e=e.slice(1)),e.forEach((e=>t(e,n))))},n=this.levelsMap[e],r=[];return t(n.slice(1),r),r}}function Bt(e,t,n){let r=null;if(!e.length)return r;const o=n[n.length-1],i=o&&o.length,s=t&&t.length,a=Lt.getInstance();if(i&&s){if(t[0].type===J.INFIXOP&&t[0].role===ee.IMPLICIT)return r=e.pop(),o.push(a.postfixNode_(o.pop(),e)),r;r=e.shift();const n=a.prefixNode_(t.shift(),e);return t.unshift(n),r}return i?(o.push(a.postfixNode_(o.pop(),e)),r):(s&&t.unshift(a.prefixNode_(t.shift(),e)),r)}function qt(e,t,n){if(!t.length)return e;const r=e.pop(),o=t.shift(),i=n.shift();if(o.type===J.INFIXOP&&(o.role===ee.IMPLICIT||o.role===ee.UNIT)){p.getInstance().output("Juxta Heuristic Case 2");const s=(r?[r,o]:[o]).concat(i);return qt(e.concat(s),t,n)}if(!r)return p.getInstance().output("Juxta Heuristic Case 3"),qt([o].concat(i),t,n);const s=i.shift();if(!s){p.getInstance().output("Juxta Heuristic Case 9");const i=Rt.factory.makeBranchNode(J.INFIXOP,[r,t.shift()],[o],o.textContent);return i.role=ee.IMPLICIT,Rt.run("combine_juxtaposition",i),t.unshift(i),qt(e,t,n)}if(Je(r)||Je(s))return p.getInstance().output("Juxta Heuristic Case 4"),qt(e.concat([r,o,s]).concat(i),t,n);let a=null;return Tt(r)&&Tt(s)?(p.getInstance().output("Juxta Heuristic Case 5"),r.contentNodes.push(o),r.contentNodes=r.contentNodes.concat(s.contentNodes),r.childNodes.push(s),r.childNodes=r.childNodes.concat(s.childNodes),s.childNodes.forEach((e=>e.parent=r)),o.parent=r,r.addMathmlNodes(o.mathml),r.addMathmlNodes(s.mathml),a=r):Tt(r)?(p.getInstance().output("Juxta Heuristic Case 6"),r.contentNodes.push(o),r.childNodes.push(s),s.parent=r,o.parent=r,r.addMathmlNodes(o.mathml),r.addMathmlNodes(s.mathml),a=r):Tt(s)?(p.getInstance().output("Juxta Heuristic Case 7"),s.contentNodes.unshift(o),s.childNodes.unshift(r),r.parent=s,o.parent=s,s.addMathmlNodes(o.mathml),s.addMathmlNodes(r.mathml),a=s):(p.getInstance().output("Juxta Heuristic Case 8"),a=Rt.factory.makeBranchNode(J.INFIXOP,[r,s],[o],o.textContent),a.role=ee.IMPLICIT),e.push(a),qt(e.concat(i),t,n)}function Ht(e){return e.childNodes[0]&&e.childNodes[0].childNodes[0]&&P(e.childNodes[0])===Ae.MPADDED&&P(e.childNodes[0].childNodes[0])===Ae.MPADDED&&P(e.childNodes[0].childNodes[e.childNodes[0].childNodes.length-1])===Ae.MPHANTOM}Rt.add(new St("combine_juxtaposition",(function(e){for(let t,n=e.childNodes.length-1;t=e.childNodes[n];n--)Tt(t)&&!t.nobreaking&&(e.childNodes.splice(n,1,...t.childNodes),e.contentNodes.splice(n,0,...t.contentNodes),t.childNodes.concat(t.contentNodes).forEach((function(t){t.parent=e})),e.addMathmlNodes(t.mathml));return e}))),Rt.add(new St("propagateSimpleFunction",(e=>(e.type!==J.INFIXOP&&e.type!==J.FRACTION||!e.childNodes.every(ht)||(e.role=ee.COMPFUNC),e)),(e=>"clearspeak"===Rt.options.domain))),Rt.add(new St("simpleNamedFunction",(e=>(e.role!==ee.UNIT&&-1!==["f","g","h","F","G","H"].indexOf(e.textContent)&&(e.role=ee.SIMPLEFUNC),e)),(e=>"clearspeak"===Rt.options.domain))),Rt.add(new St("propagateComposedFunction",(e=>(e.type===J.FENCED&&e.childNodes[0].role===ee.COMPFUNC&&(e.role=ee.COMPFUNC),e)),(e=>"clearspeak"===Rt.options.domain))),Rt.add(new St("multioperator",(e=>{e.role!==ee.UNKNOWN||e.textContent.length<=1||(Lt.compSemantics(e,"role",ee),Lt.compSemantics(e,"type",J))}))),Rt.add(new Dt("convert_juxtaposition",(e=>{let t=Fe(e,(function(e){return e.textContent===se.invisibleTimes&&e.type===J.OPERATOR}));t=t.rel.length?function(e){const t=[],n=[];let r=e.comp.shift(),o=null,i=[];for(;e.comp.length;)if(i=[],r.length)o&&t.push(o),n.push(r),o=e.rel.shift(),r=e.comp.shift();else{for(o&&i.push(o);!r.length&&e.comp.length;)r=e.comp.shift(),i.push(e.rel.shift());o=Bt(i,r,n)}i.length||r.length?(t.push(o),n.push(r)):(i.push(o),Bt(i,r,n));return{rel:t,comp:n}}(t):t,e=t.comp[0];for(let n,r,o=1;n=t.comp[o],r=t.rel[o-1];o++)e.push(r),e=e.concat(n);return t=Fe(e,(function(e){return e.textContent===se.invisibleTimes&&(e.type===J.OPERATOR||e.type===J.INFIXOP)})),t.rel.length?qt(t.comp.shift(),t.rel,t.comp):e}))),Rt.add(new St("simple2prefix",(e=>(e.textContent.length>1&&!e.textContent[0].match(/[A-Z]/)&&(e.role=ee.PREFIXFUNC),e)),(e=>"braille"===Rt.options.modality&&e.type===J.IDENTIFIER))),Rt.add(new St("detect_cycle",(e=>{e.type=J.MATRIX,e.role=ee.CYCLE;const t=e.childNodes[0];return t.type=J.ROW,t.role=ee.CYCLE,t.textContent="",t.contentNodes=[],e}),(e=>e.type===J.FENCED&&e.childNodes[0].type===J.INFIXOP&&e.childNodes[0].role===ee.IMPLICIT&&e.childNodes[0].childNodes.every((function(e){return e.type===J.NUMBER}))&&e.childNodes[0].contentNodes.every((function(e){return e.role===ee.SPACE}))))),Rt.add(new Dt("intvar_from_implicit",(function(e){const t=e[0].childNodes;e.splice(0,1,...t)}),(e=>e[0]&&gt(e[0])))),Rt.add(new St("intvar_from_fraction",(function(e){const t=e.childNodes[1],n=t.childNodes[0];if(ze(n))return void(n.role=ee.INTEGRAL);if(!gt(n))return;const r=n.childNodes.length,o=n.childNodes[r-2],i=n.childNodes[r-1];if(ze(i))return void(i.role=ee.INTEGRAL);if(Ke(o,i)){const e=Lt.getInstance().prefixNode_(i,[o]);e.role=ee.INTEGRAL,2===r?t.childNodes[0]=e:(n.childNodes.pop(),n.contentNodes.pop(),n.childNodes[r-2]=e,e.parent=n)}}),(e=>{if(e.type!==J.INTEGRAL)return!1;const[,t,n]=e.childNodes;return n.type===J.EMPTY&&t.type===J.FRACTION}))),Rt.add(new St("rewrite_subcases",(function(e){e.addAnnotation("Emph","top");let t=[];if(e.hasAnnotation("Emph","left")){const n=Vt(e.childNodes[0].childNodes[0].childNodes[0],!0);n.forEach((e=>e.addAnnotation("Emph","left"))),t=t.concat(n);for(let t,n=0;t=e.childNodes[n];n++)t.childNodes.shift()}if(t.push(e),e.hasAnnotation("Emph","right")){const n=Vt(e.childNodes[0].childNodes[e.childNodes[0].childNodes.length-1].childNodes[0]);n.forEach((e=>e.addAnnotation("Emph","left"))),t=t.concat(n),e.childNodes[0].childNodes.pop()}Lt.tableToMultiline(e);const n=Lt.getInstance().row(t),r=e.annotation.Emph;return e.annotation.Emph=["table"],r.forEach((e=>n.addAnnotation("Emph",e))),n}),(e=>{let t=!0,n=!0;if(Ht(e.childNodes[0].childNodes[0].mathmlTree)){for(let n,r=1;n=e.childNodes[r];r++)if(n.childNodes[0].childNodes.length){t=!1;break}}else t=!1;t&&e.addAnnotation("Emph","left");if(Ht(e.childNodes[0].childNodes[e.childNodes[0].childNodes.length-1].mathmlTree)){const t=e.childNodes[0].childNodes.length;for(let r,o=1;r=e.childNodes[o];o++)if(r.childNodes.length>=t){n=!1;break}}else n=!1;return n&&e.addAnnotation("Emph","right"),t||n})));const Gt=[J.PUNCTUATED,J.RELSEQ,J.MULTIREL,J.INFIXOP,J.PREFIXOP,J.POSTFIXOP];function Vt(e,t){if(!e.childNodes.length)return Xt(e),[e];let n=null;if(e.type===J.PUNCTUATED&&(t?e.role===ee.ENDPUNCT:e.role===ee.STARTPUNCT)){const r=e.childNodes;Xt(r[t?r.length-1:0])&&(e=r[t?0:r.length-1],n=r[t?r.length-1:0])}if(-1!==Gt.indexOf(e.type)){const r=e.childNodes;Xt(r[t?r.length-1:0]);const o=kt.combineContentChildren(e.type,e.role,e.contentNodes,e.childNodes);return n&&(t?o.push(n):o.unshift(n)),o}return n?t?[e,n]:[n,e]:[e]}const Yt={[ee.METRIC]:ee.METRIC,[ee.VBAR]:ee.NEUTRAL,[ee.OPENFENCE]:ee.OPEN,[ee.CLOSEFENCE]:ee.CLOSE};function Xt(e){if(e.type!==J.PUNCTUATION)return!1;const t=Yt[e.role];return!!t&&(e.role=t,e.type=J.FENCE,e.addAnnotation("Emph","fence"),!0)}function jt(e,t,n,r=n){const o=[];for(;e&&e.role===n;)o.push(e),e=t.shift();return o.length?(e&&t.unshift(e),[1===o.length?o[0]:Wt(o,r),t]):[e,t]}function Wt(e,t){const n=Rt.factory.makeBranchNode(J.PUNCTUATION,e,[]);return n.role=t,n}function Kt(e){return["[","\uff3b"].includes(e)}function zt(e){return["]","\uff3d"].includes(e)}function Qt(e){return["(","\u207d","\u208d"].includes(e)}function $t(e){return[")","\u207e","\u208e"].includes(e)}function Jt(e){return e.role===ee.INFTY||e.type===J.PREFIXOP&&e.childNodes[0].role===ee.INFTY}function Zt(e){const t=e.childNodes[0];if(e.type!==J.FENCED||(null==t?void 0:t.type)!==J.PUNCTUATED||3!==(null==t?void 0:t.childNodes.length)||1!==(null==t?void 0:t.contentNodes.length)||(null==t?void 0:t.childNodes[1].role)!==ee.COMMA)return!1;const n=e.childNodes[0].childNodes[0],r=e.childNodes[0].childNodes[2],o=e.contentNodes[0].textContent,i=e.contentNodes[1].textContent;return!!(Kt(o)&&$t(i)||Qt(o)&&zt(i))||!(!Qt(o)||!$t(i)||!Jt(n)&&!Jt(r))}function en(e){return on(e)||function(e){return nn(e)||e.type===J.INFIXOP&&e.role===ee.IMPLICIT&&(2===e.childNodes.length&&(nn(e.childNodes[0])||on(e.childNodes[0]))&&nn(e.childNodes[1])||3===e.childNodes.length&&on(e.childNodes[0])&&nn(e.childNodes[1])&&nn(e.childNodes[2]))}(e)||function(e){return e.type===J.PUNCTUATED&&e.role===ee.ENDPUNCT&&2===e.childNodes.length&&e.childNodes[1].role===ee.DEGREE&&(nn(e.childNodes[0])||rn(e.childNodes[0])||e.childNodes[0].type===J.PREFIXOP&&e.childNodes[0].role===ee.NEGATIVE&&(nn(e.childNodes[0].childNodes[0])||rn(e.childNodes[0].childNodes[0])))}(e)||function(e){return e.type===J.PREFIXOP&&e.role===ee.NEGATIVE&&tn(e.childNodes[0])&&e.childNodes[0].type!==J.PREFIXOP&&e.childNodes[0].type!==J.APPL&&e.childNodes[0].type!==J.PUNCTUATED}(e)||function(e){return e.type===J.APPL&&(e.childNodes[0].role===ee.PREFIXFUNC||e.childNodes[0].role===ee.SIMPLEFUNC)&&(tn(e.childNodes[1])||e.childNodes[1].type===J.FENCED&&tn(e.childNodes[1].childNodes[0]))}(e)}function tn(e){return e.hasAnnotation("clearspeak","simple")}function nn(e){return e.type===J.IDENTIFIER&&(e.role===ee.LATINLETTER||e.role===ee.GREEKLETTER||e.role===ee.OTHERLETTER||e.role===ee.SIMPLEFUNC)}function rn(e){return e.type===J.NUMBER&&(e.role===ee.INTEGER||e.role===ee.FLOAT)}function on(e){return rn(e)||function(e){if(sn("Fraction_Over")||sn("Fraction_FracOver"))return!1;if(e.type!==J.FRACTION||e.role!==ee.VULGAR)return!1;if(sn("Fraction_Ordinal"))return!0;const t=parseInt(e.childNodes[0].textContent,10),n=parseInt(e.childNodes[1].textContent,10);return t>0&&t<20&&n>0&&n<11}(e)}function sn(e){return I.getInstance().options.style===e}function an(e){return e.type===J.TEXT&&e.role!==ee.LABEL||e.type===J.PUNCTUATED&&e.role===ee.TEXT&&rn(e.childNodes[0])&&function(e){for(let t=0;t<e.length-1;t++)if(e[t].type!==J.TEXT||""!==e[t].textContent)return!1;return e[e.length-1].type===J.TEXT}(e.childNodes.slice(1))||e.type===J.IDENTIFIER&&e.role===ee.UNIT||e.type===J.INFIXOP&&(e.role===ee.IMPLICIT||e.role===ee.UNIT)}Rt.add(new Dt("ellipses",(e=>{const t=[];let n=e.shift();for(;n;)[n,e]=jt(n,e,ee.FULLSTOP,ee.ELLIPSIS),[n,e]=jt(n,e,ee.DASH),t.push(n),n=e.shift();return t}),(e=>e.length>1))),Rt.add(new Dt("op_with_limits",(e=>{const t=e[0];return t.type=J.LARGEOP,t.role=ee.SUM,e}),(e=>e[0].type===J.OPERATOR&&e.slice(1).some((e=>e.type===J.RELSEQ||e.type===J.MULTIREL||e.type===J.INFIXOP&&e.role===ee.ELEMENT||e.type===J.PUNCTUATED&&e.role===ee.SEQUENCE))))),Rt.add(new class extends _t{}("function_from_identifiers",(e=>{const t=C(e.childNodes).map((e=>e.textContent.trim())).join("");if(le.Meaning.get(t).type===J.UNKNOWN)return e;const n=Rt.factory.makeLeafNode(t,Lt.getInstance().font(e.getAttribute("mathvariant")));return n.mathmlTree=e,n}),(e=>{const t=C(e.childNodes);return!(t.length<2)&&t.every((e=>P(e)===Ae.MI&&le.Meaning.get(e.textContent.trim()).role===ee.LATINLETTER))}))),Rt.add(new Dt("bracketed_interval",(e=>{const t=e[0],n=e[1],r=e.slice(2),o=Lt.getInstance().row(r),i=Rt.factory.makeBranchNode(J.FENCED,[o],[t,n]);return i.role=ee.INTERVAL,i}),(e=>{const t=e[0],n=e[1],r=e.slice(2);if(!(t&&n&&(zt(t.textContent)&&(Kt(n.textContent)||zt(n.textContent))||Kt(n.textContent)&&(Kt(t.textContent)||zt(t.textContent)))))return!1;if(1===r.length&&r[0].type===J.PUNCTUATED&&1===r[0].contentNodes.length)return!0;const o=Fe(r,et);return!(1!==o.rel.length||!o.comp[0].length||!o.comp[1].length)}))),Rt.add(new St("interval_heuristic",(e=>(e.role=ee.INTERVAL,e)),(e=>Zt(e)))),Rt.add(new St("propagateInterval",(e=>(e.childNodes.forEach((e=>{Zt(e)&&(e.role=ee.INTERVAL)})),e)),(e=>yt(e)))),q(new U("clearspeak","simple",(function(e){return en(e)?"simple":""}))),H("clearspeak","simple"),q(new U("clearspeak","unit",(function(e){return an(e)?"unit":""}))),H("clearspeak","unit");const cn=[J.MULTIREL,J.RELSEQ,J.APPL,J.ROW,J.LINE],ln=[J.SUBSCRIPT,J.SUPERSCRIPT,J.OVERSCORE,J.UNDERSCORE];function un(e,t){const n=e.parent;if(!n)return!1;const r=n.type;return-1!==cn.indexOf(r)||r===J.PREFIXOP&&n.role===ee.NEGATIVE&&!t.script&&!t.enclosed||r===J.PREFIXOP&&n.role===ee.GEOMETRY||!(r!==J.PUNCTUATED||t.enclosed&&n.role!==ee.TEXT)}q(new F("nemeth","number",(function(e,t){return e.childNodes.length?(-1!==ln.indexOf(e.type)&&(t.script=!0),e.type===J.FENCED?(t.number=!1,t.enclosed=!0,["",t]):e.type===J.PREFIXOP&&e.role!==ee.GEOMETRY&&e.role!==ee.NEGATIVE?(t.number=!1,["",t]):(un(e,t)&&(t.number=!0,t.enclosed=!1),["",t])):(un(e,t)&&(t.number=!0,t.script=!1,t.enclosed=!1),[t.number?"number":"",{number:!1,enclosed:t.enclosed,script:t.script}])}),{number:!0})),H("nemeth","number"),q(new F("depth","depth",(function(e){return e.parent?[parseInt(e.parent.annotation.depth[0])+1]:[1]}))),H("depth","depth");class hn{static empty(){const e=_("<math/>"),t=new hn(e,new m);return t.mathml=e,t}static fromNode(e,t){const n=hn.empty();return n.root=e,t&&(n.mathml=t),n}static fromRoot(e,t){let n=e;for(;n.parent;)n=n.parent;const r=hn.fromNode(n);return t&&(r.mathml=t),r}static fromXml(e){const t=hn.empty();return e.childNodes[0]&&(t.root=Be.fromXml(e.childNodes[0])),t}constructor(e,t){this.mathml=e,this.options=t,this.parser=new Ct(t),this.root=this.parser.parse(e),this.collator=this.parser.getFactory().leafMap.collateMeaning();const n=this.collator.newDefault();n&&(this.parser=new Ct(t),this.parser.getFactory().defaultMap=n,this.root=this.parser.parse(e)),dn.visit(this.root,{}),function(e){for(const t of k.values())t.active&&t.annotate(e);for(const t of B.values())t.active&&t.visit(e,Object.assign({},t.def))}(this.root)}xml(e){const t=_("<stree></stree>"),n=this.root.xml(t.ownerDocument,e);return t.appendChild(n),t}toString(e){return x(this.xml(e))}formatXml(e){return v(this.toString(e))}displayTree(){this.root.displayTree()}replaceNode(e,t){const n=e.parent;n?n.replaceChild(e,t):this.root=t}toJson(){const e={};return e.stree=this.root.toJson(),e}}const dn=new F("general","unit",((e,t)=>(Nt(e)&&(e.role=ee.UNIT),!1)));function fn(e,t){return new hn(e,t)}const pn=[],En=!0,mn=new Map;function Nn(e){p.getInstance().generate((()=>["WALKING START: ",e.toString()]));const t=function(e){for(let t,n=0;t=pn[n];n++)if(t.test(e))return t.constr(e);return null}(e);let n;if(t)return n=t.getMathml(),p.getInstance().generate((()=>["WALKING END: ",e.toString()])),_n(n);if(1===e.mathml.length){if(p.getInstance().output("Walktree Case 0"),!e.childNodes.length)return p.getInstance().output("Walktree Case 0.1"),n=e.mathml[0],Ut(n,e),p.getInstance().generate((()=>["WALKING END: ",e.toString()])),_n(n);const t=e.childNodes[0];if(1===e.childNodes.length&&t.type===J.EMPTY)return p.getInstance().output("Walktree Case 0.2"),n=e.mathml[0],Ut(n,e),n.appendChild(Nn(t)),p.getInstance().generate((()=>["WALKING END: ",e.toString()])),_n(n);e.childNodes.forEach((e=>{e.mathml.length||(e.mathml=[Un(e)])}))}const r=e.contentNodes.map(Pn);Fn(e,r);const o=e.childNodes.map(Nn),i=kt.combineContentChildren(e.type,e.role,r,o);if(n=e.mathmlTree,null===n)p.getInstance().output("Walktree Case 1"),n=gn(i,e);else{const e=Rn(i);p.getInstance().output("Walktree Case 2"),e?(p.getInstance().output("Walktree Case 2.1"),n=vn(e)):(p.getInstance().output("Walktree Case 2.2"),n=kn(n))}return n=xn(n),function(e,t,n){if(!t.length)return;if(1===t.length&&e===t[0])return;const r=n.role===ee.IMPLICIT&&Rt.flags.combine_juxtaposition?function(e,t,n){const r=[];let o=C(e.childNodes),i=!1;for(;o.length;){const e=o.shift();if(e.hasAttribute(wt.TYPE)){r.push(e);continue}const n=In(e,t);0!==n.length&&(1!==n.length?(i?e.setAttribute("AuxiliaryImplicit",!0):i=!0,o=n.concat(o)):r.push(e))}const s=[],a=n.childNodes.map((function(e){return e.mathmlTree}));for(;a.length;){const e=a.pop();if(e){if(-1!==r.indexOf(e))break;-1!==t.indexOf(e)&&s.unshift(e)}}return r.concat(s)}(e,t,n):C(e.childNodes);if(!r.length)return void t.forEach((function(t){e.appendChild(t)}));let o=0;for(;t.length;){const n=t[0];if(r[o]===n||On(r[o],n)){t.shift(),o++;continue}if(r[o]&&-1===t.indexOf(r[o])){o++;continue}if(An(n,e)){t.shift();continue}const i=r[o];if(i)bn(e,i,n),t.shift();else{if(n.parentNode){e=vn(n),t.shift();continue}const r=t[1];if(r&&r.parentNode){(e=vn(r)).insertBefore(n,r),t.shift(),t.shift();continue}e.insertBefore(n,null),t.shift()}}}(n,i,e),mn.has(e.id)||(mn.set(e.id,!0),Ut(n,e)),p.getInstance().generate((()=>["WALKING END: ",e.toString()])),_n(n)}function gn(e,t){const n=function(e){const t=Rn(e);if(!t)return{type:yn.INVALID,node:null};const n=Rn(e.slice().reverse());if(t===n)return{type:yn.VALID,node:t};const r=Ln(t),o=function(e,t){let n=0;for(;e[n]&&-1===t.indexOf(e[n]);)n++;return e.slice(0,n+1)}(r,e),i=Ln(n,(function(e){return-1!==o.indexOf(e)})),s=i[0],a=o.indexOf(s);if(-1===a)return{type:yn.INVALID,node:null};return{type:o.length!==r.length?yn.PRUNED:Cn(o[a+1],i[1])?yn.VALID:yn.INVALID,node:s}}(e);let r=n.node;const o=n.type;if(o!==yn.VALID||!Me(r)||!r.parentNode&&t.parent)if(p.getInstance().output("Walktree Case 1.1"),r=Ft(),o===yn.PRUNED)p.getInstance().output("Walktree Case 1.1.0"),r=function(e,t,n){let r=Sn(t);if(Se(r)){p.getInstance().output("Walktree Case 1.1.0.0"),Tn(r,e),C(r.childNodes).forEach((function(t){e.appendChild(t)}));const t=e;e=r,r=t}const o=n.indexOf(t);return n[o]=r,D(r,e),e.appendChild(r),n.forEach((function(t){e.appendChild(t)})),e}(r,n.node,e);else if(e[0]){p.getInstance().output("Walktree Case 1.1.1");const t=Rn(e);if(t){const n=function(e,t){const n=C(e.childNodes);let r=1/0,o=-1/0;return t.forEach((function(e){const t=n.indexOf(e);-1!==t&&(r=Math.min(r,t),o=Math.max(o,t))})),n.slice(r,o+1)}(vn(t),e);D(t,r),n.forEach((function(e){r.appendChild(e)}))}else Tn(r,e[0]),r=e[0]}return t.mathmlTree||(t.mathmlTree=r),r}function Tn(e,t){for(const n of Pt)e.hasAttribute(n)&&(t.setAttribute(n,e.getAttribute(n)),e.removeAttribute(n))}function In(e,t){const n=[];let r=C(e.childNodes);for(;r.length;){const e=r.shift();e.nodeType===S.ELEMENT_NODE&&(e.hasAttribute(wt.TYPE)||-1!==t.indexOf(e)?n.push(e):r=C(e.childNodes).concat(r))}return n}function bn(e,t,n){let r=t,o=vn(r);for(;o&&o.firstChild===r&&!r.hasAttribute("AuxiliaryImplicit")&&o!==e;)r=o,o=vn(r);o&&(o.insertBefore(n,r),r.removeAttribute("AuxiliaryImplicit"))}function An(e,t){if(!e)return!1;do{if((e=vn(e))===t)return!0}while(e);return!1}function On(e,t){const n=se.functionApplication;if(e&&t&&e.textContent&&t.textContent&&e.textContent===n&&t.textContent===n&&"true"===t.getAttribute(wt.ADDED)){for(let n,r=0;n=e.attributes[r];r++)t.hasAttribute(n.nodeName)||t.setAttribute(n.nodeName,n.nodeValue);return D(e,t),!0}return!1}var yn;function Rn(e){let t=0,n=null;for(;!n&&t<e.length;)e[t].parentNode&&(n=e[t]),t++;return n}function Ln(e,t){const n=t||(e=>!1),r=[e];for(;!n(e)&&!Se(e)&&e.parentNode;)e=vn(e),r.unshift(e);return r}function Cn(e,t){return!(!e||!t||e.previousSibling||t.nextSibling)}function _n(e){for(;!Se(e)&&Dn(e);)e=vn(e);return e}function Sn(e){const t=C(e.childNodes);if(!t)return e;const n=t.filter((function(e){return e.nodeType===S.ELEMENT_NODE&&!De(e)}));return 1===n.length&&Me(n[0])&&!n[0].hasAttribute(wt.TYPE)?Sn(n[0]):e}function Dn(e){const t=vn(e);return!(!t||!Me(t))&&C(t.childNodes).every((function(t){return t===e||Mn(t)}))}function Mn(e){if(e.nodeType!==S.ELEMENT_NODE)return!0;if(!e||De(e))return!0;const t=C(e.childNodes);return!(!Me(e)&&t.length||function(e){return!!e&&Ce.includes(P(e))}(e)||e.hasAttribute(wt.TYPE)||ve(e))&&C(e.childNodes).every(Mn)}function vn(e){return e.parentNode}function wn(e,t){const n=new kt(t);e.setAttribute(wt.COLLAPSED,n.toString())}function Pn(e){if(e.mathml.length)return Nn(e);const t=En?Un(e):Ft();return e.mathml=[t],t}function xn(e){if(P(e)!==Ae.MFENCED)return e;const t=Ft();for(let n,r=0;n=e.attributes[r];r++)-1===["open","close","separators"].indexOf(n.name)&&t.setAttribute(n.name,n.value);return C(e.childNodes).forEach((function(e){t.appendChild(e)})),D(e,t),t}function Un(e){const t=M("mo"),n=(r=e.textContent,d.f.document.createTextNode(r));var r;return t.appendChild(n),Ut(t,e),t.setAttribute(wt.ADDED,"true"),t}function Fn(e,t){const n=e.type+(e.textContent?","+e.textContent:"");t.forEach((function(e){kn(e).setAttribute(wt.OPERATOR,n)}))}function kn(e){const t=C(e.childNodes);if(!t)return e;const n=t.filter((function(e){return!Mn(e)})),r=[];for(let e,t=0;e=n[t];t++)if(Me(e)&&e.getAttribute(wt.TYPE)!==J.PUNCTUATION){const t=kn(e);t&&t!==e&&r.push(t)}else r.push(e);return 1===r.length?r[0]:e}function Bn(e){return v(e.toString()).toString().replace(new RegExp(vt,"g"),"")}function qn(e,t){const n=!!t,r=t||[],o=e.parent,i=e.contentNodes.map((function(e){return e.id}));i.unshift("c");const s=[e.id,i];for(let t,i=0;t=e.childNodes[i];i++){const e=Nn(t);r.push(e);const i=kn(e);o&&!n&&i.setAttribute(wt.PARENT,o.id.toString()),s.push(t.id)}return s}!function(e){e.VALID="valid",e.INVALID="invalid",e.PRUNED="pruned"}(yn||(yn={}));class Hn{constructor(e){this.semantic=e}}class Gn extends Hn{static test(e){return!e.mathmlTree&&e.type===J.LINE&&e.role===ee.BINOMIAL}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){if(!this.semantic.childNodes.length)return this.mml;const e=this.semantic.childNodes[0];if(this.mml=Nn(e),this.mml.hasAttribute(wt.TYPE)){const e=Ft();D(this.mml,e),e.appendChild(this.mml),this.mml=e}return Ut(this.mml,this.semantic),this.mml}}class Vn extends Hn{static test(e){if(!e.mathmlTree||!e.childNodes.length)return!1;const t=P(e.mathmlTree),n=e.childNodes[0].role;return t===Ae.MSUBSUP&&n===ee.SUBSUP||t===Ae.MUNDEROVER&&n===ee.UNDEROVER}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=this.semantic.childNodes[0],t=e.childNodes[0],n=this.semantic.childNodes[1],r=e.childNodes[1],o=Nn(n),i=Nn(t),s=Nn(r);return Ut(this.mml,this.semantic),this.mml.setAttribute(wt.CHILDREN,xt([t,r,n])),[i,s,o].forEach((e=>kn(e).setAttribute(wt.PARENT,this.mml.getAttribute(wt.ID)))),this.mml.setAttribute(wt.TYPE,e.role),wn(this.mml,[this.semantic.id,[e.id,t.id,r.id],n.id]),this.mml}}class Yn extends Hn{static multiscriptIndex(e){return e.type===J.PUNCTUATED&&e.contentNodes[0].role===ee.DUMMY?qn(e):(Nn(e),e.id)}static createNone_(e){const t=M("none");return e&&Ut(t,e),t.setAttribute(wt.ADDED,"true"),t}constructor(e){super(e),this.mml=e.mathmlTree}completeMultiscript(e,t){const n=C(this.mml.childNodes).slice(1);let r=0;const o=e=>{for(const t of e){const e=n[r];if(e&&t===parseInt(e.getAttribute(wt.ID)))e.setAttribute(wt.PARENT,this.semantic.id.toString()),r++;else if(e&&t===parseInt(kn(e).getAttribute(wt.ID)))kn(e).setAttribute(wt.PARENT,this.semantic.id.toString()),r++;else{const n=this.semantic.querySelectorAll((e=>e.id===t));this.mml.insertBefore(Yn.createNone_(n[0]),e||null)}}};o(e),n[r]&&P(n[r])!==Ae.MPRESCRIPTS?this.mml.insertBefore(n[r],M("mprescripts")):r++,o(t)}}class Xn extends Yn{static test(e){if(!e.mathmlTree)return!1;return P(e.mathmlTree)===Ae.MMULTISCRIPTS&&(e.type===J.SUPERSCRIPT||e.type===J.SUBSCRIPT)}constructor(e){super(e)}getMathml(){let e,t,n;if(Ut(this.mml,this.semantic),this.semantic.childNodes[0]&&this.semantic.childNodes[0].role===ee.SUBSUP){const r=this.semantic.childNodes[0];e=r.childNodes[0],t=Yn.multiscriptIndex(this.semantic.childNodes[1]),n=Yn.multiscriptIndex(r.childNodes[1]);const o=[this.semantic.id,[r.id,e.id,n],t];wn(this.mml,o),this.mml.setAttribute(wt.TYPE,r.role),this.completeMultiscript(kt.interleaveIds(n,t),[])}else{e=this.semantic.childNodes[0],t=Yn.multiscriptIndex(this.semantic.childNodes[1]);const n=[this.semantic.id,e.id,t];wn(this.mml,n)}const r=kt.collapsedLeafs(n||[],t);return kn(Nn(e)).setAttribute(wt.PARENT,this.semantic.id.toString()),r.unshift(e.id),this.mml.setAttribute(wt.CHILDREN,r.join(",")),this.mml}}class jn extends Yn{static test(e){return!!e.mathmlTree&&e.type===J.TENSOR}constructor(e){super(e)}getMathml(){Nn(this.semantic.childNodes[0]);const e=Yn.multiscriptIndex(this.semantic.childNodes[1]),t=Yn.multiscriptIndex(this.semantic.childNodes[2]),n=Yn.multiscriptIndex(this.semantic.childNodes[3]),r=Yn.multiscriptIndex(this.semantic.childNodes[4]);Ut(this.mml,this.semantic);const o=[this.semantic.id,this.semantic.childNodes[0].id,e,t,n,r];wn(this.mml,o);const i=kt.collapsedLeafs(e,t,n,r);return i.unshift(this.semantic.childNodes[0].id),this.mml.setAttribute(wt.CHILDREN,i.join(",")),this.completeMultiscript(kt.interleaveIds(n,r),kt.interleaveIds(e,t)),this.mml}}class Wn extends Hn{static test(e){return!(!e.mathmlTree||!e.fencePointer||e.mathmlTree.getAttribute("data-semantic-type"))}static makeEmptyNode_(e){const t=Ft(),n=new Be(e);return n.type=J.EMPTY,n.mathmlTree=t,n}static fencedMap_(e,t){t[e.id]=e.mathmlTree,e.embellished&&Wn.fencedMap_(e.childNodes[0],t)}constructor(e){super(e),this.fenced=null,this.fencedMml=null,this.fencedMmlNodes=[],this.ofence=null,this.ofenceMml=null,this.ofenceMap={},this.cfence=null,this.cfenceMml=null,this.cfenceMap={},this.parentCleanup=[]}getMathml(){this.getFenced_(),this.fencedMml=Nn(this.fenced),this.getFencesMml_(),this.fenced.type!==J.EMPTY||this.fencedMml.parentNode||(this.fencedMml.setAttribute(wt.ADDED,"true"),this.cfenceMml.parentNode.insertBefore(this.fencedMml,this.cfenceMml)),this.getFencedMml_();return this.rewrite_()}fencedElement(e){return e.type===J.FENCED||e.type===J.MATRIX||e.type===J.VECTOR}getFenced_(){let e=this.semantic;for(;!this.fencedElement(e);)e=e.childNodes[0];this.fenced=e.childNodes[0],this.ofence=e.contentNodes[0],this.cfence=e.contentNodes[1],Wn.fencedMap_(this.ofence,this.ofenceMap),Wn.fencedMap_(this.cfence,this.cfenceMap)}getFencedMml_(){let e=this.ofenceMml.nextSibling;for(e=e===this.fencedMml?e:this.fencedMml;e&&e!==this.cfenceMml;)this.fencedMmlNodes.push(e),e=e.nextSibling}getFencesMml_(){let e=this.semantic;const t=Object.keys(this.ofenceMap),n=Object.keys(this.cfenceMap);for(;!(this.ofenceMml&&this.cfenceMml||e===this.fenced);)-1===t.indexOf(e.fencePointer)||this.ofenceMml||(this.ofenceMml=e.mathmlTree),-1===n.indexOf(e.fencePointer)||this.cfenceMml||(this.cfenceMml=e.mathmlTree),e=e.childNodes[0];this.ofenceMml||(this.ofenceMml=this.ofence.mathmlTree),this.cfenceMml||(this.cfenceMml=this.cfence.mathmlTree),this.ofenceMml&&(this.ofenceMml=_n(this.ofenceMml)),this.cfenceMml&&(this.cfenceMml=_n(this.cfenceMml))}rewrite_(){let e=this.semantic,t=null;const n=this.introduceNewLayer_();for(Ut(n,this.fenced.parent);!this.fencedElement(e);){const r=e.mathmlTree,o=this.specialCase_(e,r);if(o)e=o;else{Ut(r,e);const t=[];for(let n,r=1;n=e.childNodes[r];r++)t.push(Nn(n));e=e.childNodes[0]}const i=M("dummy"),s=r.childNodes[0];D(r,i),D(n,r),D(r.childNodes[0],n),D(i,s),t||(t=r)}return Nn(this.ofence),Nn(this.cfence),this.cleanupParents_(),t||n}specialCase_(e,t){const n=P(t);let r,o=null;if(n===Ae.MSUBSUP?(o=e.childNodes[0],r=Vn):n===Ae.MMULTISCRIPTS&&(e.type===J.SUPERSCRIPT||e.type===J.SUBSCRIPT?r=Xn:e.type===J.TENSOR&&(r=jn),o=r&&e.childNodes[0]&&e.childNodes[0].role===ee.SUBSUP?e.childNodes[0]:e),!o)return null;const i=o.childNodes[0],s=Wn.makeEmptyNode_(i.id);return o.childNodes[0]=s,t=new r(e).getMathml(),o.childNodes[0]=i,this.parentCleanup.push(t),o.childNodes[0]}introduceNewLayer_(){const e=this.fullFence(this.ofenceMml),t=this.fullFence(this.cfenceMml);let n=Ft();if(D(this.fencedMml,n),this.fencedMmlNodes.forEach((e=>n.appendChild(e))),n.insertBefore(e,this.fencedMml),n.appendChild(t),!n.parentNode){const e=Ft();for(;n.childNodes.length>0;)e.appendChild(n.childNodes[0]);n.appendChild(e),n=e}return n}fullFence(e){const t=this.fencedMml.parentNode;let n=e;for(;n.parentNode&&n.parentNode!==t;)n=n.parentNode;return n}cleanupParents_(){this.parentCleanup.forEach((function(e){const t=e.childNodes[1].getAttribute(wt.PARENT);e.childNodes[0].setAttribute(wt.PARENT,t)}))}}class Kn extends Hn{static test(e){return!!e.mathmlTree&&e.hasAnnotation("Emph","top")}constructor(e){super(e),this.mrows=[],this.mml=e.mathmlTree}getMathml(){if(this.recurseToTable(this.semantic),this.mrows.length){const e=Ft();this.mml.parentNode.insertBefore(e,this.mml);for(const t of this.mrows)e.appendChild(t);e.appendChild(this.mml)}return this.mml}recurseToTable(e){var t,n;if(e.hasAnnotation("Emph","top")||e.hasAnnotation("Emph","fence")||!e.hasAnnotation("Emph","left")&&!e.hasAnnotation("Emph","right")){if(!e.mathmlTree||P(e.mathmlTree)===Ae.MTABLE&&(null===(t=e.annotation.Emph)||void 0===t?void 0:t.length)&&"table"!==e.annotation.Emph[0]){const t=Ft();Ut(t,e),this.mrows.unshift(t)}else{if(P(e.mathmlTree)===Ae.MTABLE&&(null===(n=e.annotation.Emph)||void 0===n?void 0:n.length)&&"table"===e.annotation.Emph[0])return void this.finalizeTable(e);Ut(e.mathmlTree,e)}if(e.childNodes.forEach(this.recurseToTable.bind(this)),e.textContent||"punctuated"===e.type){const t=e.contentNodes.map((e=>{const t=Pn(e);return t.hasAttribute("data-semantic-added")?this.mrows.unshift(t):this.recurseToTable(e),t}));Fn(e,t)}else e.contentNodes.forEach(this.recurseToTable.bind(this))}else Nn(e)}finalizeTable(e){Ut(e.mathmlTree,e),e.contentNodes.forEach((e=>{Nn(e)})),e.childNodes.forEach((e=>{Nn(e)}))}}class zn extends Hn{static test(e){if(!e.mathmlTree||!e.childNodes.length)return!1;const t=P(e.mathmlTree),n=e.type;return(n===J.LIMUPPER||n===J.LIMLOWER)&&(t===Ae.MSUBSUP||t===Ae.MUNDEROVER)||n===J.LIMBOTH&&(t===Ae.MSUB||t===Ae.MUNDER||t===Ae.MSUP||t===Ae.MOVER)}static walkTree_(e){e&&Nn(e)}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=this.semantic.childNodes;return this.semantic.type!==J.LIMBOTH&&this.mml.childNodes.length>=3&&(this.mml=gn([this.mml],this.semantic)),Ut(this.mml,this.semantic),e[0].mathmlTree||(e[0].mathmlTree=this.semantic.mathmlTree),e.forEach(zn.walkTree_),this.mml}}class Qn extends Hn{static test(e){return!!e.mathmlTree&&e.type===J.LINE}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){return this.semantic.contentNodes.length&&Nn(this.semantic.contentNodes[0]),this.semantic.childNodes.length&&Nn(this.semantic.childNodes[0]),Ut(this.mml,this.semantic),this.mml}}class $n extends Hn{static test(e){return!!e.mathmlTree&&(e.type===J.INFERENCE||e.type===J.PREMISES)}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){return this.semantic.childNodes.length?(this.semantic.contentNodes.forEach((function(e){Nn(e),Ut(e.mathmlTree,e)})),this.semantic.childNodes.forEach((function(e){Nn(e)})),Ut(this.mml,this.semantic),this.mml.getAttribute("data-semantic-id")===this.mml.getAttribute("data-semantic-parent")&&this.mml.removeAttribute("data-semantic-parent"),this.mml):this.mml}}class Jn extends Hn{static test(e){return e.type===J.MATRIX||e.type===J.VECTOR||e.type===J.CASES}constructor(e){super(e),this.inner=[],this.mml=e.mathmlTree}getMathml(){const e=Pn(this.semantic.contentNodes[0]),t=this.semantic.contentNodes[1]?Pn(this.semantic.contentNodes[1]):null;if(this.inner=this.semantic.childNodes.map(Nn),this.mml)if(P(this.mml)===Ae.MFENCED){const n=this.mml.childNodes;this.mml.insertBefore(e,n[0]||null),t&&this.mml.appendChild(t),this.mml=xn(this.mml)}else{const n=[e,this.mml];t&&n.push(t),this.mml=gn(n,this.semantic)}else this.mml=gn([e].concat(this.inner,[t]),this.semantic);return Ut(this.mml,this.semantic),this.mml}}class Zn extends Hn{static test(e){return e.type===J.PUNCTUATED&&(e.role===ee.TEXT||e.contentNodes.every((e=>e.role===ee.DUMMY)))}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=[],t=qn(this.semantic,e);return this.mml=gn(e,this.semantic),Ut(this.mml,this.semantic),this.mml.removeAttribute(wt.CONTENT),wn(this.mml,t),this.mml}}function er(e,t){const n=e.cloneNode(!0);return function(e,t,n){return p.getInstance().generate((()=>["Original MathML",Bn(e)])),mn.clear(),Nn(t.root),n.structure&&e.setAttribute(wt.STRUCTURE,kt.fromStructure(e,t,n).toString()),p.getInstance().generate((()=>["Semantic Tree\n",Bn(t),"Semantically enriched MathML\n",Bn(e)])),e}(n,fn(n,t),t)}pn.push({test:zn.test,constr:e=>new zn(e)},{test:Wn.test,constr:e=>new Wn(e)},{test:Vn.test,constr:e=>new Vn(e)},{test:jn.test,constr:e=>new jn(e)},{test:Xn.test,constr:e=>new Xn(e)},{test:Qn.test,constr:e=>new Qn(e)},{test:Gn.test,constr:e=>new Gn(e)},{test:$n.test,constr:e=>new $n(e)},{test:Kn.test,constr:e=>new Kn(e)},{test:Jn.test,constr:e=>new Jn(e)},{test:Zn.test,constr:e=>new Zn(e)});const tr=new s({AbsoluteValue:["Auto","AbsEnd","Cardinality","Determinant"],Bar:["Auto","Conjugate"],Caps:["Auto","SayCaps"],CombinationPermutation:["Auto","ChoosePermute"],Currency:["Auto","Position","Prefix"],Ellipses:["Auto","AndSoOn"],Enclosed:["Auto","EndEnclose"],Exponent:["Auto","AfterPower","Ordinal","OrdinalPower","Exponent"],Fraction:["Auto","EndFrac","FracOver","General","GeneralEndFrac","Ordinal","Over","OverEndFrac","Per"],Functions:["Auto","None","Reciprocal"],Inference:["Auto","Long"],ImpliedTimes:["Auto","MoreImpliedTimes","None"],Log:["Auto","LnAsNaturalLog"],Matrix:["Auto","Combinatoric","EndMatrix","EndVector","SilentColNum","SpeakColNum","Vector"],MultiLineLabel:["Auto","Case","Constraint","Equation","Line","None","Row","Step"],MultiLineOverview:["Auto","None"],MultiLinePausesBetweenColumns:["Auto","Long","Short"],MultsymbolDot:["Auto","Dot"],MultsymbolX:["Auto","By","Cross"],Paren:["Auto","CoordPoint","Interval","Silent","Speak","SpeakNestingLevel"],Prime:["Auto","Angle","Length"],Roots:["Auto","PosNegSqRoot","PosNegSqRootEnd","RootEnd"],SetMemberSymbol:["Auto","Belongs","Element","Member","In"],Sets:["Auto","SilentBracket","woAll"],TriangleSymbol:["Auto","Delta"],Trig:["Auto","ArcTrig","TrigInverse","Reciprocal"],VerticalLine:["Auto","Divides","Given","SuchThat"]}),nr="Auto";function rr(e){const t=e.split(":"),n={},r=tr.getProperties(),o=Object.keys(r);for(let e,i=0;e=t[i];i++){const t=e.split("_");if(-1===o.indexOf(t[0]))continue;const i=t[1];i&&i!==nr&&-1!==r[t[0]].indexOf(i)&&(n[t[0]]=t[1])}return n}function or(e){const t=Object.keys(e),n=[];for(let r=0;r<t.length;r++)n.push(t[r]+"_"+e[t[r]]);return n.length?n.join(":"):a.DEFAULT_VALUE}const ir=E.u.LOCALES,sr=e=>I.getInstance().setup(e),ar=()=>I.getInstance().json(),cr=e=>function(e,t){const n=_(e);try{return er(n,t)}catch(e){return console.error(e),n}}(e,I.getInstance().options),lr=_,ur=function(e,t,n){if("default"===e)return t+"_"+n;const r=rr(e);return r[t]=n,or(r)},hr=rr,dr=or;MathJax.loader&&MathJax.loader.checkVersion("a11y/sre","4.0.0","a11y"),n({_:{a11y:{sre_ts:e}}})})()})();